var mR=Object.defineProperty;var pR=(e,t,r)=>t in e?mR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kr=(e,t,r)=>pR(e,typeof t!="symbol"?t+"":t,r);function dS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fS={exports:{}},Pp={},hS={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=Symbol.for("react.element"),gR=Symbol.for("react.portal"),xR=Symbol.for("react.fragment"),yR=Symbol.for("react.strict_mode"),vR=Symbol.for("react.profiler"),bR=Symbol.for("react.provider"),wR=Symbol.for("react.context"),NR=Symbol.for("react.forward_ref"),AR=Symbol.for("react.suspense"),CR=Symbol.for("react.memo"),jR=Symbol.for("react.lazy"),tN=Symbol.iterator;function SR(e){return e===null||typeof e!="object"?null:(e=tN&&e[tN]||e["@@iterator"],typeof e=="function"?e:null)}var mS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pS=Object.assign,gS={};function Qd(e,t,r){this.props=e,this.context=t,this.refs=gS,this.updater=r||mS}Qd.prototype.isReactComponent={};Qd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xS(){}xS.prototype=Qd.prototype;function gb(e,t,r){this.props=e,this.context=t,this.refs=gS,this.updater=r||mS}var xb=gb.prototype=new xS;xb.constructor=gb;pS(xb,Qd.prototype);xb.isPureReactComponent=!0;var rN=Array.isArray,yS=Object.prototype.hasOwnProperty,yb={current:null},vS={key:!0,ref:!0,__self:!0,__source:!0};function bS(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)yS.call(t,n)&&!vS.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];i.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:Jh,type:e,key:a,ref:o,props:i,_owner:yb.current}}function ER(e,t){return{$$typeof:Jh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jh}function kR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nN=/\/+/g;function bx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kR(""+e.key):t.toString(36)}function M1(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jh:case gR:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+bx(o,0):n,rN(i)?(r="",e!=null&&(r=e.replace(nN,"$&/")+"/"),M1(i,t,r,"",function(f){return f})):i!=null&&(vb(i)&&(i=ER(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nN,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",rN(e))for(var c=0;c<e.length;c++){a=e[c];var d=n+bx(a,c);o+=M1(a,t,r,d,i)}else if(d=SR(e),typeof d=="function")for(e=d.call(e),c=0;!(a=e.next()).done;)a=a.value,d=n+bx(a,c++),o+=M1(a,t,r,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function q0(e,t,r){if(e==null)return e;var n=[],i=0;return M1(e,n,"","",function(a){return t.call(r,a,i++)}),n}function TR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fa={current:null},B1={transition:null},_R={ReactCurrentDispatcher:fa,ReactCurrentBatchConfig:B1,ReactCurrentOwner:yb};function wS(){throw Error("act(...) is not supported in production builds of React.")}fr.Children={map:q0,forEach:function(e,t,r){q0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return q0(e,function(){t++}),t},toArray:function(e){return q0(e,function(t){return t})||[]},only:function(e){if(!vb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fr.Component=Qd;fr.Fragment=xR;fr.Profiler=vR;fr.PureComponent=gb;fr.StrictMode=yR;fr.Suspense=AR;fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_R;fr.act=wS;fr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pS({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=yb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)yS.call(t,d)&&!vS.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){c=Array(d);for(var f=0;f<d;f++)c[f]=arguments[f+2];n.children=c}return{$$typeof:Jh,type:e.type,key:i,ref:a,props:n,_owner:o}};fr.createContext=function(e){return e={$$typeof:wR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bR,_context:e},e.Consumer=e};fr.createElement=bS;fr.createFactory=function(e){var t=bS.bind(null,e);return t.type=e,t};fr.createRef=function(){return{current:null}};fr.forwardRef=function(e){return{$$typeof:NR,render:e}};fr.isValidElement=vb;fr.lazy=function(e){return{$$typeof:jR,_payload:{_status:-1,_result:e},_init:TR}};fr.memo=function(e,t){return{$$typeof:CR,type:e,compare:t===void 0?null:t}};fr.startTransition=function(e){var t=B1.transition;B1.transition={};try{e()}finally{B1.transition=t}};fr.unstable_act=wS;fr.useCallback=function(e,t){return fa.current.useCallback(e,t)};fr.useContext=function(e){return fa.current.useContext(e)};fr.useDebugValue=function(){};fr.useDeferredValue=function(e){return fa.current.useDeferredValue(e)};fr.useEffect=function(e,t){return fa.current.useEffect(e,t)};fr.useId=function(){return fa.current.useId()};fr.useImperativeHandle=function(e,t,r){return fa.current.useImperativeHandle(e,t,r)};fr.useInsertionEffect=function(e,t){return fa.current.useInsertionEffect(e,t)};fr.useLayoutEffect=function(e,t){return fa.current.useLayoutEffect(e,t)};fr.useMemo=function(e,t){return fa.current.useMemo(e,t)};fr.useReducer=function(e,t,r){return fa.current.useReducer(e,t,r)};fr.useRef=function(e){return fa.current.useRef(e)};fr.useState=function(e){return fa.current.useState(e)};fr.useSyncExternalStore=function(e,t,r){return fa.current.useSyncExternalStore(e,t,r)};fr.useTransition=function(){return fa.current.useTransition()};fr.version="18.3.1";hS.exports=fr;var I=hS.exports;const Dn=Oo(I),NS=dS({__proto__:null,default:Dn},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR=I,PR=Symbol.for("react.element"),OR=Symbol.for("react.fragment"),RR=Object.prototype.hasOwnProperty,DR=IR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LR={key:!0,ref:!0,__self:!0,__source:!0};function AS(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)RR.call(t,n)&&!LR.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:PR,type:e,key:a,ref:o,props:i,_owner:DR.current}}Pp.Fragment=OR;Pp.jsx=AS;Pp.jsxs=AS;fS.exports=Pp;var s=fS.exports,ry={},CS={exports:{}},rs={},jS={exports:{}},SS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(me,Ne){var Ie=me.length;me.push(Ne);e:for(;0<Ie;){var je=Ie-1>>>1,q=me[je];if(0<i(q,Ne))me[je]=Ne,me[Ie]=q,Ie=je;else break e}}function r(me){return me.length===0?null:me[0]}function n(me){if(me.length===0)return null;var Ne=me[0],Ie=me.pop();if(Ie!==Ne){me[0]=Ie;e:for(var je=0,q=me.length,oe=q>>>1;je<oe;){var ne=2*(je+1)-1,ge=me[ne],xe=ne+1,_e=me[xe];if(0>i(ge,Ie))xe<q&&0>i(_e,ge)?(me[je]=_e,me[xe]=Ie,je=xe):(me[je]=ge,me[ne]=Ie,je=ne);else if(xe<q&&0>i(_e,Ie))me[je]=_e,me[xe]=Ie,je=xe;else break e}}return Ne}function i(me,Ne){var Ie=me.sortIndex-Ne.sortIndex;return Ie!==0?Ie:me.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],f=[],m=1,g=null,b=3,y=!1,w=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(me){for(var Ne=r(f);Ne!==null;){if(Ne.callback===null)n(f);else if(Ne.startTime<=me)n(f),Ne.sortIndex=Ne.expirationTime,t(d,Ne);else break;Ne=r(f)}}function P(me){if(A=!1,k(me),!w)if(r(d)!==null)w=!0,ye(W);else{var Ne=r(f);Ne!==null&&ve(P,Ne.startTime-me)}}function W(me,Ne){w=!1,A&&(A=!1,S(F),F=-1),y=!0;var Ie=b;try{for(k(Ne),g=r(d);g!==null&&(!(g.expirationTime>Ne)||me&&!M());){var je=g.callback;if(typeof je=="function"){g.callback=null,b=g.priorityLevel;var q=je(g.expirationTime<=Ne);Ne=e.unstable_now(),typeof q=="function"?g.callback=q:g===r(d)&&n(d),k(Ne)}else n(d);g=r(d)}if(g!==null)var oe=!0;else{var ne=r(f);ne!==null&&ve(P,ne.startTime-Ne),oe=!1}return oe}finally{g=null,b=Ie,y=!1}}var H=!1,$=null,F=-1,L=5,J=-1;function M(){return!(e.unstable_now()-J<L)}function z(){if($!==null){var me=e.unstable_now();J=me;var Ne=!0;try{Ne=$(!0,me)}finally{Ne?te():(H=!1,$=null)}}else H=!1}var te;if(typeof E=="function")te=function(){E(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Z=V.port2;V.port1.onmessage=z,te=function(){Z.postMessage(null)}}else te=function(){N(z,0)};function ye(me){$=me,H||(H=!0,te())}function ve(me,Ne){F=N(function(){me(e.unstable_now())},Ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(me){me.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,ye(W))},e.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<me?Math.floor(1e3/me):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(me){switch(b){case 1:case 2:case 3:var Ne=3;break;default:Ne=b}var Ie=b;b=Ne;try{return me()}finally{b=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(me,Ne){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var Ie=b;b=me;try{return Ne()}finally{b=Ie}},e.unstable_scheduleCallback=function(me,Ne,Ie){var je=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?je+Ie:je):Ie=je,me){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Ie+q,me={id:m++,callback:Ne,priorityLevel:me,startTime:Ie,expirationTime:q,sortIndex:-1},Ie>je?(me.sortIndex=Ie,t(f,me),r(d)===null&&me===r(f)&&(A?(S(F),F=-1):A=!0,ve(P,Ie-je))):(me.sortIndex=q,t(d,me),w||y||(w=!0,ye(W))),me},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(me){var Ne=b;return function(){var Ie=b;b=Ne;try{return me.apply(this,arguments)}finally{b=Ie}}}})(SS);jS.exports=SS;var MR=jS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR=I,Qa=MR;function at(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ES=new Set,mh={};function Ru(e,t){Od(e,t),Od(e+"Capture",t)}function Od(e,t){for(mh[e]=t,e=0;e<t.length;e++)ES.add(t[e])}var bl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ny=Object.prototype.hasOwnProperty,FR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iN={},aN={};function UR(e){return ny.call(aN,e)?!0:ny.call(iN,e)?!1:FR.test(e)?aN[e]=!0:(iN[e]=!0,!1)}function WR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zR(e,t,r,n){if(t===null||typeof t>"u"||WR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ha(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bi[e]=new ha(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bi[t]=new ha(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bi[e]=new ha(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bi[e]=new ha(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bi[e]=new ha(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bi[e]=new ha(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bi[e]=new ha(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bi[e]=new ha(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bi[e]=new ha(e,5,!1,e.toLowerCase(),null,!1,!1)});var bb=/[\-:]([a-z])/g;function wb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bb,wb);Bi[t]=new ha(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bb,wb);Bi[t]=new ha(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bb,wb);Bi[t]=new ha(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bi[e]=new ha(e,1,!1,e.toLowerCase(),null,!1,!1)});Bi.xlinkHref=new ha("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bi[e]=new ha(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nb(e,t,r,n){var i=Bi.hasOwnProperty(t)?Bi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zR(t,r,i,n)&&(r=null),n||i===null?UR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Il=BR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H0=Symbol.for("react.element"),td=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),Ab=Symbol.for("react.strict_mode"),iy=Symbol.for("react.profiler"),kS=Symbol.for("react.provider"),TS=Symbol.for("react.context"),Cb=Symbol.for("react.forward_ref"),ay=Symbol.for("react.suspense"),sy=Symbol.for("react.suspense_list"),jb=Symbol.for("react.memo"),Ql=Symbol.for("react.lazy"),_S=Symbol.for("react.offscreen"),sN=Symbol.iterator;function Ef(e){return e===null||typeof e!="object"?null:(e=sN&&e[sN]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,wx;function Kf(e){if(wx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wx=t&&t[1]||""}return`
`+wx+e}var Nx=!1;function Ax(e,t){if(!e||Nx)return"";Nx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var d=`
`+i[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=c);break}}}finally{Nx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Kf(e):""}function $R(e){switch(e.tag){case 5:return Kf(e.type);case 16:return Kf("Lazy");case 13:return Kf("Suspense");case 19:return Kf("SuspenseList");case 0:case 2:case 15:return e=Ax(e.type,!1),e;case 11:return e=Ax(e.type.render,!1),e;case 1:return e=Ax(e.type,!0),e;default:return""}}function oy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rd:return"Fragment";case td:return"Portal";case iy:return"Profiler";case Ab:return"StrictMode";case ay:return"Suspense";case sy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TS:return(e.displayName||"Context")+".Consumer";case kS:return(e._context.displayName||"Context")+".Provider";case Cb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jb:return t=e.displayName||null,t!==null?t:oy(e.type)||"Memo";case Ql:t=e._payload,e=e._init;try{return oy(e(t))}catch{}}return null}function qR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oy(t);case 8:return t===Ab?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HR(e){var t=IS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function V0(e){e._valueTracker||(e._valueTracker=HR(e))}function PS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=IS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function om(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ly(e,t){var r=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function oN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OS(e,t){t=t.checked,t!=null&&Nb(e,"checked",t,!1)}function cy(e,t){OS(e,t);var r=Nc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uy(e,t.type,r):t.hasOwnProperty("defaultValue")&&uy(e,t.type,Nc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function uy(e,t,r){(t!=="number"||om(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xf=Array.isArray;function yd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nc(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(at(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(at(92));if(Xf(r)){if(1<r.length)throw Error(at(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nc(r)}}function RS(e,t){var r=Nc(t.value),n=Nc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function uN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var G0,LS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(G0=G0||document.createElement("div"),G0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=G0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ph(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VR=["Webkit","ms","Moz","O"];Object.keys(th).forEach(function(e){VR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),th[t]=th[e]})});function MS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||th.hasOwnProperty(e)&&th[e]?(""+t).trim():t+"px"}function BS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=MS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var GR=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hy(e,t){if(t){if(GR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(at(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(at(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(at(61))}if(t.style!=null&&typeof t.style!="object")throw Error(at(62))}}function my(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var py=null;function Sb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gy=null,vd=null,bd=null;function dN(e){if(e=t0(e)){if(typeof gy!="function")throw Error(at(280));var t=e.stateNode;t&&(t=Mp(t),gy(e.stateNode,e.type,t))}}function FS(e){vd?bd?bd.push(e):bd=[e]:vd=e}function US(){if(vd){var e=vd,t=bd;if(bd=vd=null,dN(e),t)for(e=0;e<t.length;e++)dN(t[e])}}function WS(e,t){return e(t)}function zS(){}var Cx=!1;function $S(e,t,r){if(Cx)return e(t,r);Cx=!0;try{return WS(e,t,r)}finally{Cx=!1,(vd!==null||bd!==null)&&(zS(),US())}}function gh(e,t){var r=e.stateNode;if(r===null)return null;var n=Mp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(at(231,t,typeof r));return r}var xy=!1;if(bl)try{var kf={};Object.defineProperty(kf,"passive",{get:function(){xy=!0}}),window.addEventListener("test",kf,kf),window.removeEventListener("test",kf,kf)}catch{xy=!1}function KR(e,t,r,n,i,a,o,c,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(m){this.onError(m)}}var rh=!1,lm=null,cm=!1,yy=null,XR={onError:function(e){rh=!0,lm=e}};function YR(e,t,r,n,i,a,o,c,d){rh=!1,lm=null,KR.apply(XR,arguments)}function ZR(e,t,r,n,i,a,o,c,d){if(YR.apply(this,arguments),rh){if(rh){var f=lm;rh=!1,lm=null}else throw Error(at(198));cm||(cm=!0,yy=f)}}function Du(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fN(e){if(Du(e)!==e)throw Error(at(188))}function JR(e){var t=e.alternate;if(!t){if(t=Du(e),t===null)throw Error(at(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return fN(i),e;if(a===n)return fN(i),t;a=a.sibling}throw Error(at(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,c=i.child;c;){if(c===r){o=!0,r=i,n=a;break}if(c===n){o=!0,n=i,r=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===r){o=!0,r=a,n=i;break}if(c===n){o=!0,n=a,r=i;break}c=c.sibling}if(!o)throw Error(at(189))}}if(r.alternate!==n)throw Error(at(190))}if(r.tag!==3)throw Error(at(188));return r.stateNode.current===r?e:t}function HS(e){return e=JR(e),e!==null?VS(e):null}function VS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VS(e);if(t!==null)return t;e=e.sibling}return null}var GS=Qa.unstable_scheduleCallback,hN=Qa.unstable_cancelCallback,QR=Qa.unstable_shouldYield,e9=Qa.unstable_requestPaint,Ln=Qa.unstable_now,t9=Qa.unstable_getCurrentPriorityLevel,Eb=Qa.unstable_ImmediatePriority,KS=Qa.unstable_UserBlockingPriority,um=Qa.unstable_NormalPriority,r9=Qa.unstable_LowPriority,XS=Qa.unstable_IdlePriority,Op=null,jo=null;function n9(e){if(jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(Op,e,void 0,(e.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:s9,i9=Math.log,a9=Math.LN2;function s9(e){return e>>>=0,e===0?32:31-(i9(e)/a9|0)|0}var K0=64,X0=4194304;function Yf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~i;c!==0?n=Yf(c):(a&=o,a!==0&&(n=Yf(a)))}else o=r&~i,o!==0?n=Yf(o):a!==0&&(n=Yf(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zs(t),i=1<<r,n|=e[r],t&=~i;return n}function o9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Zs(a),c=1<<o,d=i[o];d===-1?(!(c&r)||c&n)&&(i[o]=o9(c,t)):d<=t&&(e.expiredLanes|=c),a&=~c}}function vy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YS(){var e=K0;return K0<<=1,!(K0&4194240)&&(K0=64),e}function jx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zs(t),e[t]=r}function c9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Zs(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function kb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Br=0;function ZS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JS,Tb,QS,e8,t8,by=!1,Y0=[],uc=null,dc=null,fc=null,xh=new Map,yh=new Map,rc=[],u9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mN(e,t){switch(e){case"focusin":case"focusout":uc=null;break;case"dragenter":case"dragleave":dc=null;break;case"mouseover":case"mouseout":fc=null;break;case"pointerover":case"pointerout":xh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(t.pointerId)}}function Tf(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=t0(t),t!==null&&Tb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function d9(e,t,r,n,i){switch(t){case"focusin":return uc=Tf(uc,e,t,r,n,i),!0;case"dragenter":return dc=Tf(dc,e,t,r,n,i),!0;case"mouseover":return fc=Tf(fc,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return xh.set(a,Tf(xh.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,yh.set(a,Tf(yh.get(a)||null,e,t,r,n,i)),!0}return!1}function r8(e){var t=nu(e.target);if(t!==null){var r=Du(t);if(r!==null){if(t=r.tag,t===13){if(t=qS(r),t!==null){e.blockedOn=t,t8(e.priority,function(){QS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function F1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);py=n,r.target.dispatchEvent(n),py=null}else return t=t0(r),t!==null&&Tb(t),e.blockedOn=r,!1;t.shift()}return!0}function pN(e,t,r){F1(e)&&r.delete(t)}function f9(){by=!1,uc!==null&&F1(uc)&&(uc=null),dc!==null&&F1(dc)&&(dc=null),fc!==null&&F1(fc)&&(fc=null),xh.forEach(pN),yh.forEach(pN)}function _f(e,t){e.blockedOn===t&&(e.blockedOn=null,by||(by=!0,Qa.unstable_scheduleCallback(Qa.unstable_NormalPriority,f9)))}function vh(e){function t(i){return _f(i,e)}if(0<Y0.length){_f(Y0[0],e);for(var r=1;r<Y0.length;r++){var n=Y0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(uc!==null&&_f(uc,e),dc!==null&&_f(dc,e),fc!==null&&_f(fc,e),xh.forEach(t),yh.forEach(t),r=0;r<rc.length;r++)n=rc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<rc.length&&(r=rc[0],r.blockedOn===null);)r8(r),r.blockedOn===null&&rc.shift()}var wd=Il.ReactCurrentBatchConfig,fm=!0;function h9(e,t,r,n){var i=Br,a=wd.transition;wd.transition=null;try{Br=1,_b(e,t,r,n)}finally{Br=i,wd.transition=a}}function m9(e,t,r,n){var i=Br,a=wd.transition;wd.transition=null;try{Br=4,_b(e,t,r,n)}finally{Br=i,wd.transition=a}}function _b(e,t,r,n){if(fm){var i=wy(e,t,r,n);if(i===null)Dx(e,t,n,hm,r),mN(e,n);else if(d9(i,e,t,r,n))n.stopPropagation();else if(mN(e,n),t&4&&-1<u9.indexOf(e)){for(;i!==null;){var a=t0(i);if(a!==null&&JS(a),a=wy(e,t,r,n),a===null&&Dx(e,t,n,hm,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Dx(e,t,n,null,r)}}var hm=null;function wy(e,t,r,n){if(hm=null,e=Sb(n),e=nu(e),e!==null)if(t=Du(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hm=e,null}function n8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t9()){case Eb:return 1;case KS:return 4;case um:case r9:return 16;case XS:return 536870912;default:return 16}default:return 16}}var ac=null,Ib=null,U1=null;function i8(){if(U1)return U1;var e,t=Ib,r=t.length,n,i="value"in ac?ac.value:ac.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return U1=i.slice(e,1<n?1-n:void 0)}function W1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Z0(){return!0}function gN(){return!1}function ns(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Z0:gN,this.isPropagationStopped=gN,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Z0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Z0)},persist:function(){},isPersistent:Z0}),t}var ef={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pb=ns(ef),e0=An({},ef,{view:0,detail:0}),p9=ns(e0),Sx,Ex,If,Rp=An({},e0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ob,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==If&&(If&&e.type==="mousemove"?(Sx=e.screenX-If.screenX,Ex=e.screenY-If.screenY):Ex=Sx=0,If=e),Sx)},movementY:function(e){return"movementY"in e?e.movementY:Ex}}),xN=ns(Rp),g9=An({},Rp,{dataTransfer:0}),x9=ns(g9),y9=An({},e0,{relatedTarget:0}),kx=ns(y9),v9=An({},ef,{animationName:0,elapsedTime:0,pseudoElement:0}),b9=ns(v9),w9=An({},ef,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N9=ns(w9),A9=An({},ef,{data:0}),yN=ns(A9),C9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S9[e])?!!t[e]:!1}function Ob(){return E9}var k9=An({},e0,{key:function(e){if(e.key){var t=C9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=W1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ob,charCode:function(e){return e.type==="keypress"?W1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?W1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T9=ns(k9),_9=An({},Rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vN=ns(_9),I9=An({},e0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ob}),P9=ns(I9),O9=An({},ef,{propertyName:0,elapsedTime:0,pseudoElement:0}),R9=ns(O9),D9=An({},Rp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L9=ns(D9),M9=[9,13,27,32],Rb=bl&&"CompositionEvent"in window,nh=null;bl&&"documentMode"in document&&(nh=document.documentMode);var B9=bl&&"TextEvent"in window&&!nh,a8=bl&&(!Rb||nh&&8<nh&&11>=nh),bN=" ",wN=!1;function s8(e,t){switch(e){case"keyup":return M9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nd=!1;function F9(e,t){switch(e){case"compositionend":return o8(t);case"keypress":return t.which!==32?null:(wN=!0,bN);case"textInput":return e=t.data,e===bN&&wN?null:e;default:return null}}function U9(e,t){if(nd)return e==="compositionend"||!Rb&&s8(e,t)?(e=i8(),U1=Ib=ac=null,nd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return a8&&t.locale!=="ko"?null:t.data;default:return null}}var W9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W9[e.type]:t==="textarea"}function l8(e,t,r,n){FS(n),t=mm(t,"onChange"),0<t.length&&(r=new Pb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ih=null,bh=null;function z9(e){v8(e,0)}function Dp(e){var t=sd(e);if(PS(t))return e}function $9(e,t){if(e==="change")return t}var c8=!1;if(bl){var Tx;if(bl){var _x="oninput"in document;if(!_x){var AN=document.createElement("div");AN.setAttribute("oninput","return;"),_x=typeof AN.oninput=="function"}Tx=_x}else Tx=!1;c8=Tx&&(!document.documentMode||9<document.documentMode)}function CN(){ih&&(ih.detachEvent("onpropertychange",u8),bh=ih=null)}function u8(e){if(e.propertyName==="value"&&Dp(bh)){var t=[];l8(t,bh,e,Sb(e)),$S(z9,t)}}function q9(e,t,r){e==="focusin"?(CN(),ih=t,bh=r,ih.attachEvent("onpropertychange",u8)):e==="focusout"&&CN()}function H9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dp(bh)}function V9(e,t){if(e==="click")return Dp(t)}function G9(e,t){if(e==="input"||e==="change")return Dp(t)}function K9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qs=typeof Object.is=="function"?Object.is:K9;function wh(e,t){if(Qs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ny.call(t,i)||!Qs(e[i],t[i]))return!1}return!0}function jN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function SN(e,t){var r=jN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jN(r)}}function d8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?d8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function f8(){for(var e=window,t=om();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=om(e.document)}return t}function Db(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function X9(e){var t=f8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&d8(r.ownerDocument.documentElement,r)){if(n!==null&&Db(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=SN(r,a);var o=SN(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y9=bl&&"documentMode"in document&&11>=document.documentMode,id=null,Ny=null,ah=null,Ay=!1;function EN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ay||id==null||id!==om(n)||(n=id,"selectionStart"in n&&Db(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ah&&wh(ah,n)||(ah=n,n=mm(Ny,"onSelect"),0<n.length&&(t=new Pb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=id)))}function J0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ad={animationend:J0("Animation","AnimationEnd"),animationiteration:J0("Animation","AnimationIteration"),animationstart:J0("Animation","AnimationStart"),transitionend:J0("Transition","TransitionEnd")},Ix={},h8={};bl&&(h8=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function Lp(e){if(Ix[e])return Ix[e];if(!ad[e])return e;var t=ad[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in h8)return Ix[e]=t[r];return e}var m8=Lp("animationend"),p8=Lp("animationiteration"),g8=Lp("animationstart"),x8=Lp("transitionend"),y8=new Map,kN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kc(e,t){y8.set(e,t),Ru(t,[e])}for(var Px=0;Px<kN.length;Px++){var Ox=kN[Px],Z9=Ox.toLowerCase(),J9=Ox[0].toUpperCase()+Ox.slice(1);kc(Z9,"on"+J9)}kc(m8,"onAnimationEnd");kc(p8,"onAnimationIteration");kc(g8,"onAnimationStart");kc("dblclick","onDoubleClick");kc("focusin","onFocus");kc("focusout","onBlur");kc(x8,"onTransitionEnd");Od("onMouseEnter",["mouseout","mouseover"]);Od("onMouseLeave",["mouseout","mouseover"]);Od("onPointerEnter",["pointerout","pointerover"]);Od("onPointerLeave",["pointerout","pointerover"]);Ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zf));function TN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ZR(n,t,void 0,e),e.currentTarget=null}function v8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],d=c.instance,f=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;TN(i,c,f),a=d}else for(o=0;o<n.length;o++){if(c=n[o],d=c.instance,f=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;TN(i,c,f),a=d}}}if(cm)throw e=yy,cm=!1,yy=null,e}function nn(e,t){var r=t[ky];r===void 0&&(r=t[ky]=new Set);var n=e+"__bubble";r.has(n)||(b8(t,e,2,!1),r.add(n))}function Rx(e,t,r){var n=0;t&&(n|=4),b8(r,e,n,t)}var Q0="_reactListening"+Math.random().toString(36).slice(2);function Nh(e){if(!e[Q0]){e[Q0]=!0,ES.forEach(function(r){r!=="selectionchange"&&(Q9.has(r)||Rx(r,!1,e),Rx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Q0]||(t[Q0]=!0,Rx("selectionchange",!1,t))}}function b8(e,t,r,n){switch(n8(t)){case 1:var i=h9;break;case 4:i=m9;break;default:i=_b}r=i.bind(null,t,r,e),i=void 0,!xy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Dx(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;o=o.return}for(;c!==null;){if(o=nu(c),o===null)return;if(d=o.tag,d===5||d===6){n=a=o;continue e}c=c.parentNode}}n=n.return}$S(function(){var f=a,m=Sb(r),g=[];e:{var b=y8.get(e);if(b!==void 0){var y=Pb,w=e;switch(e){case"keypress":if(W1(r)===0)break e;case"keydown":case"keyup":y=T9;break;case"focusin":w="focus",y=kx;break;case"focusout":w="blur",y=kx;break;case"beforeblur":case"afterblur":y=kx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=xN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=x9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=P9;break;case m8:case p8:case g8:y=b9;break;case x8:y=R9;break;case"scroll":y=p9;break;case"wheel":y=L9;break;case"copy":case"cut":case"paste":y=N9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vN}var A=(t&4)!==0,N=!A&&e==="scroll",S=A?b!==null?b+"Capture":null:b;A=[];for(var E=f,k;E!==null;){k=E;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,S!==null&&(P=gh(E,S),P!=null&&A.push(Ah(E,P,k)))),N)break;E=E.return}0<A.length&&(b=new y(b,w,null,r,m),g.push({event:b,listeners:A}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",b&&r!==py&&(w=r.relatedTarget||r.fromElement)&&(nu(w)||w[wl]))break e;if((y||b)&&(b=m.window===m?m:(b=m.ownerDocument)?b.defaultView||b.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=f,w=w?nu(w):null,w!==null&&(N=Du(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=f),y!==w)){if(A=xN,P="onMouseLeave",S="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(A=vN,P="onPointerLeave",S="onPointerEnter",E="pointer"),N=y==null?b:sd(y),k=w==null?b:sd(w),b=new A(P,E+"leave",y,r,m),b.target=N,b.relatedTarget=k,P=null,nu(m)===f&&(A=new A(S,E+"enter",w,r,m),A.target=k,A.relatedTarget=N,P=A),N=P,y&&w)t:{for(A=y,S=w,E=0,k=A;k;k=Gu(k))E++;for(k=0,P=S;P;P=Gu(P))k++;for(;0<E-k;)A=Gu(A),E--;for(;0<k-E;)S=Gu(S),k--;for(;E--;){if(A===S||S!==null&&A===S.alternate)break t;A=Gu(A),S=Gu(S)}A=null}else A=null;y!==null&&_N(g,b,y,A,!1),w!==null&&N!==null&&_N(g,N,w,A,!0)}}e:{if(b=f?sd(f):window,y=b.nodeName&&b.nodeName.toLowerCase(),y==="select"||y==="input"&&b.type==="file")var W=$9;else if(NN(b))if(c8)W=G9;else{W=H9;var H=q9}else(y=b.nodeName)&&y.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(W=V9);if(W&&(W=W(e,f))){l8(g,W,r,m);break e}H&&H(e,b,f),e==="focusout"&&(H=b._wrapperState)&&H.controlled&&b.type==="number"&&uy(b,"number",b.value)}switch(H=f?sd(f):window,e){case"focusin":(NN(H)||H.contentEditable==="true")&&(id=H,Ny=f,ah=null);break;case"focusout":ah=Ny=id=null;break;case"mousedown":Ay=!0;break;case"contextmenu":case"mouseup":case"dragend":Ay=!1,EN(g,r,m);break;case"selectionchange":if(Y9)break;case"keydown":case"keyup":EN(g,r,m)}var $;if(Rb)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else nd?s8(e,r)&&(F="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(a8&&r.locale!=="ko"&&(nd||F!=="onCompositionStart"?F==="onCompositionEnd"&&nd&&($=i8()):(ac=m,Ib="value"in ac?ac.value:ac.textContent,nd=!0)),H=mm(f,F),0<H.length&&(F=new yN(F,e,null,r,m),g.push({event:F,listeners:H}),$?F.data=$:($=o8(r),$!==null&&(F.data=$)))),($=B9?F9(e,r):U9(e,r))&&(f=mm(f,"onBeforeInput"),0<f.length&&(m=new yN("onBeforeInput","beforeinput",null,r,m),g.push({event:m,listeners:f}),m.data=$))}v8(g,t)})}function Ah(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mm(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gh(e,r),a!=null&&n.unshift(Ah(e,a,i)),a=gh(e,t),a!=null&&n.push(Ah(e,a,i))),e=e.return}return n}function Gu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _N(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var c=r,d=c.alternate,f=c.stateNode;if(d!==null&&d===n)break;c.tag===5&&f!==null&&(c=f,i?(d=gh(r,a),d!=null&&o.unshift(Ah(r,d,c))):i||(d=gh(r,a),d!=null&&o.push(Ah(r,d,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var eD=/\r\n?/g,tD=/\u0000|\uFFFD/g;function IN(e){return(typeof e=="string"?e:""+e).replace(eD,`
`).replace(tD,"")}function e1(e,t,r){if(t=IN(t),IN(e)!==t&&r)throw Error(at(425))}function pm(){}var Cy=null,jy=null;function Sy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ey=typeof setTimeout=="function"?setTimeout:void 0,rD=typeof clearTimeout=="function"?clearTimeout:void 0,PN=typeof Promise=="function"?Promise:void 0,nD=typeof queueMicrotask=="function"?queueMicrotask:typeof PN<"u"?function(e){return PN.resolve(null).then(e).catch(iD)}:Ey;function iD(e){setTimeout(function(){throw e})}function Lx(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),vh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);vh(t)}function hc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ON(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tf=Math.random().toString(36).slice(2),No="__reactFiber$"+tf,Ch="__reactProps$"+tf,wl="__reactContainer$"+tf,ky="__reactEvents$"+tf,aD="__reactListeners$"+tf,sD="__reactHandles$"+tf;function nu(e){var t=e[No];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wl]||r[No]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ON(e);e!==null;){if(r=e[No])return r;e=ON(e)}return t}e=r,r=e.parentNode}return null}function t0(e){return e=e[No]||e[wl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(at(33))}function Mp(e){return e[Ch]||null}var Ty=[],od=-1;function Tc(e){return{current:e}}function ln(e){0>od||(e.current=Ty[od],Ty[od]=null,od--)}function Jr(e,t){od++,Ty[od]=e.current,e.current=t}var Ac={},Qi=Tc(Ac),Sa=Tc(!1),vu=Ac;function Rd(e,t){var r=e.type.contextTypes;if(!r)return Ac;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ea(e){return e=e.childContextTypes,e!=null}function gm(){ln(Sa),ln(Qi)}function RN(e,t,r){if(Qi.current!==Ac)throw Error(at(168));Jr(Qi,t),Jr(Sa,r)}function w8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(at(108,qR(e)||"Unknown",i));return An({},r,n)}function xm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ac,vu=Qi.current,Jr(Qi,e),Jr(Sa,Sa.current),!0}function DN(e,t,r){var n=e.stateNode;if(!n)throw Error(at(169));r?(e=w8(e,t,vu),n.__reactInternalMemoizedMergedChildContext=e,ln(Sa),ln(Qi),Jr(Qi,e)):ln(Sa),Jr(Sa,r)}var cl=null,Bp=!1,Mx=!1;function N8(e){cl===null?cl=[e]:cl.push(e)}function oD(e){Bp=!0,N8(e)}function _c(){if(!Mx&&cl!==null){Mx=!0;var e=0,t=Br;try{var r=cl;for(Br=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}cl=null,Bp=!1}catch(i){throw cl!==null&&(cl=cl.slice(e+1)),GS(Eb,_c),i}finally{Br=t,Mx=!1}}return null}var ld=[],cd=0,ym=null,vm=0,vs=[],bs=0,bu=null,fl=1,hl="";function Xc(e,t){ld[cd++]=vm,ld[cd++]=ym,ym=e,vm=t}function A8(e,t,r){vs[bs++]=fl,vs[bs++]=hl,vs[bs++]=bu,bu=e;var n=fl;e=hl;var i=32-Zs(n)-1;n&=~(1<<i),r+=1;var a=32-Zs(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,fl=1<<32-Zs(t)+i|r<<i|n,hl=a+e}else fl=1<<a|r<<i|n,hl=e}function Lb(e){e.return!==null&&(Xc(e,1),A8(e,1,0))}function Mb(e){for(;e===ym;)ym=ld[--cd],ld[cd]=null,vm=ld[--cd],ld[cd]=null;for(;e===bu;)bu=vs[--bs],vs[bs]=null,hl=vs[--bs],vs[bs]=null,fl=vs[--bs],vs[bs]=null}var Ya=null,Ka=null,pn=!1,Gs=null;function C8(e,t){var r=Ns(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function LN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ya=e,Ka=hc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ya=e,Ka=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bu!==null?{id:fl,overflow:hl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ns(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ya=e,Ka=null,!0):!1;default:return!1}}function _y(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iy(e){if(pn){var t=Ka;if(t){var r=t;if(!LN(e,t)){if(_y(e))throw Error(at(418));t=hc(r.nextSibling);var n=Ya;t&&LN(e,t)?C8(n,r):(e.flags=e.flags&-4097|2,pn=!1,Ya=e)}}else{if(_y(e))throw Error(at(418));e.flags=e.flags&-4097|2,pn=!1,Ya=e}}}function MN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ya=e}function t1(e){if(e!==Ya)return!1;if(!pn)return MN(e),pn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sy(e.type,e.memoizedProps)),t&&(t=Ka)){if(_y(e))throw j8(),Error(at(418));for(;t;)C8(e,t),t=hc(t.nextSibling)}if(MN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(at(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ka=hc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ka=null}}else Ka=Ya?hc(e.stateNode.nextSibling):null;return!0}function j8(){for(var e=Ka;e;)e=hc(e.nextSibling)}function Dd(){Ka=Ya=null,pn=!1}function Bb(e){Gs===null?Gs=[e]:Gs.push(e)}var lD=Il.ReactCurrentBatchConfig;function Pf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(at(309));var n=r.stateNode}if(!n)throw Error(at(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(at(284));if(!r._owner)throw Error(at(290,e))}return e}function r1(e,t){throw e=Object.prototype.toString.call(t),Error(at(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function BN(e){var t=e._init;return t(e._payload)}function S8(e){function t(S,E){if(e){var k=S.deletions;k===null?(S.deletions=[E],S.flags|=16):k.push(E)}}function r(S,E){if(!e)return null;for(;E!==null;)t(S,E),E=E.sibling;return null}function n(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=xc(S,E),S.index=0,S.sibling=null,S}function a(S,E,k){return S.index=k,e?(k=S.alternate,k!==null?(k=k.index,k<E?(S.flags|=2,E):k):(S.flags|=2,E)):(S.flags|=1048576,E)}function o(S){return e&&S.alternate===null&&(S.flags|=2),S}function c(S,E,k,P){return E===null||E.tag!==6?(E=qx(k,S.mode,P),E.return=S,E):(E=i(E,k),E.return=S,E)}function d(S,E,k,P){var W=k.type;return W===rd?m(S,E,k.props.children,P,k.key):E!==null&&(E.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Ql&&BN(W)===E.type)?(P=i(E,k.props),P.ref=Pf(S,E,k),P.return=S,P):(P=K1(k.type,k.key,k.props,null,S.mode,P),P.ref=Pf(S,E,k),P.return=S,P)}function f(S,E,k,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=Hx(k,S.mode,P),E.return=S,E):(E=i(E,k.children||[]),E.return=S,E)}function m(S,E,k,P,W){return E===null||E.tag!==7?(E=du(k,S.mode,P,W),E.return=S,E):(E=i(E,k),E.return=S,E)}function g(S,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return E=qx(""+E,S.mode,k),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case H0:return k=K1(E.type,E.key,E.props,null,S.mode,k),k.ref=Pf(S,null,E),k.return=S,k;case td:return E=Hx(E,S.mode,k),E.return=S,E;case Ql:var P=E._init;return g(S,P(E._payload),k)}if(Xf(E)||Ef(E))return E=du(E,S.mode,k,null),E.return=S,E;r1(S,E)}return null}function b(S,E,k,P){var W=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return W!==null?null:c(S,E,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H0:return k.key===W?d(S,E,k,P):null;case td:return k.key===W?f(S,E,k,P):null;case Ql:return W=k._init,b(S,E,W(k._payload),P)}if(Xf(k)||Ef(k))return W!==null?null:m(S,E,k,P,null);r1(S,k)}return null}function y(S,E,k,P,W){if(typeof P=="string"&&P!==""||typeof P=="number")return S=S.get(k)||null,c(E,S,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H0:return S=S.get(P.key===null?k:P.key)||null,d(E,S,P,W);case td:return S=S.get(P.key===null?k:P.key)||null,f(E,S,P,W);case Ql:var H=P._init;return y(S,E,k,H(P._payload),W)}if(Xf(P)||Ef(P))return S=S.get(k)||null,m(E,S,P,W,null);r1(E,P)}return null}function w(S,E,k,P){for(var W=null,H=null,$=E,F=E=0,L=null;$!==null&&F<k.length;F++){$.index>F?(L=$,$=null):L=$.sibling;var J=b(S,$,k[F],P);if(J===null){$===null&&($=L);break}e&&$&&J.alternate===null&&t(S,$),E=a(J,E,F),H===null?W=J:H.sibling=J,H=J,$=L}if(F===k.length)return r(S,$),pn&&Xc(S,F),W;if($===null){for(;F<k.length;F++)$=g(S,k[F],P),$!==null&&(E=a($,E,F),H===null?W=$:H.sibling=$,H=$);return pn&&Xc(S,F),W}for($=n(S,$);F<k.length;F++)L=y($,S,F,k[F],P),L!==null&&(e&&L.alternate!==null&&$.delete(L.key===null?F:L.key),E=a(L,E,F),H===null?W=L:H.sibling=L,H=L);return e&&$.forEach(function(M){return t(S,M)}),pn&&Xc(S,F),W}function A(S,E,k,P){var W=Ef(k);if(typeof W!="function")throw Error(at(150));if(k=W.call(k),k==null)throw Error(at(151));for(var H=W=null,$=E,F=E=0,L=null,J=k.next();$!==null&&!J.done;F++,J=k.next()){$.index>F?(L=$,$=null):L=$.sibling;var M=b(S,$,J.value,P);if(M===null){$===null&&($=L);break}e&&$&&M.alternate===null&&t(S,$),E=a(M,E,F),H===null?W=M:H.sibling=M,H=M,$=L}if(J.done)return r(S,$),pn&&Xc(S,F),W;if($===null){for(;!J.done;F++,J=k.next())J=g(S,J.value,P),J!==null&&(E=a(J,E,F),H===null?W=J:H.sibling=J,H=J);return pn&&Xc(S,F),W}for($=n(S,$);!J.done;F++,J=k.next())J=y($,S,F,J.value,P),J!==null&&(e&&J.alternate!==null&&$.delete(J.key===null?F:J.key),E=a(J,E,F),H===null?W=J:H.sibling=J,H=J);return e&&$.forEach(function(z){return t(S,z)}),pn&&Xc(S,F),W}function N(S,E,k,P){if(typeof k=="object"&&k!==null&&k.type===rd&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case H0:e:{for(var W=k.key,H=E;H!==null;){if(H.key===W){if(W=k.type,W===rd){if(H.tag===7){r(S,H.sibling),E=i(H,k.props.children),E.return=S,S=E;break e}}else if(H.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Ql&&BN(W)===H.type){r(S,H.sibling),E=i(H,k.props),E.ref=Pf(S,H,k),E.return=S,S=E;break e}r(S,H);break}else t(S,H);H=H.sibling}k.type===rd?(E=du(k.props.children,S.mode,P,k.key),E.return=S,S=E):(P=K1(k.type,k.key,k.props,null,S.mode,P),P.ref=Pf(S,E,k),P.return=S,S=P)}return o(S);case td:e:{for(H=k.key;E!==null;){if(E.key===H)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){r(S,E.sibling),E=i(E,k.children||[]),E.return=S,S=E;break e}else{r(S,E);break}else t(S,E);E=E.sibling}E=Hx(k,S.mode,P),E.return=S,S=E}return o(S);case Ql:return H=k._init,N(S,E,H(k._payload),P)}if(Xf(k))return w(S,E,k,P);if(Ef(k))return A(S,E,k,P);r1(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,E!==null&&E.tag===6?(r(S,E.sibling),E=i(E,k),E.return=S,S=E):(r(S,E),E=qx(k,S.mode,P),E.return=S,S=E),o(S)):r(S,E)}return N}var Ld=S8(!0),E8=S8(!1),bm=Tc(null),wm=null,ud=null,Fb=null;function Ub(){Fb=ud=wm=null}function Wb(e){var t=bm.current;ln(bm),e._currentValue=t}function Py(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Nd(e,t){wm=e,Fb=ud=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Aa=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Fb!==e)if(e={context:e,memoizedValue:t,next:null},ud===null){if(wm===null)throw Error(at(308));ud=e,wm.dependencies={lanes:0,firstContext:e}}else ud=ud.next=e;return t}var iu=null;function zb(e){iu===null?iu=[e]:iu.push(e)}function k8(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,zb(t)):(r.next=i.next,i.next=r),t.interleaved=r,Nl(e,n)}function Nl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ec=!1;function $b(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,wr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Nl(e,r)}return i=n.interleaved,i===null?(t.next=t,zb(n)):(t.next=i.next,i.next=t),n.interleaved=t,Nl(e,r)}function z1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kb(e,r)}}function FN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nm(e,t,r,n){var i=e.updateQueue;ec=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,f=d.next;d.next=null,o===null?a=f:o.next=f,o=d;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==o&&(c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=d))}if(a!==null){var g=i.baseState;o=0,m=f=d=null,c=a;do{var b=c.lane,y=c.eventTime;if((n&b)===b){m!==null&&(m=m.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,A=c;switch(b=t,y=r,A.tag){case 1:if(w=A.payload,typeof w=="function"){g=w.call(y,g,b);break e}g=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=A.payload,b=typeof w=="function"?w.call(y,g,b):w,b==null)break e;g=An({},g,b);break e;case 2:ec=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,b=i.effects,b===null?i.effects=[c]:b.push(c))}else y={eventTime:y,lane:b,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(f=m=y,d=g):m=m.next=y,o|=b;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;b=c,c=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);if(m===null&&(d=g),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Nu|=o,e.lanes=o,e.memoizedState=g}}function UN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(at(191,i));i.call(n)}}}var r0={},So=Tc(r0),jh=Tc(r0),Sh=Tc(r0);function au(e){if(e===r0)throw Error(at(174));return e}function qb(e,t){switch(Jr(Sh,t),Jr(jh,e),Jr(So,r0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fy(t,e)}ln(So),Jr(So,t)}function Md(){ln(So),ln(jh),ln(Sh)}function _8(e){au(Sh.current);var t=au(So.current),r=fy(t,e.type);t!==r&&(Jr(jh,e),Jr(So,r))}function Hb(e){jh.current===e&&(ln(So),ln(jh))}var wn=Tc(0);function Am(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bx=[];function Vb(){for(var e=0;e<Bx.length;e++)Bx[e]._workInProgressVersionPrimary=null;Bx.length=0}var $1=Il.ReactCurrentDispatcher,Fx=Il.ReactCurrentBatchConfig,wu=0,Nn=null,li=null,xi=null,Cm=!1,sh=!1,Eh=0,cD=0;function Hi(){throw Error(at(321))}function Gb(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qs(e[r],t[r]))return!1;return!0}function Kb(e,t,r,n,i,a){if(wu=a,Nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$1.current=e===null||e.memoizedState===null?hD:mD,e=r(n,i),sh){a=0;do{if(sh=!1,Eh=0,25<=a)throw Error(at(301));a+=1,xi=li=null,t.updateQueue=null,$1.current=pD,e=r(n,i)}while(sh)}if($1.current=jm,t=li!==null&&li.next!==null,wu=0,xi=li=Nn=null,Cm=!1,t)throw Error(at(300));return e}function Xb(){var e=Eh!==0;return Eh=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Nn.memoizedState=xi=e:xi=xi.next=e,xi}function Ss(){if(li===null){var e=Nn.alternate;e=e!==null?e.memoizedState:null}else e=li.next;var t=xi===null?Nn.memoizedState:xi.next;if(t!==null)xi=t,li=e;else{if(e===null)throw Error(at(310));li=e,e={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},xi===null?Nn.memoizedState=xi=e:xi=xi.next=e}return xi}function kh(e,t){return typeof t=="function"?t(e):t}function Ux(e){var t=Ss(),r=t.queue;if(r===null)throw Error(at(311));r.lastRenderedReducer=e;var n=li,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=o=null,d=null,f=a;do{var m=f.lane;if((wu&m)===m)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var g={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(c=d=g,o=n):d=d.next=g,Nn.lanes|=m,Nu|=m}f=f.next}while(f!==null&&f!==a);d===null?o=n:d.next=c,Qs(n,t.memoizedState)||(Aa=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Nn.lanes|=a,Nu|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wx(e){var t=Ss(),r=t.queue;if(r===null)throw Error(at(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Qs(a,t.memoizedState)||(Aa=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function I8(){}function P8(e,t){var r=Nn,n=Ss(),i=t(),a=!Qs(n.memoizedState,i);if(a&&(n.memoizedState=i,Aa=!0),n=n.queue,Yb(D8.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||xi!==null&&xi.memoizedState.tag&1){if(r.flags|=2048,Th(9,R8.bind(null,r,n,i,t),void 0,null),vi===null)throw Error(at(349));wu&30||O8(r,t,i)}return i}function O8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function R8(e,t,r,n){t.value=r,t.getSnapshot=n,L8(t)&&M8(e)}function D8(e,t,r){return r(function(){L8(t)&&M8(e)})}function L8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qs(e,r)}catch{return!0}}function M8(e){var t=Nl(e,1);t!==null&&Js(t,e,1,-1)}function WN(e){var t=wo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:e},t.queue=e,e=e.dispatch=fD.bind(null,Nn,e),[t.memoizedState,e]}function Th(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function B8(){return Ss().memoizedState}function q1(e,t,r,n){var i=wo();Nn.flags|=e,i.memoizedState=Th(1|t,r,void 0,n===void 0?null:n)}function Fp(e,t,r,n){var i=Ss();n=n===void 0?null:n;var a=void 0;if(li!==null){var o=li.memoizedState;if(a=o.destroy,n!==null&&Gb(n,o.deps)){i.memoizedState=Th(t,r,a,n);return}}Nn.flags|=e,i.memoizedState=Th(1|t,r,a,n)}function zN(e,t){return q1(8390656,8,e,t)}function Yb(e,t){return Fp(2048,8,e,t)}function F8(e,t){return Fp(4,2,e,t)}function U8(e,t){return Fp(4,4,e,t)}function W8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z8(e,t,r){return r=r!=null?r.concat([e]):null,Fp(4,4,W8.bind(null,t,e),r)}function Zb(){}function $8(e,t){var r=Ss();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gb(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function q8(e,t){var r=Ss();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gb(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function H8(e,t,r){return wu&21?(Qs(r,t)||(r=YS(),Nn.lanes|=r,Nu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Aa=!0),e.memoizedState=r)}function uD(e,t){var r=Br;Br=r!==0&&4>r?r:4,e(!0);var n=Fx.transition;Fx.transition={};try{e(!1),t()}finally{Br=r,Fx.transition=n}}function V8(){return Ss().memoizedState}function dD(e,t,r){var n=gc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},G8(e))K8(t,r);else if(r=k8(e,t,r,n),r!==null){var i=ua();Js(r,e,n,i),X8(r,t,n)}}function fD(e,t,r){var n=gc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(G8(e))K8(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,r);if(i.hasEagerState=!0,i.eagerState=c,Qs(c,o)){var d=t.interleaved;d===null?(i.next=i,zb(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=k8(e,t,i,n),r!==null&&(i=ua(),Js(r,e,n,i),X8(r,t,n))}}function G8(e){var t=e.alternate;return e===Nn||t!==null&&t===Nn}function K8(e,t){sh=Cm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function X8(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kb(e,r)}}var jm={readContext:js,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useInsertionEffect:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useSyncExternalStore:Hi,useId:Hi,unstable_isNewReconciler:!1},hD={readContext:js,useCallback:function(e,t){return wo().memoizedState=[e,t===void 0?null:t],e},useContext:js,useEffect:zN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,q1(4194308,4,W8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return q1(4194308,4,e,t)},useInsertionEffect:function(e,t){return q1(4,2,e,t)},useMemo:function(e,t){var r=wo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dD.bind(null,Nn,e),[n.memoizedState,e]},useRef:function(e){var t=wo();return e={current:e},t.memoizedState=e},useState:WN,useDebugValue:Zb,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=WN(!1),t=e[0];return e=uD.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Nn,i=wo();if(pn){if(r===void 0)throw Error(at(407));r=r()}else{if(r=t(),vi===null)throw Error(at(349));wu&30||O8(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,zN(D8.bind(null,n,a,e),[e]),n.flags|=2048,Th(9,R8.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=wo(),t=vi.identifierPrefix;if(pn){var r=hl,n=fl;r=(n&~(1<<32-Zs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Eh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cD++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mD={readContext:js,useCallback:$8,useContext:js,useEffect:Yb,useImperativeHandle:z8,useInsertionEffect:F8,useLayoutEffect:U8,useMemo:q8,useReducer:Ux,useRef:B8,useState:function(){return Ux(kh)},useDebugValue:Zb,useDeferredValue:function(e){var t=Ss();return H8(t,li.memoizedState,e)},useTransition:function(){var e=Ux(kh)[0],t=Ss().memoizedState;return[e,t]},useMutableSource:I8,useSyncExternalStore:P8,useId:V8,unstable_isNewReconciler:!1},pD={readContext:js,useCallback:$8,useContext:js,useEffect:Yb,useImperativeHandle:z8,useInsertionEffect:F8,useLayoutEffect:U8,useMemo:q8,useReducer:Wx,useRef:B8,useState:function(){return Wx(kh)},useDebugValue:Zb,useDeferredValue:function(e){var t=Ss();return li===null?t.memoizedState=e:H8(t,li.memoizedState,e)},useTransition:function(){var e=Wx(kh)[0],t=Ss().memoizedState;return[e,t]},useMutableSource:I8,useSyncExternalStore:P8,useId:V8,unstable_isNewReconciler:!1};function Hs(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Oy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:An({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Up={isMounted:function(e){return(e=e._reactInternals)?Du(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ua(),i=gc(e),a=xl(n,i);a.payload=t,r!=null&&(a.callback=r),t=mc(e,a,i),t!==null&&(Js(t,e,i,n),z1(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ua(),i=gc(e),a=xl(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=mc(e,a,i),t!==null&&(Js(t,e,i,n),z1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ua(),n=gc(e),i=xl(r,n);i.tag=2,t!=null&&(i.callback=t),t=mc(e,i,n),t!==null&&(Js(t,e,n,r),z1(t,e,n))}};function $N(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!wh(r,n)||!wh(i,a):!0}function Y8(e,t,r){var n=!1,i=Ac,a=t.contextType;return typeof a=="object"&&a!==null?a=js(a):(i=Ea(t)?vu:Qi.current,n=t.contextTypes,a=(n=n!=null)?Rd(e,i):Ac),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Up,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Up.enqueueReplaceState(t,t.state,null)}function Ry(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$b(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=js(a):(a=Ea(t)?vu:Qi.current,i.context=Rd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Oy(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Up.enqueueReplaceState(i,i.state,null),Nm(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bd(e,t){try{var r="",n=t;do r+=$R(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function zx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Dy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gD=typeof WeakMap=="function"?WeakMap:Map;function Z8(e,t,r){r=xl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Em||(Em=!0,Hy=n),Dy(e,t)},r}function J8(e,t,r){r=xl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Dy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Dy(e,t),typeof n!="function"&&(pc===null?pc=new Set([this]):pc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function HN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gD;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=_D.bind(null,e,t,r),t.then(e,e))}function VN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function GN(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xl(-1,1),t.tag=2,mc(r,t,1))),r.lanes|=1),e)}var xD=Il.ReactCurrentOwner,Aa=!1;function la(e,t,r,n){t.child=e===null?E8(t,null,r,n):Ld(t,e.child,r,n)}function KN(e,t,r,n,i){r=r.render;var a=t.ref;return Nd(t,i),n=Kb(e,t,r,n,a,i),r=Xb(),e!==null&&!Aa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Al(e,t,i)):(pn&&r&&Lb(t),t.flags|=1,la(e,t,n,i),t.child)}function XN(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!aw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Q8(e,t,a,n,i)):(e=K1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:wh,r(o,n)&&e.ref===t.ref)return Al(e,t,i)}return t.flags|=1,e=xc(a,n),e.ref=t.ref,e.return=t,t.child=e}function Q8(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(wh(a,n)&&e.ref===t.ref)if(Aa=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Aa=!0);else return t.lanes=e.lanes,Al(e,t,i)}return Ly(e,t,r,n,i)}function eE(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jr(fd,Ha),Ha|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jr(fd,Ha),Ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Jr(fd,Ha),Ha|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Jr(fd,Ha),Ha|=n;return la(e,t,i,r),t.child}function tE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ly(e,t,r,n,i){var a=Ea(r)?vu:Qi.current;return a=Rd(t,a),Nd(t,i),r=Kb(e,t,r,n,a,i),n=Xb(),e!==null&&!Aa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Al(e,t,i)):(pn&&n&&Lb(t),t.flags|=1,la(e,t,r,i),t.child)}function YN(e,t,r,n,i){if(Ea(r)){var a=!0;xm(t)}else a=!1;if(Nd(t,i),t.stateNode===null)H1(e,t),Y8(t,r,n),Ry(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var d=o.context,f=r.contextType;typeof f=="object"&&f!==null?f=js(f):(f=Ea(r)?vu:Qi.current,f=Rd(t,f));var m=r.getDerivedStateFromProps,g=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||d!==f)&&qN(t,o,n,f),ec=!1;var b=t.memoizedState;o.state=b,Nm(t,n,o,i),d=t.memoizedState,c!==n||b!==d||Sa.current||ec?(typeof m=="function"&&(Oy(t,r,m,n),d=t.memoizedState),(c=ec||$N(t,r,c,n,b,d,f))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=f,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,T8(e,t),c=t.memoizedProps,f=t.type===t.elementType?c:Hs(t.type,c),o.props=f,g=t.pendingProps,b=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=js(d):(d=Ea(r)?vu:Qi.current,d=Rd(t,d));var y=r.getDerivedStateFromProps;(m=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==g||b!==d)&&qN(t,o,n,d),ec=!1,b=t.memoizedState,o.state=b,Nm(t,n,o,i);var w=t.memoizedState;c!==g||b!==w||Sa.current||ec?(typeof y=="function"&&(Oy(t,r,y,n),w=t.memoizedState),(f=ec||$N(t,r,f,n,b,w,d)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=d,n=f):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),n=!1)}return My(e,t,r,n,a,i)}function My(e,t,r,n,i,a){tE(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&DN(t,r,!1),Al(e,t,a);n=t.stateNode,xD.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ld(t,e.child,null,a),t.child=Ld(t,null,c,a)):la(e,t,c,a),t.memoizedState=n.state,i&&DN(t,r,!0),t.child}function rE(e){var t=e.stateNode;t.pendingContext?RN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&RN(e,t.context,!1),qb(e,t.containerInfo)}function ZN(e,t,r,n,i){return Dd(),Bb(i),t.flags|=256,la(e,t,r,n),t.child}var By={dehydrated:null,treeContext:null,retryLane:0};function Fy(e){return{baseLanes:e,cachePool:null,transitions:null}}function nE(e,t,r){var n=t.pendingProps,i=wn.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Jr(wn,i&1),e===null)return Iy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=$p(o,n,0,null),e=du(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fy(r),t.memoizedState=By,e):Jb(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return yD(e,t,o,n,c,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,c=i.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=xc(i,d),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=xc(c,a):(a=du(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Fy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=By,n}return a=e.child,e=a.sibling,n=xc(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jb(e,t){return t=$p({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function n1(e,t,r,n){return n!==null&&Bb(n),Ld(t,e.child,null,r),e=Jb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yD(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=zx(Error(at(422))),n1(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=$p({mode:"visible",children:n.children},i,0,null),a=du(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ld(t,e.child,null,o),t.child.memoizedState=Fy(o),t.memoizedState=By,a);if(!(t.mode&1))return n1(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(at(419)),n=zx(a,n,void 0),n1(e,t,o,n)}if(c=(o&e.childLanes)!==0,Aa||c){if(n=vi,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Nl(e,i),Js(n,e,i,-1))}return iw(),n=zx(Error(at(421))),n1(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ID.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ka=hc(i.nextSibling),Ya=t,pn=!0,Gs=null,e!==null&&(vs[bs++]=fl,vs[bs++]=hl,vs[bs++]=bu,fl=e.id,hl=e.overflow,bu=t),t=Jb(t,n.children),t.flags|=4096,t)}function JN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Py(e.return,t,r)}function $x(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function iE(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(la(e,t,n.children,r),n=wn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&JN(e,r,t);else if(e.tag===19)JN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Jr(wn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Am(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),$x(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Am(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}$x(t,!0,r,null,a);break;case"together":$x(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function H1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Al(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Nu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(at(153));if(t.child!==null){for(e=t.child,r=xc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vD(e,t,r){switch(t.tag){case 3:rE(t),Dd();break;case 5:_8(t);break;case 1:Ea(t.type)&&xm(t);break;case 4:qb(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Jr(bm,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Jr(wn,wn.current&1),t.flags|=128,null):r&t.child.childLanes?nE(e,t,r):(Jr(wn,wn.current&1),e=Al(e,t,r),e!==null?e.sibling:null);Jr(wn,wn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return iE(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jr(wn,wn.current),n)break;return null;case 22:case 23:return t.lanes=0,eE(e,t,r)}return Al(e,t,r)}var aE,Uy,sE,oE;aE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uy=function(){};sE=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,au(So.current);var a=null;switch(r){case"input":i=ly(e,i),n=ly(e,n),a=[];break;case"select":i=An({},i,{value:void 0}),n=An({},n,{value:void 0}),a=[];break;case"textarea":i=dy(e,i),n=dy(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pm)}hy(r,n);var o;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(mh.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in n){var d=n[f];if(c=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&d!==c&&(d!=null||c!=null))if(f==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(a||(a=[]),a.push(f,r)),r=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(mh.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&nn("scroll",e),a||c===d||(a=[])):(a=a||[]).push(f,d))}r&&(a=a||[]).push("style",r);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};oE=function(e,t,r,n){r!==n&&(t.flags|=4)};function Of(e,t){if(!pn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bD(e,t,r){var n=t.pendingProps;switch(Mb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:return Ea(t.type)&&gm(),Vi(t),null;case 3:return n=t.stateNode,Md(),ln(Sa),ln(Qi),Vb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(t1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gs!==null&&(Ky(Gs),Gs=null))),Uy(e,t),Vi(t),null;case 5:Hb(t);var i=au(Sh.current);if(r=t.type,e!==null&&t.stateNode!=null)sE(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(at(166));return Vi(t),null}if(e=au(So.current),t1(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[No]=t,n[Ch]=a,e=(t.mode&1)!==0,r){case"dialog":nn("cancel",n),nn("close",n);break;case"iframe":case"object":case"embed":nn("load",n);break;case"video":case"audio":for(i=0;i<Zf.length;i++)nn(Zf[i],n);break;case"source":nn("error",n);break;case"img":case"image":case"link":nn("error",n),nn("load",n);break;case"details":nn("toggle",n);break;case"input":oN(n,a),nn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},nn("invalid",n);break;case"textarea":cN(n,a),nn("invalid",n)}hy(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&e1(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&e1(n.textContent,c,e),i=["children",""+c]):mh.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&nn("scroll",n)}switch(r){case"input":V0(n),lN(n,a,!0);break;case"textarea":V0(n),uN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=pm)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[No]=t,e[Ch]=n,aE(e,t,!1,!1),t.stateNode=e;e:{switch(o=my(r,n),r){case"dialog":nn("cancel",e),nn("close",e),i=n;break;case"iframe":case"object":case"embed":nn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Zf.length;i++)nn(Zf[i],e);i=n;break;case"source":nn("error",e),i=n;break;case"img":case"image":case"link":nn("error",e),nn("load",e),i=n;break;case"details":nn("toggle",e),i=n;break;case"input":oN(e,n),i=ly(e,n),nn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=An({},n,{value:void 0}),nn("invalid",e);break;case"textarea":cN(e,n),i=dy(e,n),nn("invalid",e);break;default:i=n}hy(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?BS(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&LS(e,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&ph(e,d):typeof d=="number"&&ph(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mh.hasOwnProperty(a)?d!=null&&a==="onScroll"&&nn("scroll",e):d!=null&&Nb(e,a,d,o))}switch(r){case"input":V0(e),lN(e,n,!1);break;case"textarea":V0(e),uN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nc(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?yd(e,!!n.multiple,a,!1):n.defaultValue!=null&&yd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&t.stateNode!=null)oE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(at(166));if(r=au(Sh.current),au(So.current),t1(t)){if(n=t.stateNode,r=t.memoizedProps,n[No]=t,(a=n.nodeValue!==r)&&(e=Ya,e!==null))switch(e.tag){case 3:e1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&e1(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[No]=t,t.stateNode=n}return Vi(t),null;case 13:if(ln(wn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pn&&Ka!==null&&t.mode&1&&!(t.flags&128))j8(),Dd(),t.flags|=98560,a=!1;else if(a=t1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(at(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(at(317));a[No]=t}else Dd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vi(t),a=!1}else Gs!==null&&(Ky(Gs),Gs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wn.current&1?ci===0&&(ci=3):iw())),t.updateQueue!==null&&(t.flags|=4),Vi(t),null);case 4:return Md(),Uy(e,t),e===null&&Nh(t.stateNode.containerInfo),Vi(t),null;case 10:return Wb(t.type._context),Vi(t),null;case 17:return Ea(t.type)&&gm(),Vi(t),null;case 19:if(ln(wn),a=t.memoizedState,a===null)return Vi(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Of(a,!1);else{if(ci!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Am(e),o!==null){for(t.flags|=128,Of(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Jr(wn,wn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ln()>Fd&&(t.flags|=128,n=!0,Of(a,!1),t.lanes=4194304)}else{if(!n)if(e=Am(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Of(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!pn)return Vi(t),null}else 2*Ln()-a.renderingStartTime>Fd&&r!==1073741824&&(t.flags|=128,n=!0,Of(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ln(),t.sibling=null,r=wn.current,Jr(wn,n?r&1|2:r&1),t):(Vi(t),null);case 22:case 23:return nw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ha&1073741824&&(Vi(t),t.subtreeFlags&6&&(t.flags|=8192)):Vi(t),null;case 24:return null;case 25:return null}throw Error(at(156,t.tag))}function wD(e,t){switch(Mb(t),t.tag){case 1:return Ea(t.type)&&gm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Md(),ln(Sa),ln(Qi),Vb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hb(t),null;case 13:if(ln(wn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(at(340));Dd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ln(wn),null;case 4:return Md(),null;case 10:return Wb(t.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var i1=!1,Zi=!1,ND=typeof WeakSet=="function"?WeakSet:Set,yt=null;function dd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){In(e,t,n)}else r.current=null}function Wy(e,t,r){try{r()}catch(n){In(e,t,n)}}var QN=!1;function AD(e,t){if(Cy=fm,e=f8(),Db(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,c=-1,d=-1,f=0,m=0,g=e,b=null;t:for(;;){for(var y;g!==r||i!==0&&g.nodeType!==3||(c=o+i),g!==a||n!==0&&g.nodeType!==3||(d=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(y=g.firstChild)!==null;)b=g,g=y;for(;;){if(g===e)break t;if(b===r&&++f===i&&(c=o),b===a&&++m===n&&(d=o),(y=g.nextSibling)!==null)break;g=b,b=g.parentNode}g=y}r=c===-1||d===-1?null:{start:c,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(jy={focusedElem:e,selectionRange:r},fm=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){t=yt;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,N=w.memoizedState,S=t.stateNode,E=S.getSnapshotBeforeUpdate(t.elementType===t.type?A:Hs(t.type,A),N);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(P){In(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}return w=QN,QN=!1,w}function oh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Wy(t,r,a)}i=i.next}while(i!==n)}}function Wp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lE(e){var t=e.alternate;t!==null&&(e.alternate=null,lE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[No],delete t[Ch],delete t[ky],delete t[aD],delete t[sD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cE(e){return e.tag===5||e.tag===3||e.tag===4}function e4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $y(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pm));else if(n!==4&&(e=e.child,e!==null))for($y(e,t,r),e=e.sibling;e!==null;)$y(e,t,r),e=e.sibling}function qy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qy(e,t,r),e=e.sibling;e!==null;)qy(e,t,r),e=e.sibling}var Di=null,Vs=!1;function Xl(e,t,r){for(r=r.child;r!==null;)uE(e,t,r),r=r.sibling}function uE(e,t,r){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(Op,r)}catch{}switch(r.tag){case 5:Zi||dd(r,t);case 6:var n=Di,i=Vs;Di=null,Xl(e,t,r),Di=n,Vs=i,Di!==null&&(Vs?(e=Di,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Di.removeChild(r.stateNode));break;case 18:Di!==null&&(Vs?(e=Di,r=r.stateNode,e.nodeType===8?Lx(e.parentNode,r):e.nodeType===1&&Lx(e,r),vh(e)):Lx(Di,r.stateNode));break;case 4:n=Di,i=Vs,Di=r.stateNode.containerInfo,Vs=!0,Xl(e,t,r),Di=n,Vs=i;break;case 0:case 11:case 14:case 15:if(!Zi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Wy(r,t,o),i=i.next}while(i!==n)}Xl(e,t,r);break;case 1:if(!Zi&&(dd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){In(r,t,c)}Xl(e,t,r);break;case 21:Xl(e,t,r);break;case 22:r.mode&1?(Zi=(n=Zi)||r.memoizedState!==null,Xl(e,t,r),Zi=n):Xl(e,t,r);break;default:Xl(e,t,r)}}function t4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ND),t.forEach(function(n){var i=PD.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function $s(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Di=c.stateNode,Vs=!1;break e;case 3:Di=c.stateNode.containerInfo,Vs=!0;break e;case 4:Di=c.stateNode.containerInfo,Vs=!0;break e}c=c.return}if(Di===null)throw Error(at(160));uE(a,o,i),Di=null,Vs=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){In(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dE(t,e),t=t.sibling}function dE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($s(t,e),go(e),n&4){try{oh(3,e,e.return),Wp(3,e)}catch(A){In(e,e.return,A)}try{oh(5,e,e.return)}catch(A){In(e,e.return,A)}}break;case 1:$s(t,e),go(e),n&512&&r!==null&&dd(r,r.return);break;case 5:if($s(t,e),go(e),n&512&&r!==null&&dd(r,r.return),e.flags&32){var i=e.stateNode;try{ph(i,"")}catch(A){In(e,e.return,A)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&OS(i,a),my(c,o);var f=my(c,a);for(o=0;o<d.length;o+=2){var m=d[o],g=d[o+1];m==="style"?BS(i,g):m==="dangerouslySetInnerHTML"?LS(i,g):m==="children"?ph(i,g):Nb(i,m,g,f)}switch(c){case"input":cy(i,a);break;case"textarea":RS(i,a);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?yd(i,!!a.multiple,y,!1):b!==!!a.multiple&&(a.defaultValue!=null?yd(i,!!a.multiple,a.defaultValue,!0):yd(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ch]=a}catch(A){In(e,e.return,A)}}break;case 6:if($s(t,e),go(e),n&4){if(e.stateNode===null)throw Error(at(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(A){In(e,e.return,A)}}break;case 3:if($s(t,e),go(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vh(t.containerInfo)}catch(A){In(e,e.return,A)}break;case 4:$s(t,e),go(e);break;case 13:$s(t,e),go(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(tw=Ln())),n&4&&t4(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(Zi=(f=Zi)||m,$s(t,e),Zi=f):$s(t,e),go(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!m&&e.mode&1)for(yt=e,m=e.child;m!==null;){for(g=yt=m;yt!==null;){switch(b=yt,y=b.child,b.tag){case 0:case 11:case 14:case 15:oh(4,b,b.return);break;case 1:dd(b,b.return);var w=b.stateNode;if(typeof w.componentWillUnmount=="function"){n=b,r=b.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(A){In(n,r,A)}}break;case 5:dd(b,b.return);break;case 22:if(b.memoizedState!==null){n4(g);continue}}y!==null?(y.return=b,yt=y):n4(g)}m=m.sibling}e:for(m=null,g=e;;){if(g.tag===5){if(m===null){m=g;try{i=g.stateNode,f?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=g.stateNode,d=g.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=MS("display",o))}catch(A){In(e,e.return,A)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(A){In(e,e.return,A)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:$s(t,e),go(e),n&4&&t4(e);break;case 21:break;default:$s(t,e),go(e)}}function go(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cE(r)){var n=r;break e}r=r.return}throw Error(at(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ph(i,""),n.flags&=-33);var a=e4(e);qy(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,c=e4(e);$y(e,c,o);break;default:throw Error(at(161))}}catch(d){In(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CD(e,t,r){yt=e,fE(e)}function fE(e,t,r){for(var n=(e.mode&1)!==0;yt!==null;){var i=yt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||i1;if(!o){var c=i.alternate,d=c!==null&&c.memoizedState!==null||Zi;c=i1;var f=Zi;if(i1=o,(Zi=d)&&!f)for(yt=i;yt!==null;)o=yt,d=o.child,o.tag===22&&o.memoizedState!==null?i4(i):d!==null?(d.return=o,yt=d):i4(i);for(;a!==null;)yt=a,fE(a),a=a.sibling;yt=i,i1=c,Zi=f}r4(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,yt=a):r4(e)}}function r4(e){for(;yt!==null;){var t=yt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zi||Wp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Zi)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Hs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&UN(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}UN(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&vh(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(at(163))}Zi||t.flags&512&&zy(t)}catch(b){In(t,t.return,b)}}if(t===e){yt=null;break}if(r=t.sibling,r!==null){r.return=t.return,yt=r;break}yt=t.return}}function n4(e){for(;yt!==null;){var t=yt;if(t===e){yt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,yt=r;break}yt=t.return}}function i4(e){for(;yt!==null;){var t=yt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Wp(4,t)}catch(d){In(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){In(t,i,d)}}var a=t.return;try{zy(t)}catch(d){In(t,a,d)}break;case 5:var o=t.return;try{zy(t)}catch(d){In(t,o,d)}}}catch(d){In(t,t.return,d)}if(t===e){yt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,yt=c;break}yt=t.return}}var jD=Math.ceil,Sm=Il.ReactCurrentDispatcher,Qb=Il.ReactCurrentOwner,Cs=Il.ReactCurrentBatchConfig,wr=0,vi=null,Zn=null,Mi=0,Ha=0,fd=Tc(0),ci=0,_h=null,Nu=0,zp=0,ew=0,lh=null,Na=null,tw=0,Fd=1/0,ll=null,Em=!1,Hy=null,pc=null,a1=!1,sc=null,km=0,ch=0,Vy=null,V1=-1,G1=0;function ua(){return wr&6?Ln():V1!==-1?V1:V1=Ln()}function gc(e){return e.mode&1?wr&2&&Mi!==0?Mi&-Mi:lD.transition!==null?(G1===0&&(G1=YS()),G1):(e=Br,e!==0||(e=window.event,e=e===void 0?16:n8(e.type)),e):1}function Js(e,t,r,n){if(50<ch)throw ch=0,Vy=null,Error(at(185));Qh(e,r,n),(!(wr&2)||e!==vi)&&(e===vi&&(!(wr&2)&&(zp|=r),ci===4&&nc(e,Mi)),ka(e,n),r===1&&wr===0&&!(t.mode&1)&&(Fd=Ln()+500,Bp&&_c()))}function ka(e,t){var r=e.callbackNode;l9(e,t);var n=dm(e,e===vi?Mi:0);if(n===0)r!==null&&hN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hN(r),t===1)e.tag===0?oD(a4.bind(null,e)):N8(a4.bind(null,e)),nD(function(){!(wr&6)&&_c()}),r=null;else{switch(ZS(n)){case 1:r=Eb;break;case 4:r=KS;break;case 16:r=um;break;case 536870912:r=XS;break;default:r=um}r=bE(r,hE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hE(e,t){if(V1=-1,G1=0,wr&6)throw Error(at(327));var r=e.callbackNode;if(Ad()&&e.callbackNode!==r)return null;var n=dm(e,e===vi?Mi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tm(e,n);else{t=n;var i=wr;wr|=2;var a=pE();(vi!==e||Mi!==t)&&(ll=null,Fd=Ln()+500,uu(e,t));do try{kD();break}catch(c){mE(e,c)}while(!0);Ub(),Sm.current=a,wr=i,Zn!==null?t=0:(vi=null,Mi=0,t=ci)}if(t!==0){if(t===2&&(i=vy(e),i!==0&&(n=i,t=Gy(e,i))),t===1)throw r=_h,uu(e,0),nc(e,n),ka(e,Ln()),r;if(t===6)nc(e,n);else{if(i=e.current.alternate,!(n&30)&&!SD(i)&&(t=Tm(e,n),t===2&&(a=vy(e),a!==0&&(n=a,t=Gy(e,a))),t===1))throw r=_h,uu(e,0),nc(e,n),ka(e,Ln()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(at(345));case 2:Yc(e,Na,ll);break;case 3:if(nc(e,n),(n&130023424)===n&&(t=tw+500-Ln(),10<t)){if(dm(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ua(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ey(Yc.bind(null,e,Na,ll),t);break}Yc(e,Na,ll);break;case 4:if(nc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Zs(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Ln()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jD(n/1960))-n,10<n){e.timeoutHandle=Ey(Yc.bind(null,e,Na,ll),n);break}Yc(e,Na,ll);break;case 5:Yc(e,Na,ll);break;default:throw Error(at(329))}}}return ka(e,Ln()),e.callbackNode===r?hE.bind(null,e):null}function Gy(e,t){var r=lh;return e.current.memoizedState.isDehydrated&&(uu(e,t).flags|=256),e=Tm(e,t),e!==2&&(t=Na,Na=r,t!==null&&Ky(t)),e}function Ky(e){Na===null?Na=e:Na.push.apply(Na,e)}function SD(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Qs(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nc(e,t){for(t&=~ew,t&=~zp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zs(t),n=1<<r;e[r]=-1,t&=~n}}function a4(e){if(wr&6)throw Error(at(327));Ad();var t=dm(e,0);if(!(t&1))return ka(e,Ln()),null;var r=Tm(e,t);if(e.tag!==0&&r===2){var n=vy(e);n!==0&&(t=n,r=Gy(e,n))}if(r===1)throw r=_h,uu(e,0),nc(e,t),ka(e,Ln()),r;if(r===6)throw Error(at(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yc(e,Na,ll),ka(e,Ln()),null}function rw(e,t){var r=wr;wr|=1;try{return e(t)}finally{wr=r,wr===0&&(Fd=Ln()+500,Bp&&_c())}}function Au(e){sc!==null&&sc.tag===0&&!(wr&6)&&Ad();var t=wr;wr|=1;var r=Cs.transition,n=Br;try{if(Cs.transition=null,Br=1,e)return e()}finally{Br=n,Cs.transition=r,wr=t,!(wr&6)&&_c()}}function nw(){Ha=fd.current,ln(fd)}function uu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rD(r)),Zn!==null)for(r=Zn.return;r!==null;){var n=r;switch(Mb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gm();break;case 3:Md(),ln(Sa),ln(Qi),Vb();break;case 5:Hb(n);break;case 4:Md();break;case 13:ln(wn);break;case 19:ln(wn);break;case 10:Wb(n.type._context);break;case 22:case 23:nw()}r=r.return}if(vi=e,Zn=e=xc(e.current,null),Mi=Ha=t,ci=0,_h=null,ew=zp=Nu=0,Na=lh=null,iu!==null){for(t=0;t<iu.length;t++)if(r=iu[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}iu=null}return e}function mE(e,t){do{var r=Zn;try{if(Ub(),$1.current=jm,Cm){for(var n=Nn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Cm=!1}if(wu=0,xi=li=Nn=null,sh=!1,Eh=0,Qb.current=null,r===null||r.return===null){ci=1,_h=t,Zn=null;break}e:{var a=e,o=r.return,c=r,d=t;if(t=Mi,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,m=c,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var b=m.alternate;b?(m.updateQueue=b.updateQueue,m.memoizedState=b.memoizedState,m.lanes=b.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=VN(o);if(y!==null){y.flags&=-257,GN(y,o,c,a,t),y.mode&1&&HN(a,f,t),t=y,d=f;var w=t.updateQueue;if(w===null){var A=new Set;A.add(d),t.updateQueue=A}else w.add(d);break e}else{if(!(t&1)){HN(a,f,t),iw();break e}d=Error(at(426))}}else if(pn&&c.mode&1){var N=VN(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),GN(N,o,c,a,t),Bb(Bd(d,c));break e}}a=d=Bd(d,c),ci!==4&&(ci=2),lh===null?lh=[a]:lh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var S=Z8(a,d,t);FN(a,S);break e;case 1:c=d;var E=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(pc===null||!pc.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=J8(a,c,t);FN(a,P);break e}}a=a.return}while(a!==null)}xE(r)}catch(W){t=W,Zn===r&&r!==null&&(Zn=r=r.return);continue}break}while(!0)}function pE(){var e=Sm.current;return Sm.current=jm,e===null?jm:e}function iw(){(ci===0||ci===3||ci===2)&&(ci=4),vi===null||!(Nu&268435455)&&!(zp&268435455)||nc(vi,Mi)}function Tm(e,t){var r=wr;wr|=2;var n=pE();(vi!==e||Mi!==t)&&(ll=null,uu(e,t));do try{ED();break}catch(i){mE(e,i)}while(!0);if(Ub(),wr=r,Sm.current=n,Zn!==null)throw Error(at(261));return vi=null,Mi=0,ci}function ED(){for(;Zn!==null;)gE(Zn)}function kD(){for(;Zn!==null&&!QR();)gE(Zn)}function gE(e){var t=vE(e.alternate,e,Ha);e.memoizedProps=e.pendingProps,t===null?xE(e):Zn=t,Qb.current=null}function xE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wD(r,t),r!==null){r.flags&=32767,Zn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ci=6,Zn=null;return}}else if(r=bD(r,t,Ha),r!==null){Zn=r;return}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);ci===0&&(ci=5)}function Yc(e,t,r){var n=Br,i=Cs.transition;try{Cs.transition=null,Br=1,TD(e,t,r,n)}finally{Cs.transition=i,Br=n}return null}function TD(e,t,r,n){do Ad();while(sc!==null);if(wr&6)throw Error(at(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(at(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(c9(e,a),e===vi&&(Zn=vi=null,Mi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||a1||(a1=!0,bE(um,function(){return Ad(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Cs.transition,Cs.transition=null;var o=Br;Br=1;var c=wr;wr|=4,Qb.current=null,AD(e,r),dE(r,e),X9(jy),fm=!!Cy,jy=Cy=null,e.current=r,CD(r),e9(),wr=c,Br=o,Cs.transition=a}else e.current=r;if(a1&&(a1=!1,sc=e,km=i),a=e.pendingLanes,a===0&&(pc=null),n9(r.stateNode),ka(e,Ln()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Em)throw Em=!1,e=Hy,Hy=null,e;return km&1&&e.tag!==0&&Ad(),a=e.pendingLanes,a&1?e===Vy?ch++:(ch=0,Vy=e):ch=0,_c(),null}function Ad(){if(sc!==null){var e=ZS(km),t=Cs.transition,r=Br;try{if(Cs.transition=null,Br=16>e?16:e,sc===null)var n=!1;else{if(e=sc,sc=null,km=0,wr&6)throw Error(at(331));var i=wr;for(wr|=4,yt=e.current;yt!==null;){var a=yt,o=a.child;if(yt.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var f=c[d];for(yt=f;yt!==null;){var m=yt;switch(m.tag){case 0:case 11:case 15:oh(8,m,a)}var g=m.child;if(g!==null)g.return=m,yt=g;else for(;yt!==null;){m=yt;var b=m.sibling,y=m.return;if(lE(m),m===f){yt=null;break}if(b!==null){b.return=y,yt=b;break}yt=y}}}var w=a.alternate;if(w!==null){var A=w.child;if(A!==null){w.child=null;do{var N=A.sibling;A.sibling=null,A=N}while(A!==null)}}yt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,yt=o;else e:for(;yt!==null;){if(a=yt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:oh(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,yt=S;break e}yt=a.return}}var E=e.current;for(yt=E;yt!==null;){o=yt;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,yt=k;else e:for(o=E;yt!==null;){if(c=yt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Wp(9,c)}}catch(W){In(c,c.return,W)}if(c===o){yt=null;break e}var P=c.sibling;if(P!==null){P.return=c.return,yt=P;break e}yt=c.return}}if(wr=i,_c(),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(Op,e)}catch{}n=!0}return n}finally{Br=r,Cs.transition=t}}return!1}function s4(e,t,r){t=Bd(r,t),t=Z8(e,t,1),e=mc(e,t,1),t=ua(),e!==null&&(Qh(e,1,t),ka(e,t))}function In(e,t,r){if(e.tag===3)s4(e,e,r);else for(;t!==null;){if(t.tag===3){s4(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pc===null||!pc.has(n))){e=Bd(r,e),e=J8(t,e,1),t=mc(t,e,1),e=ua(),t!==null&&(Qh(t,1,e),ka(t,e));break}}t=t.return}}function _D(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ua(),e.pingedLanes|=e.suspendedLanes&r,vi===e&&(Mi&r)===r&&(ci===4||ci===3&&(Mi&130023424)===Mi&&500>Ln()-tw?uu(e,0):ew|=r),ka(e,t)}function yE(e,t){t===0&&(e.mode&1?(t=X0,X0<<=1,!(X0&130023424)&&(X0=4194304)):t=1);var r=ua();e=Nl(e,t),e!==null&&(Qh(e,t,r),ka(e,r))}function ID(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yE(e,r)}function PD(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(at(314))}n!==null&&n.delete(t),yE(e,r)}var vE;vE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sa.current)Aa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Aa=!1,vD(e,t,r);Aa=!!(e.flags&131072)}else Aa=!1,pn&&t.flags&1048576&&A8(t,vm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;H1(e,t),e=t.pendingProps;var i=Rd(t,Qi.current);Nd(t,r),i=Kb(null,t,n,e,i,r);var a=Xb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ea(n)?(a=!0,xm(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$b(t),i.updater=Up,t.stateNode=i,i._reactInternals=t,Ry(t,n,e,r),t=My(null,t,n,!0,a,r)):(t.tag=0,pn&&a&&Lb(t),la(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(H1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=RD(n),e=Hs(n,e),i){case 0:t=Ly(null,t,n,e,r);break e;case 1:t=YN(null,t,n,e,r);break e;case 11:t=KN(null,t,n,e,r);break e;case 14:t=XN(null,t,n,Hs(n.type,e),r);break e}throw Error(at(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hs(n,i),Ly(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hs(n,i),YN(e,t,n,i,r);case 3:e:{if(rE(t),e===null)throw Error(at(387));n=t.pendingProps,a=t.memoizedState,i=a.element,T8(e,t),Nm(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Bd(Error(at(423)),t),t=ZN(e,t,n,r,i);break e}else if(n!==i){i=Bd(Error(at(424)),t),t=ZN(e,t,n,r,i);break e}else for(Ka=hc(t.stateNode.containerInfo.firstChild),Ya=t,pn=!0,Gs=null,r=E8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dd(),n===i){t=Al(e,t,r);break e}la(e,t,n,r)}t=t.child}return t;case 5:return _8(t),e===null&&Iy(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Sy(n,i)?o=null:a!==null&&Sy(n,a)&&(t.flags|=32),tE(e,t),la(e,t,o,r),t.child;case 6:return e===null&&Iy(t),null;case 13:return nE(e,t,r);case 4:return qb(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ld(t,null,n,r):la(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hs(n,i),KN(e,t,n,i,r);case 7:return la(e,t,t.pendingProps,r),t.child;case 8:return la(e,t,t.pendingProps.children,r),t.child;case 12:return la(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Jr(bm,n._currentValue),n._currentValue=o,a!==null)if(Qs(a.value,o)){if(a.children===i.children&&!Sa.current){t=Al(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=xl(-1,r&-r),d.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?d.next=d:(d.next=m.next,m.next=d),f.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),Py(a.return,r,t),c.lanes|=r;break}d=d.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(at(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Py(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}la(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Nd(t,r),i=js(i),n=n(i),t.flags|=1,la(e,t,n,r),t.child;case 14:return n=t.type,i=Hs(n,t.pendingProps),i=Hs(n.type,i),XN(e,t,n,i,r);case 15:return Q8(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hs(n,i),H1(e,t),t.tag=1,Ea(n)?(e=!0,xm(t)):e=!1,Nd(t,r),Y8(t,n,i),Ry(t,n,i,r),My(null,t,n,!0,e,r);case 19:return iE(e,t,r);case 22:return eE(e,t,r)}throw Error(at(156,t.tag))};function bE(e,t){return GS(e,t)}function OD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(e,t,r,n){return new OD(e,t,r,n)}function aw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RD(e){if(typeof e=="function")return aw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cb)return 11;if(e===jb)return 14}return 2}function xc(e,t){var r=e.alternate;return r===null?(r=Ns(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function K1(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")aw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rd:return du(r.children,i,a,t);case Ab:o=8,i|=8;break;case iy:return e=Ns(12,r,t,i|2),e.elementType=iy,e.lanes=a,e;case ay:return e=Ns(13,r,t,i),e.elementType=ay,e.lanes=a,e;case sy:return e=Ns(19,r,t,i),e.elementType=sy,e.lanes=a,e;case _S:return $p(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kS:o=10;break e;case TS:o=9;break e;case Cb:o=11;break e;case jb:o=14;break e;case Ql:o=16,n=null;break e}throw Error(at(130,e==null?e:typeof e,""))}return t=Ns(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function du(e,t,r,n){return e=Ns(7,e,n,t),e.lanes=r,e}function $p(e,t,r,n){return e=Ns(22,e,n,t),e.elementType=_S,e.lanes=r,e.stateNode={isHidden:!1},e}function qx(e,t,r){return e=Ns(6,e,null,t),e.lanes=r,e}function Hx(e,t,r){return t=Ns(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DD(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jx(0),this.expirationTimes=jx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sw(e,t,r,n,i,a,o,c,d){return e=new DD(e,t,r,c,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ns(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$b(a),e}function LD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:td,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wE(e){if(!e)return Ac;e=e._reactInternals;e:{if(Du(e)!==e||e.tag!==1)throw Error(at(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ea(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(at(171))}if(e.tag===1){var r=e.type;if(Ea(r))return w8(e,r,t)}return t}function NE(e,t,r,n,i,a,o,c,d){return e=sw(r,n,!0,e,i,a,o,c,d),e.context=wE(null),r=e.current,n=ua(),i=gc(r),a=xl(n,i),a.callback=t??null,mc(r,a,i),e.current.lanes=i,Qh(e,i,n),ka(e,n),e}function qp(e,t,r,n){var i=t.current,a=ua(),o=gc(i);return r=wE(r),t.context===null?t.context=r:t.pendingContext=r,t=xl(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=mc(i,t,o),e!==null&&(Js(e,i,o,a),z1(e,i,o)),o}function _m(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ow(e,t){o4(e,t),(e=e.alternate)&&o4(e,t)}function MD(){return null}var AE=typeof reportError=="function"?reportError:function(e){console.error(e)};function lw(e){this._internalRoot=e}Hp.prototype.render=lw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(at(409));qp(e,t,null,null)};Hp.prototype.unmount=lw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Au(function(){qp(null,e,null,null)}),t[wl]=null}};function Hp(e){this._internalRoot=e}Hp.prototype.unstable_scheduleHydration=function(e){if(e){var t=e8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<rc.length&&t!==0&&t<rc[r].priority;r++);rc.splice(r,0,e),r===0&&r8(e)}};function cw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function l4(){}function BD(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var f=_m(o);a.call(f)}}var o=NE(t,n,e,0,null,!1,!1,"",l4);return e._reactRootContainer=o,e[wl]=o.current,Nh(e.nodeType===8?e.parentNode:e),Au(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var f=_m(d);c.call(f)}}var d=sw(e,0,!1,null,null,!1,!1,"",l4);return e._reactRootContainer=d,e[wl]=d.current,Nh(e.nodeType===8?e.parentNode:e),Au(function(){qp(t,d,r,n)}),d}function Gp(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var d=_m(o);c.call(d)}}qp(t,o,e,i)}else o=BD(r,t,e,i,n);return _m(o)}JS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yf(t.pendingLanes);r!==0&&(kb(t,r|1),ka(t,Ln()),!(wr&6)&&(Fd=Ln()+500,_c()))}break;case 13:Au(function(){var n=Nl(e,1);if(n!==null){var i=ua();Js(n,e,1,i)}}),ow(e,1)}};Tb=function(e){if(e.tag===13){var t=Nl(e,134217728);if(t!==null){var r=ua();Js(t,e,134217728,r)}ow(e,134217728)}};QS=function(e){if(e.tag===13){var t=gc(e),r=Nl(e,t);if(r!==null){var n=ua();Js(r,e,t,n)}ow(e,t)}};e8=function(){return Br};t8=function(e,t){var r=Br;try{return Br=e,t()}finally{Br=r}};gy=function(e,t,r){switch(t){case"input":if(cy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Mp(n);if(!i)throw Error(at(90));PS(n),cy(n,i)}}}break;case"textarea":RS(e,r);break;case"select":t=r.value,t!=null&&yd(e,!!r.multiple,t,!1)}};WS=rw;zS=Au;var FD={usingClientEntryPoint:!1,Events:[t0,sd,Mp,FS,US,rw]},Rf={findFiberByHostInstance:nu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UD={bundleType:Rf.bundleType,version:Rf.version,rendererPackageName:Rf.rendererPackageName,rendererConfig:Rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Il.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HS(e),e===null?null:e.stateNode},findFiberByHostInstance:Rf.findFiberByHostInstance||MD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s1.isDisabled&&s1.supportsFiber)try{Op=s1.inject(UD),jo=s1}catch{}}rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FD;rs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cw(t))throw Error(at(200));return LD(e,t,null,r)};rs.createRoot=function(e,t){if(!cw(e))throw Error(at(299));var r=!1,n="",i=AE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sw(e,1,!1,null,null,r,!1,n,i),e[wl]=t.current,Nh(e.nodeType===8?e.parentNode:e),new lw(t)};rs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(at(188)):(e=Object.keys(e).join(","),Error(at(268,e)));return e=HS(t),e=e===null?null:e.stateNode,e};rs.flushSync=function(e){return Au(e)};rs.hydrate=function(e,t,r){if(!Vp(t))throw Error(at(200));return Gp(null,e,t,!0,r)};rs.hydrateRoot=function(e,t,r){if(!cw(e))throw Error(at(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=AE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=NE(t,null,e,1,r??null,i,!1,a,o),e[wl]=t.current,Nh(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Hp(t)};rs.render=function(e,t,r){if(!Vp(t))throw Error(at(200));return Gp(null,e,t,!1,r)};rs.unmountComponentAtNode=function(e){if(!Vp(e))throw Error(at(40));return e._reactRootContainer?(Au(function(){Gp(null,null,e,!1,function(){e._reactRootContainer=null,e[wl]=null})}),!0):!1};rs.unstable_batchedUpdates=rw;rs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vp(r))throw Error(at(200));if(e==null||e._reactInternals===void 0)throw Error(at(38));return Gp(e,t,r,!1,n)};rs.version="18.3.1-next-f1338f8080-20240426";function CE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CE)}catch(e){console.error(e)}}CE(),CS.exports=rs;var uw=CS.exports,c4=uw;ry.createRoot=c4.createRoot,ry.hydrateRoot=c4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}var oc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oc||(oc={}));const u4="popstate";function WD(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:c}=n.location;return Xy("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Im(i)}return $D(t,r,null,e)}function Un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zD(){return Math.random().toString(36).substr(2,8)}function d4(e,t){return{usr:e.state,key:e.key,idx:t}}function Xy(e,t,r,n){return r===void 0&&(r=null),Ih({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rf(t):t,{state:r,key:t&&t.key||n||zD()})}function Im(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $D(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,c=oc.Pop,d=null,f=m();f==null&&(f=0,o.replaceState(Ih({},o.state,{idx:f}),""));function m(){return(o.state||{idx:null}).idx}function g(){c=oc.Pop;let N=m(),S=N==null?null:N-f;f=N,d&&d({action:c,location:A.location,delta:S})}function b(N,S){c=oc.Push;let E=Xy(A.location,N,S);f=m()+1;let k=d4(E,f),P=A.createHref(E);try{o.pushState(k,"",P)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(P)}a&&d&&d({action:c,location:A.location,delta:1})}function y(N,S){c=oc.Replace;let E=Xy(A.location,N,S);f=m();let k=d4(E,f),P=A.createHref(E);o.replaceState(k,"",P),a&&d&&d({action:c,location:A.location,delta:0})}function w(N){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:Im(N);return E=E.replace(/ $/,"%20"),Un(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let A={get action(){return c},get location(){return e(i,o)},listen(N){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(u4,g),d=N,()=>{i.removeEventListener(u4,g),d=null}},createHref(N){return t(i,N)},createURL:w,encodeLocation(N){let S=w(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:y,go(N){return o.go(N)}};return A}var f4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(f4||(f4={}));function qD(e,t,r){return r===void 0&&(r="/"),HD(e,t,r)}function HD(e,t,r,n){let i=typeof t=="string"?rf(t):t,a=dw(i.pathname||"/",r);if(a==null)return null;let o=SE(e);VD(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let f=iL(a);c=tL(o[d],f)}return c}function SE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Un(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=yc([n,d.relativePath]),m=r.concat(d);a.children&&a.children.length>0&&(Un(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),SE(a.children,t,m,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:QD(f,a.index),routesMeta:m})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let d of EE(a.path))i(a,o,d)}),t}function EE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=EE(n.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function VD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:eL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GD=/^:[\w-]+$/,KD=3,XD=2,YD=1,ZD=10,JD=-2,h4=e=>e==="*";function QD(e,t){let r=e.split("/"),n=r.length;return r.some(h4)&&(n+=JD),t&&(n+=XD),r.filter(i=>!h4(i)).reduce((i,a)=>i+(GD.test(a)?KD:a===""?YD:ZD),n)}function eL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function tL(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",g=rL({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),b=d.route;if(!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:yc([a,g.pathname]),pathnameBase:lL(yc([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=yc([a,g.pathnameBase]))}return o}function rL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=nL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((f,m,g)=>{let{paramName:b,isOptional:y}=m;if(b==="*"){let A=c[g]||"";o=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const w=c[g];return y&&!w?f[b]=void 0:f[b]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function nL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function iL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function aL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?rf(e):e;return{pathname:r?r.startsWith("/")?r:sL(r,t):t,search:cL(n),hash:uL(i)}}function sL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Vx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function fw(e,t){let r=oL(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hw(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=rf(e):(i=Ih({},e),Un(!i.pathname||!i.pathname.includes("?"),Vx("?","pathname","search",i)),Un(!i.pathname||!i.pathname.includes("#"),Vx("#","pathname","hash",i)),Un(!i.search||!i.search.includes("#"),Vx("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=r;else{let g=t.length-1;if(!n&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}c=g>=0?t[g]:"/"}let d=aL(i,c),f=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const yc=e=>e.join("/").replace(/\/\/+/g,"/"),lL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kE=["post","put","patch","delete"];new Set(kE);const fL=["get",...kE];new Set(fL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}const mw=I.createContext(null),hL=I.createContext(null),Ic=I.createContext(null),Kp=I.createContext(null),Ro=I.createContext({outlet:null,matches:[],isDataRoute:!1}),TE=I.createContext(null);function mL(e,t){let{relative:r}=t===void 0?{}:t;nf()||Un(!1);let{basename:n,navigator:i}=I.useContext(Ic),{hash:a,pathname:o,search:c}=IE(e,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:yc([n,o])),i.createHref({pathname:d,search:c,hash:a})}function nf(){return I.useContext(Kp)!=null}function af(){return nf()||Un(!1),I.useContext(Kp).location}function _E(e){I.useContext(Ic).static||I.useLayoutEffect(e)}function n0(){let{isDataRoute:e}=I.useContext(Ro);return e?_L():pL()}function pL(){nf()||Un(!1);let e=I.useContext(mw),{basename:t,future:r,navigator:n}=I.useContext(Ic),{matches:i}=I.useContext(Ro),{pathname:a}=af(),o=JSON.stringify(fw(i,r.v7_relativeSplatPath)),c=I.useRef(!1);return _E(()=>{c.current=!0}),I.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=hw(f,JSON.parse(o),a,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:yc([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,o,a,e])}const gL=I.createContext(null);function xL(e){let t=I.useContext(Ro).outlet;return t&&I.createElement(gL.Provider,{value:e},t)}function yL(){let{matches:e}=I.useContext(Ro),t=e[e.length-1];return t?t.params:{}}function IE(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=I.useContext(Ic),{matches:i}=I.useContext(Ro),{pathname:a}=af(),o=JSON.stringify(fw(i,n.v7_relativeSplatPath));return I.useMemo(()=>hw(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function vL(e,t){return bL(e,t)}function bL(e,t,r,n){nf()||Un(!1);let{navigator:i}=I.useContext(Ic),{matches:a}=I.useContext(Ro),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let f=af(),m;if(t){var g;let N=typeof t=="string"?rf(t):t;d==="/"||(g=N.pathname)!=null&&g.startsWith(d)||Un(!1),m=N}else m=f;let b=m.pathname||"/",y=b;if(d!=="/"){let N=d.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=qD(e,{pathname:y}),A=jL(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:yc([d,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:yc([d,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,r,n);return t&&A?I.createElement(Kp.Provider,{value:{location:Ph({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:oc.Pop}},A):A}function wL(){let e=TL(),t=dL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:i},r):null,null)}const NL=I.createElement(wL,null);class AL extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?I.createElement(Ro.Provider,{value:this.props.routeContext},I.createElement(TE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CL(e){let{routeContext:t,match:r,children:n}=e,i=I.useContext(mw);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Ro.Provider,{value:t},n)}function jL(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(i=r)==null?void 0:i.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);m>=0||Un(!1),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:b,errors:y}=r,w=g.route.loader&&b[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,b)=>{let y,w=!1,A=null,N=null;r&&(y=c&&g.route.id?c[g.route.id]:void 0,A=g.route.errorElement||NL,d&&(f<0&&b===0?(IL("route-fallback"),w=!0,N=null):f===b&&(w=!0,N=g.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,b+1)),E=()=>{let k;return y?k=A:w?k=N:g.route.Component?k=I.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=m,I.createElement(CL,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:k})};return r&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?I.createElement(AL,{location:r.location,revalidation:r.revalidation,component:A,error:y,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}var PE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(PE||{}),OE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(OE||{});function SL(e){let t=I.useContext(mw);return t||Un(!1),t}function EL(e){let t=I.useContext(hL);return t||Un(!1),t}function kL(e){let t=I.useContext(Ro);return t||Un(!1),t}function RE(e){let t=kL(),r=t.matches[t.matches.length-1];return r.route.id||Un(!1),r.route.id}function TL(){var e;let t=I.useContext(TE),r=EL(),n=RE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function _L(){let{router:e}=SL(PE.UseNavigateStable),t=RE(OE.UseNavigateStable),r=I.useRef(!1);return _E(()=>{r.current=!0}),I.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ph({fromRouteId:t},a)))},[e,t])}const m4={};function IL(e,t,r){m4[e]||(m4[e]=!0)}function PL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cd(e){let{to:t,replace:r,state:n,relative:i}=e;nf()||Un(!1);let{future:a,static:o}=I.useContext(Ic),{matches:c}=I.useContext(Ro),{pathname:d}=af(),f=n0(),m=hw(t,fw(c,a.v7_relativeSplatPath),d,i==="path"),g=JSON.stringify(m);return I.useEffect(()=>f(JSON.parse(g),{replace:r,state:n,relative:i}),[f,g,i,r,n]),null}function OL(e){return xL(e.context)}function hn(e){Un(!1)}function RL(e){let{basename:t="/",children:r=null,location:n,navigationType:i=oc.Pop,navigator:a,static:o=!1,future:c}=e;nf()&&Un(!1);let d=t.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:d,navigator:a,static:o,future:Ph({v7_relativeSplatPath:!1},c)}),[d,c,a,o]);typeof n=="string"&&(n=rf(n));let{pathname:m="/",search:g="",hash:b="",state:y=null,key:w="default"}=n,A=I.useMemo(()=>{let N=dw(m,d);return N==null?null:{location:{pathname:N,search:g,hash:b,state:y,key:w},navigationType:i}},[d,m,g,b,y,w,i]);return A==null?null:I.createElement(Ic.Provider,{value:f},I.createElement(Kp.Provider,{children:r,value:A}))}function DL(e){let{children:t,location:r}=e;return vL(Yy(t),r)}new Promise(()=>{});function Yy(e,t){t===void 0&&(t=[]);let r=[];return I.Children.forEach(e,(n,i)=>{if(!I.isValidElement(n))return;let a=[...t,i];if(n.type===I.Fragment){r.push.apply(r,Yy(n.props.children,a));return}n.type!==hn&&Un(!1),!n.props.index||!n.props.children||Un(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Yy(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}function LL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ML(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BL(e,t){return e.button===0&&(!t||t==="_self")&&!ML(e)}const FL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UL="6";try{window.__reactRouterVersion=UL}catch{}const WL="startTransition",p4=NS[WL];function zL(e){let{basename:t,children:r,future:n,window:i}=e,a=I.useRef();a.current==null&&(a.current=WD({window:i,v5Compat:!0}));let o=a.current,[c,d]=I.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},m=I.useCallback(g=>{f&&p4?p4(()=>d(g)):d(g)},[d,f]);return I.useLayoutEffect(()=>o.listen(m),[o,m]),I.useEffect(()=>PL(n),[n]),I.createElement(RL,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const $L=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jf=I.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:c,target:d,to:f,preventScrollReset:m,viewTransition:g}=t,b=LL(t,FL),{basename:y}=I.useContext(Ic),w,A=!1;if(typeof f=="string"&&qL.test(f)&&(w=f,$L))try{let k=new URL(window.location.href),P=f.startsWith("//")?new URL(k.protocol+f):new URL(f),W=dw(P.pathname,y);P.origin===k.origin&&W!=null?f=W+P.search+P.hash:A=!0}catch{}let N=mL(f,{relative:i}),S=HL(f,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:g});function E(k){n&&n(k),k.defaultPrevented||S(k)}return I.createElement("a",Zy({},b,{href:w||N,onClick:A||a?n:E,ref:r,target:d}))});var g4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(g4||(g4={}));var x4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(x4||(x4={}));function HL(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:c}=t===void 0?{}:t,d=n0(),f=af(),m=IE(e,{relative:o});return I.useCallback(g=>{if(BL(g,r)){g.preventDefault();let b=n!==void 0?n:Im(f)===Im(m);d(e,{replace:b,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[f,d,m,n,i,r,e,a,o,c])}function VL({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const jd=I.forwardRef(VL);function GL({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const KL=I.forwardRef(GL);function XL({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const YL=I.forwardRef(XL);function ZL({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Oh=I.forwardRef(ZL);function JL({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Jy=I.forwardRef(JL);function QL({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const eM=I.forwardRef(QL);function tM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const rM=I.forwardRef(tM);function nM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Rh=I.forwardRef(nM);function iM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const aM=I.forwardRef(iM);function sM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const pw=I.forwardRef(sM);function oM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const X1=I.forwardRef(oM);function lM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const Qy=I.forwardRef(lM);function cM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const uM=I.forwardRef(cM);function dM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const DE=I.forwardRef(dM);function fM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const gw=I.forwardRef(fM);function hM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const mM=I.forwardRef(hM);function pM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const y4=I.forwardRef(pM);function gM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bi=I.forwardRef(gM);function xM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fu=I.forwardRef(xM);function yM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ev=I.forwardRef(yM);function vM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const LE=I.forwardRef(vM);function bM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Cl=I.forwardRef(bM);function wM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Eo=I.forwardRef(wM);function NM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const ME=I.forwardRef(NM);function AM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const v4=I.forwardRef(AM);function CM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const jM=I.forwardRef(CM);function SM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const eo=I.forwardRef(SM);function EM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Xp=I.forwardRef(EM);function kM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const TM=I.forwardRef(kM);function _M({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const IM=I.forwardRef(_M);function PM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Yp=I.forwardRef(PM);function OM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Dh=I.forwardRef(OM);function RM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const DM=I.forwardRef(RM);function LM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Pm=I.forwardRef(LM);function MM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const BM=I.forwardRef(MM);function FM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Zp=I.forwardRef(FM);function UM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const BE=I.forwardRef(UM);function WM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const zM=I.forwardRef(WM);function $M({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))}const Jp=I.forwardRef($M);function qM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const sf=I.forwardRef(qM);function HM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const VM=I.forwardRef(HM);function GM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const tv=I.forwardRef(GM);function KM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Cu=I.forwardRef(KM);function XM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const ju=I.forwardRef(XM);function YM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const ko=I.forwardRef(YM);function ZM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Om=I.forwardRef(ZM);function JM({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const QM=I.forwardRef(JM);function eB({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Su=I.forwardRef(eB);function tB({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const vc=I.forwardRef(tB);function rB({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const nB=I.forwardRef(rB);function iB({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Lh=I.forwardRef(iB);function aB({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const b4=I.forwardRef(aB);function sB({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const oB=I.forwardRef(sB);function lB({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const to=I.forwardRef(lB);function cB({title:e,titleId:t,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?I.createElement("title",{id:t},e):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Pc=I.forwardRef(cB),uB={ADMIN:[{name:"Dashboard",href:"/dashboard",icon:Pm},{name:"Shipments",href:"/shipments",icon:jd},{name:"Racks",href:"/racks",icon:Cl},{name:"Moving Jobs",href:"/moving-jobs",icon:vc},{name:"Invoices",href:"/invoices",icon:eo},{name:"Expenses",href:"/expenses",icon:Rh},{name:"Scanner",href:"/scanner",icon:ko},{name:"Settings",href:"/settings",icon:ev}],MANAGER:[{name:"Dashboard",href:"/dashboard",icon:Pm},{name:"Shipments",href:"/shipments",icon:jd},{name:"Racks",href:"/racks",icon:Cl},{name:"Moving Jobs",href:"/moving-jobs",icon:vc},{name:"Invoices",href:"/invoices",icon:eo},{name:"Expenses",href:"/expenses",icon:Rh},{name:"Scanner",href:"/scanner",icon:ko}],WORKER:[{name:"My Jobs",href:"/my-jobs",icon:vc},{name:"QR Scanner",href:"/scanner",icon:ko},{name:"My Tasks",href:"/my-tasks",icon:jd}]},dB=[{name:"Role Management",href:"/admin/roles",icon:Om}],fB=()=>{var d,f,m;const[e,t]=I.useState(!1),[r,n]=I.useState(null),i=af(),a=n0();I.useEffect(()=>{const g=localStorage.getItem("user");if(g)try{const b=JSON.parse(g);n(b),b.role==="WORKER"&&i.pathname==="/dashboard"&&a("/scanner",{replace:!0})}catch{console.error("Failed to parse user data")}},[i.pathname,a]);const o=g=>i.pathname.startsWith(g),c=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a("/login")};return s.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>t(!1)}),s.jsxs("div",{className:`
          fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
          ${e?"translate-x-0":"-translate-x-full"}
        `,children:[s.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx(Cl,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"WMS"})]}),s.jsx("button",{onClick:()=>t(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:s.jsx(Pc,{className:"h-6 w-6"})})]}),s.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:[(r==null?void 0:r.role)&&((d=uB[r.role])==null?void 0:d.map(g=>{const b=g.icon,y=o(g.href);return s.jsxs(Jf,{to:g.href,className:`
                  flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors
                  ${y?"bg-primary-50 text-primary-700 border-l-4 border-primary-600":"text-gray-700 hover:bg-gray-100"}
                `,onClick:()=>t(!1),children:[s.jsx(b,{className:`mr-3 h-5 w-5 ${y?"text-primary-600":"text-gray-400"}`}),g.name]},g.name)})),(r==null?void 0:r.role)==="ADMIN"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"pt-4 pb-2",children:s.jsx("p",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Admin"})}),dB.map(g=>{const b=g.icon,y=o(g.href),w=g.href==="/admin/ai-testing";return s.jsxs(Jf,{to:g.href,className:`
                      flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors
                      ${y?w?"bg-purple-50 text-purple-700 border-l-4 border-purple-600":"bg-red-50 text-red-700 border-l-4 border-red-600":"text-gray-700 hover:bg-gray-100"}
                    `,onClick:()=>t(!1),children:[s.jsx(b,{className:`mr-3 h-5 w-5 ${y?w?"text-purple-600":"text-red-600":"text-gray-400"}`}),g.name]},g.name)})]})]}),s.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-3",children:[s.jsxs(Jf,{to:"/profile",className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>t(!1),children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-medium",children:((m=(f=r==null?void 0:r.name)==null?void 0:f.charAt(0))==null?void 0:m.toUpperCase())||"U"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(r==null?void 0:r.name)||"User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:(r==null?void 0:r.email)||"user@demo.com"}),s.jsx("p",{className:"text-xs text-primary-600 font-medium",children:"View Profile →"})]})]}),s.jsxs("button",{onClick:c,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[s.jsx(Jy,{className:"mr-3 h-5 w-5"}),"Logout"]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white shadow-sm z-30",children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[s.jsx("button",{onClick:()=>t(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:s.jsx(aM,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex-1 flex items-center justify-end space-x-4",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),s.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600",children:[s.jsx(pw,{className:"h-6 w-6"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsxs(Jf,{to:"/profile",className:"flex items-center space-x-2 px-3 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"View Profile",children:[s.jsx(nB,{className:"h-8 w-8"}),s.jsx("span",{className:"hidden md:inline text-sm font-medium",children:(r==null?void 0:r.name)||"Profile"})]}),s.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",title:"Logout",children:[s.jsx(Jy,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx(OL,{})})]})]})};function FE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=FE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Wn(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=FE(e))&&(n&&(n+=" "),n+=t);return n}var Qp={},UE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(UE);var xw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(xw);var eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(eg);var tg={},WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(WE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WE,r=eg;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const g=i[c];f?g==="\\"&&c+1<o?(c++,d+=i[c]):g===f?f="":d+=g:m?g==='"'||g==="'"?f=g:g==="]"?(m=!1,a.push(d),d=""):d+=g:g==="["?(m=!0,d&&(a.push(d),d="")):g==="."?d&&(a.push(d),d=""):d+=g,c++}return d&&a.push(d),a}e.toPath=n})(tg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE,r=xw,n=eg,i=tg;function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?r.isDeepKey(d)?a(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return o(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function o(c,d,f){if(d.length===0)return f;let m=c;for(let g=0;g<d.length;g++){if(m==null||t.isUnsafeProperty(d[g]))return f;m=m[d[g]]}return m===void 0?f:m}e.get=a})(Qp);var hB=Qp.get;const Mh=Oo(hB);var zE={exports:{}},Fr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw=Symbol.for("react.element"),vw=Symbol.for("react.portal"),rg=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),ag=Symbol.for("react.provider"),sg=Symbol.for("react.context"),mB=Symbol.for("react.server_context"),og=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),cg=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),pB=Symbol.for("react.offscreen"),$E;$E=Symbol.for("react.module.reference");function _s(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yw:switch(e=e.type,e){case rg:case ig:case ng:case lg:case cg:return e;default:switch(e=e&&e.$$typeof,e){case mB:case sg:case og:case dg:case ug:case ag:return e;default:return t}}case vw:return t}}}Fr.ContextConsumer=sg;Fr.ContextProvider=ag;Fr.Element=yw;Fr.ForwardRef=og;Fr.Fragment=rg;Fr.Lazy=dg;Fr.Memo=ug;Fr.Portal=vw;Fr.Profiler=ig;Fr.StrictMode=ng;Fr.Suspense=lg;Fr.SuspenseList=cg;Fr.isAsyncMode=function(){return!1};Fr.isConcurrentMode=function(){return!1};Fr.isContextConsumer=function(e){return _s(e)===sg};Fr.isContextProvider=function(e){return _s(e)===ag};Fr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yw};Fr.isForwardRef=function(e){return _s(e)===og};Fr.isFragment=function(e){return _s(e)===rg};Fr.isLazy=function(e){return _s(e)===dg};Fr.isMemo=function(e){return _s(e)===ug};Fr.isPortal=function(e){return _s(e)===vw};Fr.isProfiler=function(e){return _s(e)===ig};Fr.isStrictMode=function(e){return _s(e)===ng};Fr.isSuspense=function(e){return _s(e)===lg};Fr.isSuspenseList=function(e){return _s(e)===cg};Fr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rg||e===ig||e===ng||e===lg||e===cg||e===pB||typeof e=="object"&&e!==null&&(e.$$typeof===dg||e.$$typeof===ug||e.$$typeof===ag||e.$$typeof===sg||e.$$typeof===og||e.$$typeof===$E||e.getModuleId!==void 0)};Fr.typeOf=_s;zE.exports=Fr;var gB=zE.exports,Ca=e=>e===0?0:e>0?1:-1,ro=e=>typeof e=="number"&&e!=+e,su=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,or=e=>(typeof e=="number"||e instanceof Number)&&!ro(e),jl=e=>or(e)||typeof e=="string",xB=0,Bh=e=>{var t=++xB;return"".concat(e||"").concat(t)},Za=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!or(t)&&typeof t!="string")return n;var a;if(su(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return ro(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},qE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ks(e,t,r){return or(e)&&or(t)?e+r*(t-e):t}function yB(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Mh(n,t))===r)}var es=e=>e===null||typeof e>"u",i0=e=>es(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),vB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bw(e){if(typeof e!="string")return!1;var t=vB;return t.includes(e)}var bB=["viewBox","children"],w4=["points","pathLength"],Gx={svg:bB,polygon:w4,polyline:w4},wB=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{bw(i)&&(n[i]=a=>r[i](r,a))}),n},NB=(e,t,r)=>n=>(e(t,r,n),null),HE=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];bw(i)&&typeof a=="function"&&(n||(n={}),n[i]=NB(a,t,r))}),n},AB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VE(e){if(typeof e!="string")return!1;var t=AB;return t.includes(e)}function fg(e){var t=Object.entries(e).filter(r=>{var[n]=r;return VE(n)});return Object.fromEntries(t)}var N4=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",A4=null,Kx=null,GE=e=>{if(e===A4&&Array.isArray(Kx))return Kx;var t=[];return I.Children.forEach(e,r=>{es(r)||(gB.isFragment(r)?t=t.concat(GE(r.props.children)):t.push(r))}),Kx=t,A4=e,t};function KE(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>N4(i)):n=[N4(t)],GE(e).forEach(i=>{var a=Mh(i,"type.displayName")||Mh(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var CB=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(Gx==null?void 0:Gx[n]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),c=typeof e!="function"&&(!!n&&a.includes(t)||VE(t)),d=!!r&&bw(t);return o||c||d},da=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(I.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;CB((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},jB=["children","width","height","viewBox","className","style","title","desc"];function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(null,arguments)}function SB(e,t){if(e==null)return{};var r,n,i=EB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ww=I.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:c,title:d,desc:f}=e,m=SB(e,jB),g=a||{width:n,height:i,x:0,y:0},b=Wn("recharts-surface",o);return I.createElement("svg",rv({},da(m,!0,"svg"),{className:b,width:n,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),I.createElement("title",null,d),I.createElement("desc",null,f),r)}),kB=["children","className"];function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(null,arguments)}function TB(e,t){if(e==null)return{};var r,n,i=_B(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _B(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cc=I.forwardRef((e,t)=>{var{children:r,className:n}=e,i=TB(e,kB),a=Wn("recharts-layer",n);return I.createElement("g",nv({className:a},da(i,!0),{ref:t}),r)}),XE=I.createContext(null),IB=()=>I.useContext(XE);function Zr(e){return function(){return e}}const YE=Math.cos,Rm=Math.sin,ao=Math.sqrt,Dm=Math.PI,hg=2*Dm,iv=Math.PI,av=2*iv,Zc=1e-6,PB=av-Zc;function ZE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function OB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZE;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class RB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZE:OB(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,d=n-t,f=i-r,m=o-t,g=c-r,b=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(b>Zc)if(!(Math.abs(g*d-f*m)>Zc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-o,w=i-c,A=d*d+f*f,N=y*y+w*w,S=Math.sqrt(A),E=Math.sqrt(b),k=a*Math.tan((iv-Math.acos((A+b-N)/(2*S*E)))/2),P=k/E,W=k/S;Math.abs(P-1)>Zc&&this._append`L${t+P*m},${r+P*g}`,this._append`A${a},${a},0,0,${+(g*y>m*w)},${this._x1=t+W*d},${this._y1=r+W*f}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),f=t+c,m=r+d,g=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Zc||Math.abs(this._y1-m)>Zc)&&this._append`L${f},${m}`,n&&(b<0&&(b=b%av+av),b>PB?this._append`A${n},${n},0,1,${g},${t-c},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=m}`:b>Zc&&this._append`A${n},${n},0,${+(b>=iv)},${g},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Nw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new RB(t)}function Aw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JE(e){this._context=e}JE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mg(e){return new JE(e)}function QE(e){return e[0]}function e7(e){return e[1]}function t7(e,t){var r=Zr(!0),n=null,i=mg,a=null,o=Nw(c);e=typeof e=="function"?e:e===void 0?QE:Zr(e),t=typeof t=="function"?t:t===void 0?e7:Zr(t);function c(d){var f,m=(d=Aw(d)).length,g,b=!1,y;for(n==null&&(a=i(y=o())),f=0;f<=m;++f)!(f<m&&r(g=d[f],f,d))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(g,f,d),+t(g,f,d));if(y)return a=null,y+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Zr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Zr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Zr(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),c):n},c}function o1(e,t,r){var n=null,i=Zr(!0),a=null,o=mg,c=null,d=Nw(f);e=typeof e=="function"?e:e===void 0?QE:Zr(+e),t=typeof t=="function"?t:Zr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?e7:Zr(+r);function f(g){var b,y,w,A=(g=Aw(g)).length,N,S=!1,E,k=new Array(A),P=new Array(A);for(a==null&&(c=o(E=d())),b=0;b<=A;++b){if(!(b<A&&i(N=g[b],b,g))===S)if(S=!S)y=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=b-1;w>=y;--w)c.point(k[w],P[w]);c.lineEnd(),c.areaEnd()}S&&(k[b]=+e(N,b,g),P[b]=+t(N,b,g),c.point(n?+n(N,b,g):k[b],r?+r(N,b,g):P[b]))}if(E)return c=null,E+""||null}function m(){return t7().defined(i).curve(o).context(a)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Zr(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Zr(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Zr(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Zr(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Zr(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Zr(+g),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Zr(!!g),f):i},f.curve=function(g){return arguments.length?(o=g,a!=null&&(c=o(a)),f):o},f.context=function(g){return arguments.length?(g==null?a=c=null:c=o(a=g),f):a},f}class r7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function DB(e){return new r7(e,!0)}function LB(e){return new r7(e,!1)}const Cw={draw(e,t){const r=ao(t/Dm);e.moveTo(r,0),e.arc(0,0,r,0,hg)}},MB={draw(e,t){const r=ao(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},n7=ao(1/3),BB=n7*2,FB={draw(e,t){const r=ao(t/BB),n=r*n7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},UB={draw(e,t){const r=ao(t),n=-r/2;e.rect(n,n,r,r)}},WB=.8908130915292852,i7=Rm(Dm/10)/Rm(7*Dm/10),zB=Rm(hg/10)*i7,$B=-YE(hg/10)*i7,qB={draw(e,t){const r=ao(t*WB),n=zB*r,i=$B*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=hg*a/5,c=YE(o),d=Rm(o);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*i,d*n+c*i)}e.closePath()}},Xx=ao(3),HB={draw(e,t){const r=-ao(t/(Xx*3));e.moveTo(0,r*2),e.lineTo(-Xx*r,-r),e.lineTo(Xx*r,-r),e.closePath()}},ps=-.5,gs=ao(3)/2,sv=1/ao(12),VB=(sv/2+1)*3,GB={draw(e,t){const r=ao(t/VB),n=r/2,i=r*sv,a=n,o=r*sv+r,c=-a,d=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(c,d),e.lineTo(ps*n-gs*i,gs*n+ps*i),e.lineTo(ps*a-gs*o,gs*a+ps*o),e.lineTo(ps*c-gs*d,gs*c+ps*d),e.lineTo(ps*n+gs*i,ps*i-gs*n),e.lineTo(ps*a+gs*o,ps*o-gs*a),e.lineTo(ps*c+gs*d,ps*d-gs*c),e.closePath()}};function KB(e,t){let r=null,n=Nw(i);e=typeof e=="function"?e:Zr(e||Cw),t=typeof t=="function"?t:Zr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Zr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Zr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Lm(){}function Mm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function a7(e){this._context=e}a7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XB(e){return new a7(e)}function s7(e){this._context=e}s7.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YB(e){return new s7(e)}function o7(e){this._context=e}o7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZB(e){return new o7(e)}function l7(e){this._context=e}l7.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JB(e){return new l7(e)}function C4(e){return e<0?-1:1}function j4(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),c=(a*i+o*n)/(n+i);return(C4(a)+C4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function S4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Yx(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,c=(a-n)/3;e._context.bezierCurveTo(n+c,i+c*t,a-c,o-c*r,a,o)}function Bm(e){this._context=e}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yx(this,this._t0,S4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yx(this,S4(this,r=j4(this,e,t)),r);break;default:Yx(this,this._t0,r=j4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function c7(e){this._context=new u7(e)}(c7.prototype=Object.create(Bm.prototype)).point=function(e,t){Bm.prototype.point.call(this,t,e)};function u7(e){this._context=e}u7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function QB(e){return new Bm(e)}function eF(e){return new c7(e)}function d7(e){this._context=e}d7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=E4(e),i=E4(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function E4(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function tF(e){return new d7(e)}function pg(e,t){this._context=e,this._t=t}pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rF(e){return new pg(e,.5)}function nF(e){return new pg(e,0)}function iF(e){return new pg(e,1)}function Ud(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,c=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ov(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function aF(e,t){return e[t]}function sF(e){const t=[];return t.key=e,t}function oF(){var e=Zr([]),t=ov,r=Ud,n=aF;function i(a){var o=Array.from(e.apply(this,arguments),sF),c,d=o.length,f=-1,m;for(const g of a)for(c=0,++f;c<d;++c)(o[c][f]=[0,+n(g,o[c].key,f,a)]).data=g;for(c=0,m=Aw(t(o));c<d;++c)o[m[c]].index=c;return r(o,m),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Zr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Zr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ov:typeof a=="function"?a:Zr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ud,i):r},i}function lF(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Ud(e,t)}}function cF(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,c=0;o<i;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Ud(e,t)}}function uF(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var c=0,d=0,f=0;c<o;++c){for(var m=e[t[c]],g=m[n][1]||0,b=m[n-1][1]||0,y=(g-b)/2,w=0;w<c;++w){var A=e[t[w]],N=A[n][1]||0,S=A[n-1][1]||0;y+=N-S}d+=g,f+=y*g}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,Ud(e,t)}}var dF=["type","size","sizeType"];function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(null,arguments)}function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){fF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fF(e,t,r){return(t=hF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pF(e,t){if(e==null)return{};var r,n,i=gF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f7={symbolCircle:Cw,symbolCross:MB,symbolDiamond:FB,symbolSquare:UB,symbolStar:qB,symbolTriangle:HB,symbolWye:GB},xF=Math.PI/180,yF=e=>{var t="symbol".concat(i0(e));return f7[t]||Cw},vF=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*xF;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bF=(e,t)=>{f7["symbol".concat(i0(e))]=t},jw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=pF(e,dF),a=T4(T4({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var b=yF(o),y=KB().type(b).size(vF(r,n,o));return y()},{className:d,cx:f,cy:m}=a,g=da(a,!0);return f===+f&&m===+m&&r===+r?I.createElement("path",lv({},g,{className:Wn("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};jw.registerSymbol=bF;function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(null,arguments)}function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){Sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sw(e,t,r){return(t=NF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=AF(e,"string");return typeof t=="symbol"?t:t+""}function AF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xs=32;class Ew extends I.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=xs/2,a=xs/6,o=xs/3,c=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:xs,y2:i,className:"recharts-legend-icon"});if(d==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(xs,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return I.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(xs/8,"h").concat(xs,"v").concat(xs*3/4,"h").concat(-xs,"z"),className:"recharts-legend-icon"});if(I.isValidElement(t.legendIcon)){var f=wF({},t);return delete f.legendIcon,I.cloneElement(t.legendIcon,f)}return I.createElement(jw,{fill:c,cx:i,cy:i,size:xs,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,c={x:0,y:0,width:xs,height:xs},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,g)=>{var b=m.formatter||i,y=Wn({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:m.inactive});if(m.type==="none")return null;var w=m.inactive?a:m.color,A=b?b(m.value,m,g):m.value;return I.createElement("li",cv({className:y,style:d,key:"legend-item-".concat(g)},HE(this.props,m,g)),I.createElement(ww,{width:r,height:r,viewBox:c,style:f,"aria-label":"".concat(A," legend icon")},this.renderIcon(m,o)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},A))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Sw(Ew,"displayName","Legend");Sw(Ew,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var h7={},m7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],c=n(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(m7);var kw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(kw);var p7={},gg={},g7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(g7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(gg);var x7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(x7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gg,r=x7;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(p7);var y7={},v7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qp;function r(n){return function(i){return t.get(i,n)}}e.property=r})(v7);var b7={},Zx={},Jx={},Tw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Tw);var _w={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(_w);var Iw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Iw);var I4;function CF(){return I4||(I4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pw(),r=Tw,n=_w,i=Iw;function a(g,b,y){return typeof y!="function"?t.isMatch(g,b):o(g,b,function w(A,N,S,E,k,P){const W=y(A,N,S,E,k,P);return W!==void 0?!!W:o(A,N,w,P)},new Map)}function o(g,b,y,w){if(b===g)return!0;switch(typeof b){case"object":return c(g,b,y,w);case"function":return Object.keys(b).length>0?o(g,{...b},y,w):i.eq(g,b);default:return r.isObject(g)?typeof b=="string"?b==="":!0:i.eq(g,b)}}function c(g,b,y,w){if(b==null)return!0;if(Array.isArray(b))return f(g,b,y,w);if(b instanceof Map)return d(g,b,y,w);if(b instanceof Set)return m(g,b,y,w);const A=Object.keys(b);if(g==null)return A.length===0;if(A.length===0)return!0;if(w&&w.has(b))return w.get(b)===g;w&&w.set(b,g);try{for(let N=0;N<A.length;N++){const S=A[N];if(!n.isPrimitive(g)&&!(S in g)||b[S]===void 0&&g[S]!==void 0||b[S]===null&&g[S]!==null||!y(g[S],b[S],S,g,b,w))return!1}return!0}finally{w&&w.delete(b)}}function d(g,b,y,w){if(b.size===0)return!0;if(!(g instanceof Map))return!1;for(const[A,N]of b.entries()){const S=g.get(A);if(y(S,N,A,g,b,w)===!1)return!1}return!0}function f(g,b,y,w){if(b.length===0)return!0;if(!Array.isArray(g))return!1;const A=new Set;for(let N=0;N<b.length;N++){const S=b[N];let E=!1;for(let k=0;k<g.length;k++){if(A.has(k))continue;const P=g[k];let W=!1;if(y(P,S,N,g,b,w)&&(W=!0),W){A.add(k),E=!0;break}}if(!E)return!1}return!0}function m(g,b,y,w){return b.size===0?!0:g instanceof Set?f([...g],[...b],y,w):!1}e.isMatchWith=a,e.isSetMatch=m}(Jx)),Jx}var P4;function Pw(){return P4||(P4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CF();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(Zx)),Zx}var w7={},Ow={},N7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(N7);var Rw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Rw);var Dw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",b="[object ArrayBuffer]",y="[object Object]",w="[object Error]",A="[object DataView]",N="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",k="[object Uint32Array]",P="[object BigUint64Array]",W="[object Int8Array]",H="[object Int16Array]",$="[object Int32Array]",F="[object BigInt64Array]",L="[object Float32Array]",J="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=m,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=A,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=L,e.float64ArrayTag=J,e.functionTag=g,e.int16ArrayTag=H,e.int32ArrayTag=$,e.int8ArrayTag=W,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=E,e.uint32ArrayTag=k,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=S})(Dw);var A7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(A7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N7,r=Rw,n=Dw,i=_w,a=A7;function o(m,g){return c(m,void 0,m,new Map,g)}function c(m,g,b,y=new Map,w=void 0){const A=w==null?void 0:w(m,g,b,y);if(A!==void 0)return A;if(i.isPrimitive(m))return m;if(y.has(m))return y.get(m);if(Array.isArray(m)){const N=new Array(m.length);y.set(m,N);for(let S=0;S<m.length;S++)N[S]=c(m[S],S,b,y,w);return Object.hasOwn(m,"index")&&(N.index=m.index),Object.hasOwn(m,"input")&&(N.input=m.input),N}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const N=new RegExp(m.source,m.flags);return N.lastIndex=m.lastIndex,N}if(m instanceof Map){const N=new Map;y.set(m,N);for(const[S,E]of m)N.set(S,c(E,S,b,y,w));return N}if(m instanceof Set){const N=new Set;y.set(m,N);for(const S of m)N.add(c(S,void 0,b,y,w));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const N=new(Object.getPrototypeOf(m)).constructor(m.length);y.set(m,N);for(let S=0;S<m.length;S++)N[S]=c(m[S],S,b,y,w);return N}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const N=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return y.set(m,N),d(N,m,b,y,w),N}if(typeof File<"u"&&m instanceof File){const N=new File([m],m.name,{type:m.type});return y.set(m,N),d(N,m,b,y,w),N}if(typeof Blob<"u"&&m instanceof Blob){const N=new Blob([m],{type:m.type});return y.set(m,N),d(N,m,b,y,w),N}if(m instanceof Error){const N=new m.constructor;return y.set(m,N),N.message=m.message,N.name=m.name,N.stack=m.stack,N.cause=m.cause,d(N,m,b,y,w),N}if(m instanceof Boolean){const N=new Boolean(m.valueOf());return y.set(m,N),d(N,m,b,y,w),N}if(m instanceof Number){const N=new Number(m.valueOf());return y.set(m,N),d(N,m,b,y,w),N}if(m instanceof String){const N=new String(m.valueOf());return y.set(m,N),d(N,m,b,y,w),N}if(typeof m=="object"&&f(m)){const N=Object.create(Object.getPrototypeOf(m));return y.set(m,N),d(N,m,b,y,w),N}return m}function d(m,g,b=m,y,w){const A=[...Object.keys(g),...t.getSymbols(g)];for(let N=0;N<A.length;N++){const S=A[N],E=Object.getOwnPropertyDescriptor(m,S);(E==null||E.writable)&&(m[S]=c(g[S],S,b,y,w))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=d})(Ow);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(w7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pw(),r=w7;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(b7);var C7={},j7={},S7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow,r=Dw;function n(i,a){return t.cloneDeepWith(i,(o,c,d,f)=>{const m=a==null?void 0:a(o,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case r.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(S7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(j7);var E7={},Lw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Lw);var k7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rw;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(k7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xw,r=Lw,n=k7,i=tg;function a(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&(o==null?void 0:o[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=o;for(let m=0;m<d.length;m++){const g=d[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=a})(E7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pw(),r=eg,n=j7,i=Qp,a=E7;function o(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=o})(C7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kw,r=v7,n=b7,i=C7;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(y7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m7,r=kw,n=p7,i=y7;function a(o,c=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=a})(h7);var jF=h7.uniqBy;const O4=Oo(jF);function T7(e,t,r){return t===!0?O4(e,r):typeof t=="function"?O4(e,t):e}var _7={exports:{}},I7={},P7={exports:{}},O7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=I;function SF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EF=typeof Object.is=="function"?Object.is:SF,kF=Wd.useState,TF=Wd.useEffect,_F=Wd.useLayoutEffect,IF=Wd.useDebugValue;function PF(e,t){var r=t(),n=kF({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return _F(function(){i.value=r,i.getSnapshot=t,Qx(i)&&a({inst:i})},[e,r,t]),TF(function(){return Qx(i)&&a({inst:i}),e(function(){Qx(i)&&a({inst:i})})},[e]),IF(r),r}function Qx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!EF(e,r)}catch{return!0}}function OF(e,t){return t()}var RF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OF:PF;O7.useSyncExternalStore=Wd.useSyncExternalStore!==void 0?Wd.useSyncExternalStore:RF;P7.exports=O7;var DF=P7.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=I,LF=DF;function MF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BF=typeof Object.is=="function"?Object.is:MF,FF=LF.useSyncExternalStore,UF=xg.useRef,WF=xg.useEffect,zF=xg.useMemo,$F=xg.useDebugValue;I7.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=UF(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=zF(function(){function d(y){if(!f){if(f=!0,m=y,y=n(y),i!==void 0&&o.hasValue){var w=o.value;if(i(w,y))return g=w}return g=y}if(w=g,BF(m,y))return w;var A=n(y);return i!==void 0&&i(w,A)?(m=y,w):(m=y,g=A)}var f=!1,m,g,b=r===void 0?null:r;return[function(){return d(t())},b===null?void 0:function(){return d(b())}]},[t,r,n,i]);var c=FF(e,a[0],a[1]);return WF(function(){o.hasValue=!0,o.value=c},[c]),$F(c),c};_7.exports=I7;var qF=_7.exports,Mw=I.createContext(null),HF=e=>e,wi=()=>{var e=I.useContext(Mw);return e?e.store.dispatch:HF},Y1=()=>{},VF=()=>Y1,GF=(e,t)=>e===t;function lr(e){var t=I.useContext(Mw);return qF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:VF,t?t.store.getState:Y1,t?t.store.getState:Y1,t?e:Y1,GF)}function KF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function XF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function YF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var R4=e=>Array.isArray(e)?e:[e];function ZF(e){const t=Array.isArray(e[0])?e[0]:e;return YF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function JF(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var QF=class{constructor(e){this.value=e}deref(){return this.value}},eU=typeof WeakRef<"u"?WeakRef:QF,tU=0,D4=1;function l1(){return{s:tU,v:void 0,o:null,p:null}}function R7(e,t={}){let r=l1();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var g;let c=r;const{length:d}=arguments;for(let b=0,y=d;b<y;b++){const w=arguments[b];if(typeof w=="function"||typeof w=="object"&&w!==null){let A=c.o;A===null&&(c.o=A=new WeakMap);const N=A.get(w);N===void 0?(c=l1(),A.set(w,c)):c=N}else{let A=c.p;A===null&&(c.p=A=new Map);const N=A.get(w);N===void 0?(c=l1(),A.set(w,c)):c=N}}const f=c;let m;if(c.s===D4)m=c.v;else if(m=e.apply(null,arguments),a++,n){const b=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;b!=null&&n(b,m)&&(m=b,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new eU(m):m}return f.s=D4,f.v=m,m}return o.clearCache=()=>{r=l1(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function rU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),KF(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:y=R7,argsMemoizeOptions:w=[]}=m,A=R4(b),N=R4(w),S=ZF(i),E=g(function(){return a++,f.apply(null,arguments)},...A),k=y(function(){o++;const W=JF(S,arguments);return c=E.apply(null,W),c},...N);return Object.assign(k,{resultFunc:f,memoizedResultFunc:E,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var qe=rU(R7),nU=Object.assign((e,t=qe)=>{XF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,c,d)=>(o[r[d]]=c,o),{}))},{withTypes:()=>nU}),D7={},L7={},M7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),c=t(i);if(o===c&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};e.compareValues=r})(M7);var B7={},Bw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(B7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7,r=B7,n=tg;function i(a,o,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,w)=>{let A=y;for(let N=0;N<w.length&&A!=null;++N)A=A[w[N]];return A},m=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:f(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?f(w,y):typeof w=="object"?w[y]:w,g=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return a.map(y=>({original:y,criteria:g.map(w=>m(w,y))})).slice().sort((y,w)=>{for(let A=0;A<g.length;A++){const N=t.compareValues(y.criteria[A],w.criteria[A],c[A]);if(N!==0)return N}return 0}).map(y=>y.original)}e.orderBy=i})(L7);var F7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<a?o(m,d+1):i.push(m)}};return o(r,0),i}e.flatten=t})(F7);var Fw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lw,r=gg,n=Tw,i=Iw;function a(o,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],o):!1}e.isIterateeCall=a})(Fw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L7,r=F7,n=Fw;function i(a,...o){const c=o.length;return c>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(D7);var iU=D7.sortBy;const yg=Oo(iU);var U7=e=>e.legend.settings,aU=e=>e.legend.size,sU=e=>e.legend.payload,oU=qe([sU,U7],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?yg(n,r):n});function lU(){return lr(oU)}var c1=1;function W7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=I.useState({height:0,left:0,top:0,width:0}),n=I.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>c1||Math.abs(o.left-t.left)>c1||Math.abs(o.top-t.top)>c1||Math.abs(o.width-t.width)>c1)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ri(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cU=typeof Symbol=="function"&&Symbol.observable||"@@observable",L4=cU,e2=()=>Math.random().toString(36).substring(7).split("").join("."),uU={INIT:`@@redux/INIT${e2()}`,REPLACE:`@@redux/REPLACE${e2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${e2()}`},Fm=uU;function Uw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function z7(e,t,r){if(typeof e!="function")throw new Error(Ri(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ri(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ri(1));return r(z7)(e,t)}let n=e,i=t,a=new Map,o=a,c=0,d=!1;function f(){o===a&&(o=new Map,a.forEach((N,S)=>{o.set(S,N)}))}function m(){if(d)throw new Error(Ri(3));return i}function g(N){if(typeof N!="function")throw new Error(Ri(4));if(d)throw new Error(Ri(5));let S=!0;f();const E=c++;return o.set(E,N),function(){if(S){if(d)throw new Error(Ri(6));S=!1,f(),o.delete(E),a=null}}}function b(N){if(!Uw(N))throw new Error(Ri(7));if(typeof N.type>"u")throw new Error(Ri(8));if(typeof N.type!="string")throw new Error(Ri(17));if(d)throw new Error(Ri(9));try{d=!0,i=n(i,N)}finally{d=!1}return(a=o).forEach(E=>{E()}),N}function y(N){if(typeof N!="function")throw new Error(Ri(10));n=N,b({type:Fm.REPLACE})}function w(){const N=g;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Ri(11));function E(){const P=S;P.next&&P.next(m())}return E(),{unsubscribe:N(E)}},[L4](){return this}}}return b({type:Fm.INIT}),{dispatch:b,subscribe:g,getState:m,replaceReducer:y,[L4]:w}}function dU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Fm.INIT})>"u")throw new Error(Ri(12));if(typeof r(void 0,{type:Fm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ri(13))})}function $7(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{dU(r)}catch(a){i=a}return function(o={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<n.length;m++){const g=n[m],b=r[g],y=o[g],w=b(y,c);if(typeof w>"u")throw c&&c.type,new Error(Ri(14));f[g]=w,d=d||w!==y}return d=d||n.length!==Object.keys(o).length,d?f:o}}function Um(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function fU(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Ri(15))};const o={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=e.map(d=>d(o));return a=Um(...c)(i.dispatch),{...i,dispatch:a}}}function q7(e){return Uw(e)&&"type"in e&&typeof e.type=="string"}var H7=Symbol.for("immer-nothing"),M4=Symbol.for("immer-draftable"),ts=Symbol.for("immer-state");function Xs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zd=Object.getPrototypeOf;function Eu(e){return!!e&&!!e[ts]}function Sl(e){var t;return e?V7(e)||Array.isArray(e)||!!e[M4]||!!((t=e.constructor)!=null&&t[M4])||a0(e)||bg(e):!1}var hU=Object.prototype.constructor.toString();function V7(e){if(!e||typeof e!="object")return!1;const t=zd(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===hU}function Wm(e,t){vg(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function vg(e){const t=e[ts];return t?t.type_:Array.isArray(e)?1:a0(e)?2:bg(e)?3:0}function uv(e,t){return vg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function G7(e,t,r){const n=vg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function mU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function a0(e){return e instanceof Map}function bg(e){return e instanceof Set}function Jc(e){return e.copy_||e.base_}function dv(e,t){if(a0(e))return new Map(e);if(bg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=V7(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ts];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(zd(e),n)}else{const n=zd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Ww(e,t=!1){return wg(e)||Eu(e)||!Sl(e)||(vg(e)>1&&Object.defineProperties(e,{set:{value:u1},add:{value:u1},clear:{value:u1},delete:{value:u1}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Ww(r,!0))),e}function u1(){Xs(2)}function wg(e){return Object.isFrozen(e)}var pU={};function ku(e){const t=pU[e];return t||Xs(0,e),t}var Fh;function K7(){return Fh}function gU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function B4(e,t){t&&(ku("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fv(e){hv(e),e.drafts_.forEach(xU),e.drafts_=null}function hv(e){e===Fh&&(Fh=e.parent_)}function F4(e){return Fh=gU(Fh,e)}function xU(e){const t=e[ts];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function U4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ts].modified_&&(fv(t),Xs(4)),Sl(e)&&(e=zm(t,e),t.parent_||$m(t,e)),t.patches_&&ku("Patches").generateReplacementPatches_(r[ts].base_,e,t.patches_,t.inversePatches_)):e=zm(t,r,[]),fv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==H7?e:void 0}function zm(e,t,r){if(wg(t))return t;const n=t[ts];if(!n)return Wm(t,(i,a)=>W4(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return $m(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Wm(a,(c,d)=>W4(e,n,i,c,d,r,o)),$m(e,i,!1),r&&e.patches_&&ku("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function W4(e,t,r,n,i,a,o){if(Eu(i)){const c=a&&t&&t.type_!==3&&!uv(t.assigned_,n)?a.concat(n):void 0,d=zm(e,i,c);if(G7(r,n,d),Eu(d))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Sl(i)&&!wg(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zm(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(a0(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&$m(e,i)}}function $m(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ww(t,r)}function yU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:K7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=zw;r&&(i=[n],a=Uh);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return n.draft_=c,n.revoke_=o,c}var zw={get(e,t){if(t===ts)return e;const r=Jc(e);if(!uv(r,t))return vU(e,r,t);const n=r[t];return e.finalized_||!Sl(n)?n:n===t2(e.base_,t)?(r2(e),e.copy_[t]=pv(n,e)):n},has(e,t){return t in Jc(e)},ownKeys(e){return Reflect.ownKeys(Jc(e))},set(e,t,r){const n=X7(Jc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=t2(Jc(e),t),a=i==null?void 0:i[ts];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(mU(r,i)&&(r!==void 0||uv(e.base_,t)))return!0;r2(e),mv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return t2(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,r2(e),mv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Xs(11)},getPrototypeOf(e){return zd(e.base_)},setPrototypeOf(){Xs(12)}},Uh={};Wm(zw,(e,t)=>{Uh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Uh.deleteProperty=function(e,t){return Uh.set.call(this,e,t,void 0)};Uh.set=function(e,t,r){return zw.set.call(this,e[0],t,r,e[0])};function t2(e,t){const r=e[ts];return(r?Jc(r):e)[t]}function vU(e,t,r){var i;const n=X7(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function X7(e,t){if(!(t in e))return;let r=zd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zd(r)}}function mv(e){e.modified_||(e.modified_=!0,e.parent_&&mv(e.parent_))}function r2(e){e.copy_||(e.copy_=dv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(d=a,...f){return o.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Xs(6),n!==void 0&&typeof n!="function"&&Xs(7);let i;if(Sl(t)){const a=F4(this),o=pv(t,void 0);let c=!0;try{i=r(o),c=!1}finally{c?fv(a):hv(a)}return B4(a,n),U4(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===H7&&(i=void 0),this.autoFreeze_&&Ww(i,!0),n){const a=[],o=[];ku("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Xs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,d=>t(d,...c));let n,i;return[this.produce(t,r,(o,c)=>{n=o,i=c}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Sl(e)||Xs(8),Eu(e)&&(e=yl(e));const t=F4(this),r=pv(e,void 0);return r[ts].isManual_=!0,hv(t),r}finishDraft(e,t){const r=e&&e[ts];(!r||!r.isManual_)&&Xs(9);const{scope_:n}=r;return B4(n,t),U4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ku("Patches").applyPatches_;return Eu(e)?n(e,t):this.produce(e,i=>n(i,t))}};function pv(e,t){const r=a0(e)?ku("MapSet").proxyMap_(e,t):bg(e)?ku("MapSet").proxySet_(e,t):yU(e,t);return(t?t.scope_:K7()).drafts_.push(r),r}function yl(e){return Eu(e)||Xs(10,e),Y7(e)}function Y7(e){if(!Sl(e)||wg(e))return e;const t=e[ts];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=dv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=dv(e,!0);return Wm(r,(n,i)=>{G7(r,n,Y7(i))}),t&&(t.finalized_=!1),r}var wU=new bU,Z7=wU.produce;function J7(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var NU=J7(),AU=J7,CU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Um:Um.apply(null,arguments)};function Es(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Ja(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>q7(n)&&n.type===e,r}var Q7=class Qf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qf.prototype)}static get[Symbol.species](){return Qf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qf(...t[0].concat(this)):new Qf(...t.concat(this))}};function z4(e){return Sl(e)?Z7(e,()=>{}):e}function d1(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function jU(e){return typeof e=="boolean"}var SU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new Q7;return r&&(jU(r)?o.push(NU):o.push(AU(r.extraArgument))),o},EU="RTK_autoBatch",$4=e=>t=>{setTimeout(t,e)},kU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$4(10):e.type==="callback"?e.queueNotification:$4(e.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>i&&m(),b=n.subscribe(g);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){var g;try{return i=!((g=m==null?void 0:m.meta)!=null&&g[EU]),a=!i,a&&(o||(o=!0,d(f))),n.dispatch(m)}finally{i=!0}}})},TU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Q7(e);return n&&i.push(kU(typeof n=="object"?n:void 0)),i};function _U(e){const t=SU(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Uw(r))c=$7(r);else throw new Error(Ja(1));let d;typeof n=="function"?d=n(t):d=t();let f=Um;i&&(f=CU({trace:!1,...typeof i=="object"&&i}));const m=fU(...d),g=TU(m);let b=typeof o=="function"?o(g):g();const y=f(...b);return z7(c,a,y)}function ek(e){const t={},r=[];let n;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Ja(28));if(c in t)throw new Error(Ja(29));return t[c]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function IU(e){return typeof e=="function"}function PU(e,t){let[r,n,i]=ek(t),a;if(IU(e))a=()=>z4(e());else{const c=z4(e);a=()=>c}function o(c=a(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,g)=>{if(g)if(Eu(m)){const y=g(m,d);return y===void 0?m:y}else{if(Sl(m))return Z7(m,b=>g(b,d));{const b=g(m,d);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return o.getInitialState=a,o}var OU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RU=(e=21)=>{let t="",r=e;for(;r--;)t+=OU[Math.random()*64|0];return t},DU=Symbol.for("rtk-slice-createasyncthunk");function LU(e,t){return`${e}/${t}`}function MU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[DU];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Ja(11));const c=(typeof i.reducers=="function"?i.reducers(FU()):i.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(P,W){const H=typeof P=="string"?P:P.type;if(!H)throw new Error(Ja(12));if(H in f.sliceCaseReducersByType)throw new Error(Ja(13));return f.sliceCaseReducersByType[H]=W,m},addMatcher(P,W){return f.sliceMatchers.push({matcher:P,reducer:W}),m},exposeAction(P,W){return f.actionCreators[P]=W,m},exposeCaseReducer(P,W){return f.sliceCaseReducersByName[P]=W,m}};d.forEach(P=>{const W=c[P],H={reducerName:P,type:LU(a,P),createNotation:typeof i.reducers=="function"};WU(W)?$U(H,W,m,t):UU(H,W,m)});function g(){const[P={},W=[],H=void 0]=typeof i.extraReducers=="function"?ek(i.extraReducers):[i.extraReducers],$={...P,...f.sliceCaseReducersByType};return PU(i.initialState,F=>{for(let L in $)F.addCase(L,$[L]);for(let L of f.sliceMatchers)F.addMatcher(L.matcher,L.reducer);for(let L of W)F.addMatcher(L.matcher,L.reducer);H&&F.addDefaultCase(H)})}const b=P=>P,y=new Map,w=new WeakMap;let A;function N(P,W){return A||(A=g()),A(P,W)}function S(){return A||(A=g()),A.getInitialState()}function E(P,W=!1){function H(F){let L=F[P];return typeof L>"u"&&W&&(L=d1(w,H,S)),L}function $(F=b){const L=d1(y,W,()=>new WeakMap);return d1(L,F,()=>{const J={};for(const[M,z]of Object.entries(i.selectors??{}))J[M]=BU(z,F,()=>d1(w,F,S),W);return J})}return{reducerPath:P,getSelectors:$,get selectors(){return $(H)},selectSlice:H}}const k={name:a,reducer:N,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...E(o),injectInto(P,{reducerPath:W,...H}={}){const $=W??o;return P.inject({reducerPath:$,reducer:N},H),{...k,...E($,!0)}}};return k}}function BU(e,t,r,n){function i(a,...o){let c=t(a);return typeof c>"u"&&n&&(c=r()),e(c,...o)}return i.unwrapped=e,i}var is=MU();function FU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function UU({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!zU(n))throw new Error(Ja(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Es(e,o):Es(e))}function WU(e){return e._reducerDefinitionType==="asyncThunk"}function zU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $U({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Ja(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:d,settled:f,options:m}=r,g=i(e,a,m);n.exposeAction(t,g),o&&n.addCase(g.fulfilled,o),c&&n.addCase(g.pending,c),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:o||f1,pending:c||f1,rejected:d||f1,settled:f||f1})}function f1(){}var qU="task",tk="listener",rk="completed",$w="cancelled",HU=`task-${$w}`,VU=`task-${rk}`,gv=`${tk}-${$w}`,GU=`${tk}-${rk}`,Ng=class{constructor(e){kr(this,"name","TaskAbortError");kr(this,"message");this.code=e,this.message=`${qU} ${$w} (reason: ${e})`}},qw=(e,t)=>{if(typeof e!="function")throw new TypeError(Ja(32))},qm=()=>{},nk=(e,t=qm)=>(e.catch(t),e),ik=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),hu=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},mu=e=>{if(e.aborted){const{reason:t}=e;throw new Ng(t)}};function ak(e,t){let r=qm;return new Promise((n,i)=>{const a=()=>i(new Ng(e.reason));if(e.aborted){a();return}r=ik(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=qm})}var KU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ng?"cancelled":"rejected",error:r}}finally{t==null||t()}},Hm=e=>t=>nk(ak(e,t).then(r=>(mu(e),r))),sk=e=>{const t=Hm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Sd}=Object,q4={},Ag="listenerMiddleware",XU=(e,t)=>{const r=n=>ik(e,()=>hu(n,e.reason));return(n,i)=>{qw(n);const a=new AbortController;r(a);const o=KU(async()=>{mu(e),mu(a.signal);const c=await n({pause:Hm(a.signal),delay:sk(a.signal),signal:a.signal});return mu(a.signal),c},()=>hu(a,VU));return i!=null&&i.autoJoin&&t.push(o.catch(qm)),{result:Hm(e)(o),cancel(){hu(a,HU)}}}},YU=(e,t)=>{const r=async(n,i)=>{mu(t);let a=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:n,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await ak(t,Promise.race(c));return mu(t),d}finally{a()}};return(n,i)=>nk(r(n,i))},ok=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Es(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ja(21));return qw(a),{predicate:i,type:t,effect:a}},lk=Sd(e=>{const{type:t,predicate:r,effect:n}=ok(e);return{id:RU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ja(22))}}},{withTypes:()=>lk}),H4=(e,t)=>{const{type:r,effect:n,predicate:i}=ok(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},xv=e=>{e.pending.forEach(t=>{hu(t,gv)})},ZU=e=>()=>{e.forEach(xv),e.clear()},V4=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ck=Sd(Es(`${Ag}/add`),{withTypes:()=>ck}),JU=Es(`${Ag}/removeAll`),uk=Sd(Es(`${Ag}/remove`),{withTypes:()=>uk}),QU=(...e)=>{console.error(`${Ag}/error`,...e)},s0=(e={})=>{const t=new Map,{extra:r,onError:n=QU}=e;qw(n);const i=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&xv(m)}),a=m=>{const g=H4(t,m)??lk(m);return i(g)};Sd(a,{withTypes:()=>a});const o=m=>{const g=H4(t,m);return g&&(g.unsubscribe(),m.cancelActive&&xv(g)),!!g};Sd(o,{withTypes:()=>o});const c=async(m,g,b,y)=>{const w=new AbortController,A=YU(a,w.signal),N=[];try{m.pending.add(w),await Promise.resolve(m.effect(g,Sd({},b,{getOriginalState:y,condition:(S,E)=>A(S,E).then(Boolean),take:A,delay:sk(w.signal),pause:Hm(w.signal),extra:r,signal:w.signal,fork:XU(w.signal,N),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,E,k)=>{S!==w&&(hu(S,gv),k.delete(S))})},cancel:()=>{hu(w,gv),m.pending.delete(w)},throwIfCancelled:()=>{mu(w.signal)}})))}catch(S){S instanceof Ng||V4(n,S,{raisedBy:"effect"})}finally{await Promise.all(N),hu(w,GU),m.pending.delete(w)}},d=ZU(t);return{middleware:m=>g=>b=>{if(!q7(b))return g(b);if(ck.match(b))return a(b.payload);if(JU.match(b)){d();return}if(uk.match(b))return o(b.payload);let y=m.getState();const w=()=>{if(y===q4)throw new Error(Ja(23));return y};let A;try{if(A=g(b),t.size>0){const N=m.getState(),S=Array.from(t.values());for(const E of S){let k=!1;try{k=E.predicate(b,N,y)}catch(P){k=!1,V4(n,P,{raisedBy:"predicate"})}k&&c(E,b,m,w)}}}finally{y=q4}return A},startListening:a,stopListening:o,clearListeners:d}};function Ja(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},dk=is({name:"chartLayout",initialState:eW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tW,setLayout:rW,setChartSize:nW,setScale:iW}=dk.actions,aW=dk.reducer;function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(n){sW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sW(e,t,r){return(t=oW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vm=Math.PI/180,cW=e=>e*180/Math.PI,Jn=(e,t,r,n)=>({x:e+Math.cos(-Vm*n)*r,y:t+Math.sin(-Vm*n)*r}),fk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uW=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},dW=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=uW({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(r-i)/o,d=Math.acos(c);return n>a&&(d=2*Math.PI-d),{radius:o,angle:cW(d),angleInRadian:d}},fW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},hW=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},mW=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=dW({x:r,y:n},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:d,endAngle:f}=fW(t),m=a,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?K4(K4({},t),{},{radius:i,angle:hW(m,t)}):null};function hk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qn(e,t,r){return es(e)||es(t)?r:jl(t)?Mh(e,t,r):typeof t=="function"?t(e):r}var yW=(e,t,r,n,i)=>{var a,o=-1,c=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?r[d-1].coordinate:r[c-1].coordinate,m=r[d].coordinate,g=d>=c-1?r[0].coordinate:r[d+1].coordinate,b=void 0;if(Ca(m-f)!==Ca(g-m)){var y=[];if(Ca(g-m)===Ca(i[1]-i[0])){b=g;var w=m+i[1]-i[0];y[0]=Math.min(w,(w+f)/2),y[1]=Math.max(w,(w+f)/2)}else{b=f;var A=g+i[1]-i[0];y[0]=Math.min(m,(A+m)/2),y[1]=Math.max(m,(A+m)/2)}var N=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>N[0]&&e<=N[1]||e>=y[0]&&e<=y[1]){({index:o}=r[d]);break}}else{var S=Math.min(f,g),E=Math.max(f,g);if(e>(S+m)/2&&e<=(E+m)/2){({index:o}=r[d]);break}}}else if(t){for(var k=0;k<c;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<c-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===c-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:o}=t[k]);break}}return o},vW=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&or(e[a]))return ws(ws({},e),{},{[a]:e[a]+(n||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&or(e[o]))return ws(ws({},e),{},{[o]:e[o]+(i||0)})}return e},Lu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Y4=1e-4,bW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Y4,a=Math.max(n[0],n[1])+Y4,o=e(t[0]),c=e(t[r-1]);(o<i||o>a||c<i||c>a)&&e.domain([t[0],t[r-1]])}},wW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var c=ro(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=i,e[o][r][1]=i+c,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1])}},NW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=ro(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},AW={sign:wW,expand:lF,none:Ud,silhouette:cF,wiggle:uF,positive:NW},CW=(e,t,r)=>{var n=AW[r],i=oF().keys(t).value((a,o)=>+Qn(a,o,0)).order(ov).offset(n);return i(e)},jW=e=>{var t=e.flat(2).filter(or);return[Math.min(...t),Math.max(...t)]},SW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],EW=(e,t,r)=>{if(e!=null)return SW(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,c=o.reduce((d,f)=>{var m=hk(f,t,r),g=jW(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},Z4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kW=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var i=yg(t,m=>m.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var d=i[o],f=i[o-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return 0};function Q4(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return ws(ws({},t),{},{dataKey:r,payload:n,value:i,name:a})}function mk(e,t){if(e)return String(e);if(typeof t=="string")return t}function TW(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?mW({x:e,y:t},n):null}var _W=(e,t,r,n)=>{var i=t.find(f=>f&&f.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return ws(ws(ws({},n),Jn(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:d}=n;return ws(ws(ws({},n),Jn(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},IW=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Pl=e=>e.layout.width,Ol=e=>e.layout.height,PW=e=>e.layout.scale,pk=e=>e.layout.margin,Cg=qe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),jg=qe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gk="data-recharts-item-index",xk="data-recharts-item-data-key",o0=60;function e6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(r),!0).forEach(function(n){OW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OW(e,t,r){return(t=RW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LW=e=>e.brush.height;function MW(e){var t=jg(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:o0;return r+i}return r},0)}function BW(e){var t=jg(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:o0;return r+i}return r},0)}function FW(e){var t=Cg(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function UW(e){var t=Cg(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ni=qe([Pl,Ol,pk,LW,MW,BW,FW,UW,U7,aU],(e,t,r,n,i,a,o,c,d,f)=>{var m={left:(r.left||0)+i,right:(r.right||0)+a},g={top:(r.top||0)+o,bottom:(r.bottom||0)+c},b=h1(h1({},g),m),y=b.bottom;b.bottom+=n,b=vW(b,d,f);var w=e-b.left-b.right,A=t-b.top-b.bottom;return h1(h1({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(A,0)})}),WW=qe(Ni,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));qe(Pl,Ol,(e,t)=>({x:0,y:0,width:e,height:t}));var zW=I.createContext(null),of=()=>I.useContext(zW)!=null,Sg=e=>e.brush,Eg=qe([Sg,Ni,pk],(e,t,r)=>({height:e.height,x:or(e.x)?e.x:t.left,y:or(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:or(e.width)?e.width:t.width})),Hw=()=>{var e,t=of(),r=lr(WW),n=lr(Eg),i=(e=lr(Sg))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},$W={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qW=()=>{var e;return(e=lr(Ni))!==null&&e!==void 0?e:$W},yk=()=>lr(Pl),vk=()=>lr(Ol),HW=()=>lr(e=>e.layout.margin),Qr=e=>e.layout.layoutType,bk=()=>lr(Qr),VW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wk=is({name:"legend",initialState:VW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=yl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:t6,setLegendSettings:GW,addLegendPayload:KW,removeLegendPayload:XW}=wk.actions,YW=wk.reducer,ZW=["contextPayload"];function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(null,arguments)}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){Vw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vw(e,t,r){return(t=JW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=QW(e,"string");return typeof t=="symbol"?t:t+""}function QW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ez(e,t){if(e==null)return{};var r,n,i=tz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rz(e){return e.value}function nz(e){var{contextPayload:t}=e,r=ez(e,ZW),n=T7(t,e.payloadUniqBy,rz),i=$d($d({},r),{},{payload:n});return I.isValidElement(e.content)?I.cloneElement(e.content,i):typeof e.content=="function"?I.createElement(e.content,i):I.createElement(Ew,i)}function iz(e,t,r,n,i,a){var{layout:o,align:c,verticalAlign:d}=t,f,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?f={left:((n||0)-a.width)/2}:f=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?m={top:((i||0)-a.height)/2}:m=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),$d($d({},f),m)}function az(e){var t=wi();return I.useEffect(()=>{t(GW(e))},[t,e]),null}function sz(e){var t=wi();return I.useEffect(()=>(t(t6(e)),()=>{t(t6({width:0,height:0}))}),[t,e]),null}function oz(e){var t=lU(),r=IB(),n=HW(),{width:i,height:a,wrapperStyle:o,portal:c}=e,[d,f]=W7([t]),m=yk(),g=vk();if(m==null||g==null)return null;var b=m-(n.left||0)-(n.right||0),y=kg.getWidthOrHeight(e.layout,a,i,b),w=c?o:$d($d({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||a||"auto"},iz(o,e,n,m,g,d)),o),A=c??r;if(A==null)return null;var N=I.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:f},I.createElement(az,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),I.createElement(sz,{width:d.width,height:d.height}),I.createElement(nz,yv({},e,y,{margin:n,chartWidth:m,chartHeight:g,contextPayload:t})));return uw.createPortal(N,A)}class kg extends I.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&or(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return I.createElement(oz,this.props)}}Vw(kg,"displayName","Legend");Vw(kg,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(n){lz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lz(e,t,r){return(t=cz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cz(e){var t=uz(e,"string");return typeof t=="symbol"?t:t+""}function uz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dz(e){return Array.isArray(e)&&jl(e[0])&&jl(e[1])?e.join(" ~ "):e}var fz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:b=!1}=e,y=()=>{if(a&&a.length){var W={padding:0,margin:0},H=(c?yg(a,c):a).map(($,F)=>{if($.type==="none")return null;var L=$.formatter||o||dz,{value:J,name:M}=$,z=J,te=M;if(L){var V=L(J,M,$,F,a);if(Array.isArray(V))[z,te]=V;else if(V!=null)z=V;else return null}var Z=n2({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},n);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:Z},jl(te)?I.createElement("span",{className:"recharts-tooltip-item-name"},te):null,jl(te)?I.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,I.createElement("span",{className:"recharts-tooltip-item-value"},z),I.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:W},H)}return null},w=n2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),A=n2({margin:0},i),N=!es(m),S=N?m:"",E=Wn("recharts-default-tooltip",d),k=Wn("recharts-tooltip-label",f);N&&g&&a!==void 0&&a!==null&&(S=g(m,a));var P=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",vv({className:E,style:w},P),I.createElement("p",{className:k,style:A},I.isValidElement(S)?S:"".concat(S)),y())},Df="recharts-tooltip-wrapper",hz={visibility:"hidden"};function mz(e){var{coordinate:t,translateX:r,translateY:n}=e;return Wn(Df,{["".concat(Df,"-right")]:or(r)&&t&&or(t.x)&&r>=t.x,["".concat(Df,"-left")]:or(r)&&t&&or(t.x)&&r<t.x,["".concat(Df,"-bottom")]:or(n)&&t&&or(t.y)&&n>=t.y,["".concat(Df,"-top")]:or(n)&&t&&or(t.y)&&n<t.y})}function i6(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(a&&or(a[n]))return a[n];var m=r[n]-c-(i>0?i:0),g=r[n]+i;if(t[n])return o[n]?m:g;var b=d[n];if(b==null)return 0;if(o[n]){var y=m,w=b;return y<w?Math.max(g,b):Math.max(m,b)}if(f==null)return 0;var A=g+c,N=b+f;return A>N?Math.max(m,b):Math.max(g,b)}function pz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function gz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:d}=e,f,m,g;return o.height>0&&o.width>0&&r?(m=i6({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=i6({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=pz({translateX:m,translateY:g,useTranslate3d:c})):f=hz,{cssProperties:f,cssClasses:mz({translateX:m,translateY:g,coordinate:r})}}function a6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(r),!0).forEach(function(n){bv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bv(e,t,r){return(t=xz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vz extends I.PureComponent{constructor(){super(...arguments),bv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:g,useTranslate3d:b,viewBox:y,wrapperStyle:w,lastBoundingBox:A,innerRef:N,hasPortalFromProps:S}=this.props,{cssClasses:E,cssProperties:k}=gz({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:b,viewBox:y}),P=S?{}:m1(m1({transition:d&&t?"transform ".concat(n,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),W=m1(m1({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:W,ref:N},a)}}var bz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),l0={devToolsEnabled:!1,isSsr:bz()},Nk=()=>lr(e=>e.rootProps.accessibilityLayer);function no(e){return Number.isFinite(e)}function Gm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(null,arguments)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(n){wz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wz(e,t,r){return(t=Nz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nz(e){var t=Az(e,"string");return typeof t=="symbol"?t:t+""}function Az(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l6={curveBasisClosed:YB,curveBasisOpen:ZB,curveBasis:XB,curveBumpX:DB,curveBumpY:LB,curveLinearClosed:JB,curveLinear:mg,curveMonotoneX:QB,curveMonotoneY:eF,curveNatural:tF,curveStep:rF,curveStepAfter:iF,curveStepBefore:nF},p1=e=>no(e.x)&&no(e.y),Lf=e=>e.x,Mf=e=>e.y,Cz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(i0(e));return(r==="curveMonotone"||r==="curveBump")&&t?l6["".concat(r).concat(t==="vertical"?"Y":"X")]:l6[r]||mg},jz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=Cz(t,i),c=a?r.filter(p1):r,d;if(Array.isArray(n)){var f=a?n.filter(g=>p1(g)):n,m=c.map((g,b)=>o6(o6({},g),{},{base:f[b]}));return i==="vertical"?d=o1().y(Mf).x1(Lf).x0(g=>g.base.x):d=o1().x(Lf).y1(Mf).y0(g=>g.base.y),d.defined(p1).curve(o),d(m)}return i==="vertical"&&or(n)?d=o1().y(Mf).x1(Lf).x0(n):or(n)?d=o1().x(Lf).y1(Mf).y0(n):d=t7().x(Lf).y(Mf),d.defined(p1).curve(o),d(c)},Ak=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?jz(e):n;return I.createElement("path",wv({},fg(e),wB(e),{className:Wn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Sz=["x","y","top","left","width","height","className"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(null,arguments)}function c6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ez(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(r),!0).forEach(function(n){kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kz(e,t,r){return(t=Tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=_z(e,"string");return typeof t=="symbol"?t:t+""}function _z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iz(e,t){if(e==null)return{};var r,n,i=Pz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oz=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),Rz=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:c}=e,d=Iz(e,Sz),f=Ez({x:t,y:r,top:n,left:i,width:a,height:o},d);return!or(t)||!or(r)||!or(a)||!or(o)||!or(n)||!or(i)?null:I.createElement("path",Nv({},da(f,!0),{className:Wn("recharts-cross",c),d:Oz(t,r,a,o,n,i)}))};function Dz(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function u6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(r),!0).forEach(function(n){Mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mz(e,t,r){return(t=Bz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bz(e){var t=Fz(e,"string");return typeof t=="symbol"?t:t+""}function Fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rl(e,t){var r=Lz({},e),n=t,i=Object.keys(t),a=i.reduce((o,c)=>(o[c]===void 0&&n[c]!==void 0&&(o[c]=n[c]),o),r);return a}function Uz(){}function d6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(r),!0).forEach(function(n){Wz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wz(e,t,r){return(t=zz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=$z(e,"string");return typeof t=="symbol"?t:t+""}function $z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ck=(e,t,r)=>e.map(n=>"".concat(qz(n)," ").concat(t,"ms ").concat(r)).join(","),Hz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Wh=(e,t)=>Object.keys(t).reduce((r,n)=>f6(f6({},r),{},{[n]:e(n,t[n])}),{});function h6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(r),!0).forEach(function(n){Vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vz(e,t,r){return(t=Gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=Kz(e,"string");return typeof t=="symbol"?t:t+""}function Kz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Km=(e,t,r)=>e+(t-e)*r,Av=e=>{var{from:t,to:r}=e;return t!==r},jk=(e,t,r)=>{var n=Wh((i,a)=>{if(Av(a)){var[o,c]=e(a.from,a.to,a.velocity);return Li(Li({},a),{},{from:o,velocity:c})}return a},t);return r<1?Wh((i,a)=>Av(a)?Li(Li({},a),{},{velocity:Km(a.velocity,n[i].velocity,r),from:Km(a.from,n[i].from,r)}):a,t):jk(e,n,r-1)};function Xz(e,t,r,n,i,a){var o,c=n.reduce((b,y)=>Li(Li({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>Wh((b,y)=>y.from,c),f=()=>!Object.values(c).filter(Av).length,m=null,g=b=>{o||(o=b);var y=b-o,w=y/r.dt;c=jk(r,c,w),i(Li(Li(Li({},e),t),d())),o=b,f()||(m=a.setTimeout(g))};return()=>(m=a.setTimeout(g),()=>{m()})}function Yz(e,t,r,n,i,a,o){var c=null,d=i.reduce((g,b)=>Li(Li({},g),{},{[b]:[e[b],t[b]]}),{}),f,m=g=>{f||(f=g);var b=(g-f)/n,y=Wh((A,N)=>Km(...N,r(b)),d);if(a(Li(Li(Li({},e),t),y)),b<1)c=o.setTimeout(m);else{var w=Wh((A,N)=>Km(...N,r(1)),d);a(Li(Li(Li({},e),t),w))}};return()=>(c=o.setTimeout(m),()=>{c()})}const Zz=(e,t,r,n,i,a)=>{var o=Hz(e,t);return r.isStepper===!0?Xz(e,t,r,o,i,a):Yz(e,t,r,n,o,i,a)};var Xm=1e-4,Sk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Ek=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),m6=(e,t)=>r=>{var n=Sk(e,t);return Ek(n,r)},Jz=(e,t)=>r=>{var n=Sk(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return Ek(i,r)},p6=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,i]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else o.length===4&&([t,n,r,i]=o);var f=m6(t,r),m=m6(n,i),g=Jz(t,r),b=w=>w>1?1:w<0?0:w,y=w=>{for(var A=w>1?1:w,N=A,S=0;S<8;++S){var E=f(N)-A,k=g(N);if(Math.abs(E-A)<Xm||k<Xm)return m(N);N=b(N-E/k)}return m(N)};return y.isStepper=!1,y},Qz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,c,d)=>{var f=-(o-c)*r,m=d*n,g=d+(f-m)*i/1e3,b=d*i/1e3+o;return Math.abs(b-c)<Xm&&Math.abs(g)<Xm?[c,0]:[b,g]};return a.isStepper=!0,a.dt=i,a},e$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return p6(e);case"spring":return Qz();default:if(e.split("(")[0]==="cubic-bezier")return p6(e)}return typeof e=="function"?e:null};function t$(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...f]=c;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class r${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function n$(){return t$(new r$)}var i$=I.createContext(n$);function a$(e,t){var r=I.useContext(i$);return I.useMemo(()=>t??r(e),[e,t,r])}var s$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},g6={t:0},i2={t:1};function Gw(e){var t=Rl(e,s$),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=a$(t.animationId,t.animationManager),[g,b]=I.useState(r?g6:i2),y=I.useRef(null);return I.useEffect(()=>{r||b(i2)},[r]),I.useEffect(()=>{if(!r||!n)return Uz;var w=Zz(g6,i2,e$(a),i,b,m.getTimeoutController()),A=()=>{y.current=w()};return m.start([d,o,A,i,c]),()=>{m.stop(),y.current&&y.current(),c()}},[r,n,i,a,o,d,c,m]),f(g.t)}function Kw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=I.useRef(Bh(t)),n=I.useRef(e);return n.current!==e&&(r.current=Bh(t),n.current=e),r.current}function x6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(r),!0).forEach(function(n){o$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o$(e,t,r){return(t=l$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l$(e){var t=c$(e,"string");return typeof t=="symbol"?t:t+""}function c$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(null,arguments)}var v6=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,b=4;g<b;g++)m[g]=i[g]>a?a:i[g];f="M".concat(e,",").concat(t+o*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+r-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*m[1])),f+="L ".concat(e+r,",").concat(t+n-o*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-c*m[2],",").concat(t+n)),f+="L ".concat(e+c*m[3],",").concat(t+n),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);f="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+c*y,",").concat(t,`
            L `).concat(e+r-c*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*y,`
            L `).concat(e+r,",").concat(t+n-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-c*y,",").concat(t+n,`
            L `).concat(e+c*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},u$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kk=e=>{var t=Rl(e,u$),r=I.useRef(null),[n,i]=I.useState(-1);I.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:a,y:o,width:c,height:d,radius:f,className:m}=t,{animationEasing:g,animationDuration:b,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:A}=t,N=I.useRef(c),S=I.useRef(d),E=I.useRef(a),k=I.useRef(o),P=I.useMemo(()=>({x:a,y:o,width:c,height:d,radius:f}),[a,o,c,d,f]),W=Kw(P,"rectangle-");if(a!==+a||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var H=Wn("recharts-rectangle",m);if(!A)return I.createElement("path",Ym({},da(t,!0),{className:H,d:v6(a,o,c,d,f)}));var $=N.current,F=S.current,L=E.current,J=k.current,M="0px ".concat(n===-1?1:n,"px"),z="".concat(n,"px 0px"),te=Ck(["strokeDasharray"],b,typeof g=="string"?g:void 0);return I.createElement(Gw,{animationId:W,key:W,canBegin:n>0,duration:b,easing:g,isActive:A,begin:y},V=>{var Z=Ks($,c,V),ye=Ks(F,d,V),ve=Ks(L,a,V),me=Ks(J,o,V);r.current&&(N.current=Z,S.current=ye,E.current=ve,k.current=me);var Ne;return w?V>0?Ne={transition:te,strokeDasharray:z}:Ne={strokeDasharray:M}:Ne={strokeDasharray:z},I.createElement("path",Ym({},da(t,!0),{className:H,d:v6(ve,me,Z,ye,f),ref:r,style:y6(y6({},Ne),t.style)}))})};function Tk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Jn(t,r,n,i),c=Jn(t,r,n,a);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(null,arguments)}var d$=(e,t)=>{var r=Ca(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},g1=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:d}=e,f=c*(o?1:-1)+n,m=Math.asin(c/f)/Vm,g=d?i:i+a*m,b=Jn(t,r,f,g),y=Jn(t,r,n,g),w=d?i-a*m:i,A=Jn(t,r,f*Math.cos(m*Vm),w);return{center:b,circleTangency:y,lineTangency:A,theta:m}},_k=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,c=d$(a,o),d=a+c,f=Jn(t,r,i,a),m=Jn(t,r,i,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var b=Jn(t,r,n,a),y=Jn(t,r,n,d);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},f$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=Ca(f-d),{circleTangency:g,lineTangency:b,theta:y}=g1({cx:t,cy:r,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:A,theta:N}=g1({cx:t,cy:r,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),S=c?Math.abs(d-f):Math.abs(d-f)-y-N;if(S<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):_k({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:f});var E="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(n>0){var{circleTangency:k,lineTangency:P,theta:W}=g1({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:H,lineTangency:$,theta:F}=g1({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),L=c?Math.abs(d-f):Math.abs(d-f)-W-F;if(L<0&&a===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(L>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},h$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ik=e=>{var t=Rl(e,h$),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:g}=t;if(a<i||f===m)return null;var b=Wn("recharts-sector",g),y=a-i,w=Za(o,y,0,!0),A;return w>0&&Math.abs(f-m)<360?A=f$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):A=_k({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),I.createElement("path",Cv({},da(t,!0),{className:b,d:A}))};function m$(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:m,angle:g}=t,b=Jn(c,d,f,g),y=Jn(c,d,m,g);n=b.x,i=b.y,a=y.x,o=y.y}else return Tk(t);return[{x:n,y:i},{x:a,y:o}]}var Pk={},Ok={},Rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Rk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Ok);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fw,r=Ok;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=o;return d}e.range=n})(Pk);var p$=Pk.range;const Dk=Oo(p$);function bc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xw(e){let t,r,n;e.length!==2?(t=bc,r=(c,d)=>bc(e(c),d),n=(c,d)=>e(c)-d):(t=e===bc||e===g$?e:x$,r=e,n=e);function i(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(c[g],d)<0?f=g+1:m=g}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(c[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function o(c,d,f=0,m=c.length){const g=i(c,d,f,m-1);return g>f&&n(c[g-1],d)>-n(c[g],d)?g-1:g}return{left:i,center:o,right:a}}function x$(){return 0}function Lk(e){return e===null?NaN:+e}function*y$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const v$=Xw(bc),c0=v$.right;Xw(Lk).center;class b6 extends Map{constructor(t,r=N$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(w6(this,t))}has(t){return super.has(w6(this,t))}set(t,r){return super.set(b$(this,t),r)}delete(t){return super.delete(w$(this,t))}}function w6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function b$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function w$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function N$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function A$(e=bc){if(e===bc)return Mk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Mk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C$=Math.sqrt(50),j$=Math.sqrt(10),S$=Math.sqrt(2);function Zm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=C$?10:a>=j$?5:a>=S$?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*o,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?Zm(e,t,r*2):[c,d,f]}function jv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Zm(t,e,r):Zm(e,t,r);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(n)if(o<0)for(let f=0;f<c;++f)d[f]=(a-f)/-o;else for(let f=0;f<c;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(i+f)/-o;else for(let f=0;f<c;++f)d[f]=(i+f)*o;return d}function Sv(e,t,r){return t=+t,e=+e,r=+r,Zm(e,t,r)[2]}function Ev(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Sv(t,e,r):Sv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function N6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function A6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Bk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Mk:A$(i);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),g=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*g/d+b)),w=Math.min(n,Math.floor(t+(d-f)*g/d+b));Bk(e,t,y,w,i)}const a=e[t];let o=r,c=n;for(Bf(e,r,t),i(e[n],a)>0&&Bf(e,r,n);o<c;){for(Bf(e,o,c),++o,--c;i(e[o],a)<0;)++o;for(;i(e[c],a)>0;)--c}i(e[r],a)===0?Bf(e,r,c):(++c,Bf(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Bf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function E$(e,t,r){if(e=Float64Array.from(y$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return A6(e);if(t>=1)return N6(e);var n,i=(n-1)*t,a=Math.floor(i),o=N6(Bk(e,a).subarray(0,a+1)),c=A6(e.subarray(a+1));return o+(c-o)*(i-a)}}function k$(e,t,r=Lk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),c=+r(e[a+1],a+1,e);return o+(c-o)*(i-a)}}function T$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Is(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kv=Symbol("implicit");function Yw(){var e=new b6,t=[],r=[],n=kv;function i(a){let o=e.get(a);if(o===void 0){if(n!==kv)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new b6;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Yw(t,r).unknown(n)},Is.apply(i,arguments),i}function Zw(){var e=Yw().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,c=!1,d=0,f=0,m=.5;delete e.unknown;function g(){var b=t().length,y=i<n,w=y?i:n,A=y?n:i;a=(A-w)/Math.max(1,b-d+f*2),c&&(a=Math.floor(a)),w+=(A-w-a*(b-d))*m,o=a*(1-d),c&&(w=Math.round(w),o=Math.round(o));var N=T$(b).map(function(S){return w+a*S});return r(y?N.reverse():N)}return e.domain=function(b){return arguments.length?(t(b),g()):t()},e.range=function(b){return arguments.length?([n,i]=b,n=+n,i=+i,g()):[n,i]},e.rangeRound=function(b){return[n,i]=b,n=+n,i=+i,c=!0,g()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(c=!!b,g()):c},e.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),g()):d},e.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},e.paddingOuter=function(b){return arguments.length?(f=+b,g()):f},e.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),g()):m},e.copy=function(){return Zw(t(),[n,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Is.apply(g(),arguments)}function Fk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Fk(t())},e}function _$(){return Fk(Zw.apply(null,arguments).paddingInner(1))}function Jw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Uk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function u0(){}var zh=.7,Jm=1/zh,Ed="\\s*([+-]?\\d+)\\s*",$h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",To="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I$=/^#([0-9a-f]{3,8})$/,P$=new RegExp(`^rgb\\(${Ed},${Ed},${Ed}\\)$`),O$=new RegExp(`^rgb\\(${To},${To},${To}\\)$`),R$=new RegExp(`^rgba\\(${Ed},${Ed},${Ed},${$h}\\)$`),D$=new RegExp(`^rgba\\(${To},${To},${To},${$h}\\)$`),L$=new RegExp(`^hsl\\(${$h},${To},${To}\\)$`),M$=new RegExp(`^hsla\\(${$h},${To},${To},${$h}\\)$`),C6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jw(u0,qh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j6,formatHex:j6,formatHex8:B$,formatHsl:F$,formatRgb:S6,toString:S6});function j6(){return this.rgb().formatHex()}function B$(){return this.rgb().formatHex8()}function F$(){return Wk(this).formatHsl()}function S6(){return this.rgb().formatRgb()}function qh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=I$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?E6(t):r===3?new ja(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?x1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?x1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P$.exec(e))?new ja(t[1],t[2],t[3],1):(t=O$.exec(e))?new ja(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=R$.exec(e))?x1(t[1],t[2],t[3],t[4]):(t=D$.exec(e))?x1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L$.exec(e))?_6(t[1],t[2]/100,t[3]/100,1):(t=M$.exec(e))?_6(t[1],t[2]/100,t[3]/100,t[4]):C6.hasOwnProperty(e)?E6(C6[e]):e==="transparent"?new ja(NaN,NaN,NaN,0):null}function E6(e){return new ja(e>>16&255,e>>8&255,e&255,1)}function x1(e,t,r,n){return n<=0&&(e=t=r=NaN),new ja(e,t,r,n)}function U$(e){return e instanceof u0||(e=qh(e)),e?(e=e.rgb(),new ja(e.r,e.g,e.b,e.opacity)):new ja}function Tv(e,t,r,n){return arguments.length===1?U$(e):new ja(e,t,r,n??1)}function ja(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Jw(ja,Tv,Uk(u0,{brighter(e){return e=e==null?Jm:Math.pow(Jm,e),new ja(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zh:Math.pow(zh,e),new ja(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ja(pu(this.r),pu(this.g),pu(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k6,formatHex:k6,formatHex8:W$,formatRgb:T6,toString:T6}));function k6(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}`}function W$(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}${ou((isNaN(this.opacity)?1:this.opacity)*255)}`}function T6(){const e=Qm(this.opacity);return`${e===1?"rgb(":"rgba("}${pu(this.r)}, ${pu(this.g)}, ${pu(this.b)}${e===1?")":`, ${e})`}`}function Qm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ou(e){return e=pu(e),(e<16?"0":"")+e.toString(16)}function _6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ys(e,t,r,n)}function Wk(e){if(e instanceof Ys)return new Ys(e.h,e.s,e.l,e.opacity);if(e instanceof u0||(e=qh(e)),!e)return new Ys;if(e instanceof Ys)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,c=a-i,d=(a+i)/2;return c?(t===a?o=(r-n)/c+(r<n)*6:r===a?o=(n-t)/c+2:o=(t-r)/c+4,c/=d<.5?a+i:2-a-i,o*=60):c=d>0&&d<1?0:o,new Ys(o,c,d,e.opacity)}function z$(e,t,r,n){return arguments.length===1?Wk(e):new Ys(e,t,r,n??1)}function Ys(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Jw(Ys,z$,Uk(u0,{brighter(e){return e=e==null?Jm:Math.pow(Jm,e),new Ys(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zh:Math.pow(zh,e),new Ys(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ja(a2(e>=240?e-240:e+120,i,n),a2(e,i,n),a2(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ys(I6(this.h),y1(this.s),y1(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qm(this.opacity);return`${e===1?"hsl(":"hsla("}${I6(this.h)}, ${y1(this.s)*100}%, ${y1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function I6(e){return e=(e||0)%360,e<0?e+360:e}function y1(e){return Math.max(0,Math.min(1,e||0))}function a2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Qw=e=>()=>e;function $$(e,t){return function(r){return e+r*t}}function q$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function H$(e){return(e=+e)==1?zk:function(t,r){return r-t?q$(t,r,e):Qw(isNaN(t)?r:t)}}function zk(e,t){var r=t-e;return r?$$(e,r):Qw(isNaN(e)?t:e)}const P6=function e(t){var r=H$(t);function n(i,a){var o=r((i=Tv(i)).r,(a=Tv(a)).r),c=r(i.g,a.g),d=r(i.b,a.b),f=zk(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return n.gamma=e,n}(1);function V$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function G$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function K$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=lf(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(c){for(o=0;o<n;++o)a[o]=i[o](c);return a}}function X$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ep(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Y$(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=lf(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var _v=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s2=new RegExp(_v.source,"g");function Z$(e){return function(){return e}}function J$(e){return function(t){return e(t)+""}}function Q$(e,t){var r=_v.lastIndex=s2.lastIndex=0,n,i,a,o=-1,c=[],d=[];for(e=e+"",t=t+"";(n=_v.exec(e))&&(i=s2.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),c[o]?c[o]+=a:c[++o]=a),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:ep(n,i)})),r=s2.lastIndex;return r<t.length&&(a=t.slice(r),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?J$(d[0].x):Z$(t):(t=d.length,function(f){for(var m=0,g;m<t;++m)c[(g=d[m]).i]=g.x(f);return c.join("")})}function lf(e,t){var r=typeof t,n;return t==null||r==="boolean"?Qw(t):(r==="number"?ep:r==="string"?(n=qh(t))?(t=n,P6):Q$:t instanceof qh?P6:t instanceof Date?X$:G$(t)?V$:Array.isArray(t)?K$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Y$:ep)(e,t)}function e5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eq(e,t){t===void 0&&(t=e,e=lf);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[c](o-c)}}function tq(e){return function(){return e}}function tp(e){return+e}var O6=[0,1];function ca(e){return e}function Iv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tq(isNaN(t)?NaN:.5)}function rq(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function nq(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Iv(i,n),a=r(o,a)):(n=Iv(n,i),a=r(a,o)),function(c){return a(n(c))}}function iq(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Iv(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(c){var d=c0(e,c,1,n)-1;return a[d](i[d](c))}}function d0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tg(){var e=O6,t=O6,r=lf,n,i,a,o=ca,c,d,f;function m(){var b=Math.min(e.length,t.length);return o!==ca&&(o=rq(e[0],e[b-1])),c=b>2?iq:nq,d=f=null,g}function g(b){return b==null||isNaN(b=+b)?a:(d||(d=c(e.map(n),t,r)))(n(o(b)))}return g.invert=function(b){return o(i((f||(f=c(t,e.map(n),ep)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,tp),m()):e.slice()},g.range=function(b){return arguments.length?(t=Array.from(b),m()):t.slice()},g.rangeRound=function(b){return t=Array.from(b),r=e5,m()},g.clamp=function(b){return arguments.length?(o=b?!0:ca,m()):o!==ca},g.interpolate=function(b){return arguments.length?(r=b,m()):r},g.unknown=function(b){return arguments.length?(a=b,g):a},function(b,y){return n=b,i=y,m()}}function t5(){return Tg()(ca,ca)}function aq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qd(e){return e=rp(Math.abs(e)),e?e[1]:NaN}function sq(e,t){return function(r,n){for(var i=r.length,a=[],o=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),a.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=e[o=(o+1)%e.length];return a.reverse().join(t)}}function oq(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var lq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hh(e){if(!(t=lq.exec(e)))throw new Error("invalid format: "+e);var t;return new r5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hh.prototype=r5.prototype;function r5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}r5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cq(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var $k;function uq(e,t){var r=rp(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-($k=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+rp(e,Math.max(0,t+a-1))[0]}function R6(e,t){var r=rp(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const D6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>R6(e*100,t),r:R6,s:uq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L6(e){return e}var M6=Array.prototype.map,B6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dq(e){var t=e.grouping===void 0||e.thousands===void 0?L6:sq(M6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?L6:oq(M6.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=Hh(g);var b=g.fill,y=g.align,w=g.sign,A=g.symbol,N=g.zero,S=g.width,E=g.comma,k=g.precision,P=g.trim,W=g.type;W==="n"?(E=!0,W="g"):D6[W]||(k===void 0&&(k=12),P=!0,W="g"),(N||b==="0"&&y==="=")&&(N=!0,b="0",y="=");var H=A==="$"?r:A==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",$=A==="$"?n:/[%p]/.test(W)?o:"",F=D6[W],L=/[defgprs%]/.test(W);k=k===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function J(M){var z=H,te=$,V,Z,ye;if(W==="c")te=F(M)+te,M="";else{M=+M;var ve=M<0||1/M<0;if(M=isNaN(M)?d:F(Math.abs(M),k),P&&(M=cq(M)),ve&&+M==0&&w!=="+"&&(ve=!1),z=(ve?w==="("?w:c:w==="-"||w==="("?"":w)+z,te=(W==="s"?B6[8+$k/3]:"")+te+(ve&&w==="("?")":""),L){for(V=-1,Z=M.length;++V<Z;)if(ye=M.charCodeAt(V),48>ye||ye>57){te=(ye===46?i+M.slice(V+1):M.slice(V))+te,M=M.slice(0,V);break}}}E&&!N&&(M=t(M,1/0));var me=z.length+M.length+te.length,Ne=me<S?new Array(S-me+1).join(b):"";switch(E&&N&&(M=t(Ne+M,Ne.length?S-te.length:1/0),Ne=""),y){case"<":M=z+M+te+Ne;break;case"=":M=z+Ne+M+te;break;case"^":M=Ne.slice(0,me=Ne.length>>1)+z+M+te+Ne.slice(me);break;default:M=Ne+z+M+te;break}return a(M)}return J.toString=function(){return g+""},J}function m(g,b){var y=f((g=Hh(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(qd(b)/3)))*3,A=Math.pow(10,-w),N=B6[8+w/3];return function(S){return y(A*S)+N}}return{format:f,formatPrefix:m}}var v1,n5,qk;fq({thousands:",",grouping:[3],currency:["$",""]});function fq(e){return v1=dq(e),n5=v1.format,qk=v1.formatPrefix,v1}function hq(e){return Math.max(0,-qd(Math.abs(e)))}function mq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qd(t)/3)))*3-qd(Math.abs(e)))}function pq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qd(t)-qd(e))+1}function Hk(e,t,r,n){var i=Ev(e,t,r),a;switch(n=Hh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=mq(i,o))&&(n.precision=a),qk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=pq(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=hq(i))&&(n.precision=a-(n.type==="%")*2);break}}return n5(n)}function Oc(e){var t=e.domain;return e.ticks=function(r){var n=t();return jv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Hk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],c=n[a],d,f,m=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=Sv(o,c,r),f===d)return n[i]=o,n[a]=c,t(n);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function Vk(){var e=t5();return e.copy=function(){return d0(e,Vk())},Is.apply(e,arguments),Oc(e)}function Gk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,tp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Gk(e).unknown(t)},e=arguments.length?Array.from(e,tp):[0,1],Oc(r)}function Kk(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function F6(e){return Math.log(e)}function U6(e){return Math.exp(e)}function gq(e){return-Math.log(-e)}function xq(e){return-Math.exp(-e)}function yq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vq(e){return e===10?yq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function W6(e){return(t,r)=>-e(-t,r)}function i5(e){const t=e(F6,U6),r=t.domain;let n=10,i,a;function o(){return i=bq(n),a=vq(n),r()[0]<0?(i=W6(i),a=W6(a),e(gq,xq)):e(F6,U6),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const d=r();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let b=i(f),y=i(m),w,A;const N=c==null?10:+c;let S=[];if(!(n%1)&&y-b<N){if(b=Math.floor(b),y=Math.ceil(y),f>0){for(;b<=y;++b)for(w=1;w<n;++w)if(A=b<0?w/a(-b):w*a(b),!(A<f)){if(A>m)break;S.push(A)}}else for(;b<=y;++b)for(w=n-1;w>=1;--w)if(A=b>0?w/a(-b):w*a(b),!(A<f)){if(A>m)break;S.push(A)}S.length*2<N&&(S=jv(f,m,N))}else S=jv(b,y,Math.min(y-b,N)).map(a);return g?S.reverse():S},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Hh(d)).precision==null&&(d.trim=!0),d=n5(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return m=>{let g=m/a(Math.round(i(m)));return g*n<n-.5&&(g*=n),g<=f?d(m):""}},t.nice=()=>r(Kk(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function Xk(){const e=i5(Tg()).domain([1,10]);return e.copy=()=>d0(e,Xk()).base(e.base()),Is.apply(e,arguments),e}function z6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function a5(e){var t=1,r=e(z6(t),$6(t));return r.constant=function(n){return arguments.length?e(z6(t=+n),$6(t)):t},Oc(r)}function Yk(){var e=a5(Tg());return e.copy=function(){return d0(e,Yk()).constant(e.constant())},Is.apply(e,arguments)}function q6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nq(e){return e<0?-e*e:e*e}function s5(e){var t=e(ca,ca),r=1;function n(){return r===1?e(ca,ca):r===.5?e(wq,Nq):e(q6(r),q6(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Oc(t)}function o5(){var e=s5(Tg());return e.copy=function(){return d0(e,o5()).exponent(e.exponent())},Is.apply(e,arguments),e}function Aq(){return o5.apply(null,arguments).exponent(.5)}function H6(e){return Math.sign(e)*e*e}function Cq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Zk(){var e=t5(),t=[0,1],r=!1,n;function i(a){var o=Cq(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(H6(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,tp)).map(H6)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Zk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Is.apply(i,arguments),Oc(i)}function Jk(){var e=[],t=[],r=[],n;function i(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=k$(e,o/c);return a}function a(o){return o==null||isNaN(o=+o)?n:t[c0(r,o)]}return a.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(bc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Jk().domain(e).range(t).unknown(n)},Is.apply(a,arguments)}function Qk(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[c0(n,d,0,r)]:a}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Qk().domain([e,t]).range(i).unknown(a)},Is.apply(Oc(o),arguments)}function eT(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[c0(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eT().domain(e).range(t).unknown(r)},Is.apply(i,arguments)}const o2=new Date,l2=new Date;function ui(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return d;let f;do d.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<o);return d},i.filter=a=>ui(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!a(o););else for(;--c>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(o2.setTime(+a),l2.setTime(+o),e(o2),e(l2),Math.floor(r(o2,l2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const np=ui(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);np.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ui(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):np);np.range;const ml=1e3,As=ml*60,pl=As*60,El=pl*24,l5=El*7,V6=El*30,c2=El*365,lu=ui(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCSeconds());lu.range;const c5=ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ml)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getMinutes());c5.range;const u5=ui(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getUTCMinutes());u5.range;const d5=ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ml-e.getMinutes()*As)},(e,t)=>{e.setTime(+e+t*pl)},(e,t)=>(t-e)/pl,e=>e.getHours());d5.range;const f5=ui(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pl)},(e,t)=>(t-e)/pl,e=>e.getUTCHours());f5.range;const f0=ui(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*As)/El,e=>e.getDate()-1);f0.range;const _g=ui(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/El,e=>e.getUTCDate()-1);_g.range;const tT=ui(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/El,e=>Math.floor(e/El));tT.range;function Mu(e){return ui(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*As)/l5)}const Ig=Mu(0),ip=Mu(1),jq=Mu(2),Sq=Mu(3),Hd=Mu(4),Eq=Mu(5),kq=Mu(6);Ig.range;ip.range;jq.range;Sq.range;Hd.range;Eq.range;kq.range;function Bu(e){return ui(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/l5)}const Pg=Bu(0),ap=Bu(1),Tq=Bu(2),_q=Bu(3),Vd=Bu(4),Iq=Bu(5),Pq=Bu(6);Pg.range;ap.range;Tq.range;_q.range;Vd.range;Iq.range;Pq.range;const h5=ui(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());h5.range;const m5=ui(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());m5.range;const kl=ui(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ui(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});kl.range;const Tl=ui(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Tl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ui(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Tl.range;function rT(e,t,r,n,i,a){const o=[[lu,1,ml],[lu,5,5*ml],[lu,15,15*ml],[lu,30,30*ml],[a,1,As],[a,5,5*As],[a,15,15*As],[a,30,30*As],[i,1,pl],[i,3,3*pl],[i,6,6*pl],[i,12,12*pl],[n,1,El],[n,2,2*El],[r,1,l5],[t,1,V6],[t,3,3*V6],[e,1,c2]];function c(f,m,g){const b=m<f;b&&([f,m]=[m,f]);const y=g&&typeof g.range=="function"?g:d(f,m,g),w=y?y.range(f,+m+1):[];return b?w.reverse():w}function d(f,m,g){const b=Math.abs(m-f)/g,y=Xw(([,,N])=>N).right(o,b);if(y===o.length)return e.every(Ev(f/c2,m/c2,g));if(y===0)return np.every(Math.max(Ev(f,m,g),1));const[w,A]=o[b/o[y-1][2]<o[y][2]/b?y-1:y];return w.every(A)}return[c,d]}const[Oq,Rq]=rT(Tl,m5,Pg,tT,f5,u5),[Dq,Lq]=rT(kl,h5,Ig,f0,d5,c5);function u2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function d2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ff(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Mq(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,f=Uf(i),m=Wf(i),g=Uf(a),b=Wf(a),y=Uf(o),w=Wf(o),A=Uf(c),N=Wf(c),S=Uf(d),E=Wf(d),k={a:ve,A:me,b:Ne,B:Ie,c:null,d:J6,e:J6,f:sH,g:gH,G:yH,H:nH,I:iH,j:aH,L:nT,m:oH,M:lH,p:je,q,Q:tA,s:rA,S:cH,u:uH,U:dH,V:fH,w:hH,W:mH,x:null,X:null,y:pH,Y:xH,Z:vH,"%":eA},P={a:oe,A:ne,b:ge,B:xe,c:null,d:Q6,e:Q6,f:AH,g:OH,G:DH,H:bH,I:wH,j:NH,L:aT,m:CH,M:jH,p:_e,q:he,Q:tA,s:rA,S:SH,u:EH,U:kH,V:TH,w:_H,W:IH,x:null,X:null,y:PH,Y:RH,Z:LH,"%":eA},W={a:J,A:M,b:z,B:te,c:V,d:Y6,e:Y6,f:Qq,g:X6,G:K6,H:Z6,I:Z6,j:Xq,L:Jq,m:Kq,M:Yq,p:L,q:Gq,Q:tH,s:rH,S:Zq,u:zq,U:$q,V:qq,w:Wq,W:Hq,x:Z,X:ye,y:X6,Y:K6,Z:Vq,"%":eH};k.x=H(r,k),k.X=H(n,k),k.c=H(t,k),P.x=H(r,P),P.X=H(n,P),P.c=H(t,P);function H(pe,Ce){return function(Ee){var Te=[],ze=-1,Re=0,ce=pe.length,Ze,ot,st;for(Ee instanceof Date||(Ee=new Date(+Ee));++ze<ce;)pe.charCodeAt(ze)===37&&(Te.push(pe.slice(Re,ze)),(ot=G6[Ze=pe.charAt(++ze)])!=null?Ze=pe.charAt(++ze):ot=Ze==="e"?" ":"0",(st=Ce[Ze])&&(Ze=st(Ee,ot)),Te.push(Ze),Re=ze+1);return Te.push(pe.slice(Re,ze)),Te.join("")}}function $(pe,Ce){return function(Ee){var Te=Ff(1900,void 0,1),ze=F(Te,pe,Ee+="",0),Re,ce;if(ze!=Ee.length)return null;if("Q"in Te)return new Date(Te.Q);if("s"in Te)return new Date(Te.s*1e3+("L"in Te?Te.L:0));if(Ce&&!("Z"in Te)&&(Te.Z=0),"p"in Te&&(Te.H=Te.H%12+Te.p*12),Te.m===void 0&&(Te.m="q"in Te?Te.q:0),"V"in Te){if(Te.V<1||Te.V>53)return null;"w"in Te||(Te.w=1),"Z"in Te?(Re=d2(Ff(Te.y,0,1)),ce=Re.getUTCDay(),Re=ce>4||ce===0?ap.ceil(Re):ap(Re),Re=_g.offset(Re,(Te.V-1)*7),Te.y=Re.getUTCFullYear(),Te.m=Re.getUTCMonth(),Te.d=Re.getUTCDate()+(Te.w+6)%7):(Re=u2(Ff(Te.y,0,1)),ce=Re.getDay(),Re=ce>4||ce===0?ip.ceil(Re):ip(Re),Re=f0.offset(Re,(Te.V-1)*7),Te.y=Re.getFullYear(),Te.m=Re.getMonth(),Te.d=Re.getDate()+(Te.w+6)%7)}else("W"in Te||"U"in Te)&&("w"in Te||(Te.w="u"in Te?Te.u%7:"W"in Te?1:0),ce="Z"in Te?d2(Ff(Te.y,0,1)).getUTCDay():u2(Ff(Te.y,0,1)).getDay(),Te.m=0,Te.d="W"in Te?(Te.w+6)%7+Te.W*7-(ce+5)%7:Te.w+Te.U*7-(ce+6)%7);return"Z"in Te?(Te.H+=Te.Z/100|0,Te.M+=Te.Z%100,d2(Te)):u2(Te)}}function F(pe,Ce,Ee,Te){for(var ze=0,Re=Ce.length,ce=Ee.length,Ze,ot;ze<Re;){if(Te>=ce)return-1;if(Ze=Ce.charCodeAt(ze++),Ze===37){if(Ze=Ce.charAt(ze++),ot=W[Ze in G6?Ce.charAt(ze++):Ze],!ot||(Te=ot(pe,Ee,Te))<0)return-1}else if(Ze!=Ee.charCodeAt(Te++))return-1}return Te}function L(pe,Ce,Ee){var Te=f.exec(Ce.slice(Ee));return Te?(pe.p=m.get(Te[0].toLowerCase()),Ee+Te[0].length):-1}function J(pe,Ce,Ee){var Te=y.exec(Ce.slice(Ee));return Te?(pe.w=w.get(Te[0].toLowerCase()),Ee+Te[0].length):-1}function M(pe,Ce,Ee){var Te=g.exec(Ce.slice(Ee));return Te?(pe.w=b.get(Te[0].toLowerCase()),Ee+Te[0].length):-1}function z(pe,Ce,Ee){var Te=S.exec(Ce.slice(Ee));return Te?(pe.m=E.get(Te[0].toLowerCase()),Ee+Te[0].length):-1}function te(pe,Ce,Ee){var Te=A.exec(Ce.slice(Ee));return Te?(pe.m=N.get(Te[0].toLowerCase()),Ee+Te[0].length):-1}function V(pe,Ce,Ee){return F(pe,t,Ce,Ee)}function Z(pe,Ce,Ee){return F(pe,r,Ce,Ee)}function ye(pe,Ce,Ee){return F(pe,n,Ce,Ee)}function ve(pe){return o[pe.getDay()]}function me(pe){return a[pe.getDay()]}function Ne(pe){return d[pe.getMonth()]}function Ie(pe){return c[pe.getMonth()]}function je(pe){return i[+(pe.getHours()>=12)]}function q(pe){return 1+~~(pe.getMonth()/3)}function oe(pe){return o[pe.getUTCDay()]}function ne(pe){return a[pe.getUTCDay()]}function ge(pe){return d[pe.getUTCMonth()]}function xe(pe){return c[pe.getUTCMonth()]}function _e(pe){return i[+(pe.getUTCHours()>=12)]}function he(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ce=H(pe+="",k);return Ce.toString=function(){return pe},Ce},parse:function(pe){var Ce=$(pe+="",!1);return Ce.toString=function(){return pe},Ce},utcFormat:function(pe){var Ce=H(pe+="",P);return Ce.toString=function(){return pe},Ce},utcParse:function(pe){var Ce=$(pe+="",!0);return Ce.toString=function(){return pe},Ce}}}var G6={"-":"",_:" ",0:"0"},Ai=/^\s*\d+/,Bq=/^%/,Fq=/[\\^$*+?|[\]().{}]/g;function Ar(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Uq(e){return e.replace(Fq,"\\$&")}function Uf(e){return new RegExp("^(?:"+e.map(Uq).join("|")+")","i")}function Wf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wq(e,t,r){var n=Ai.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zq(e,t,r){var n=Ai.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function $q(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qq(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Hq(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K6(e,t,r){var n=Ai.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function X6(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Vq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Gq(e,t,r){var n=Ai.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Kq(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Y6(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Xq(e,t,r){var n=Ai.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Z6(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Yq(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Zq(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Jq(e,t,r){var n=Ai.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Qq(e,t,r){var n=Ai.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eH(e,t,r){var n=Bq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function tH(e,t,r){var n=Ai.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function rH(e,t,r){var n=Ai.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function J6(e,t){return Ar(e.getDate(),t,2)}function nH(e,t){return Ar(e.getHours(),t,2)}function iH(e,t){return Ar(e.getHours()%12||12,t,2)}function aH(e,t){return Ar(1+f0.count(kl(e),e),t,3)}function nT(e,t){return Ar(e.getMilliseconds(),t,3)}function sH(e,t){return nT(e,t)+"000"}function oH(e,t){return Ar(e.getMonth()+1,t,2)}function lH(e,t){return Ar(e.getMinutes(),t,2)}function cH(e,t){return Ar(e.getSeconds(),t,2)}function uH(e){var t=e.getDay();return t===0?7:t}function dH(e,t){return Ar(Ig.count(kl(e)-1,e),t,2)}function iT(e){var t=e.getDay();return t>=4||t===0?Hd(e):Hd.ceil(e)}function fH(e,t){return e=iT(e),Ar(Hd.count(kl(e),e)+(kl(e).getDay()===4),t,2)}function hH(e){return e.getDay()}function mH(e,t){return Ar(ip.count(kl(e)-1,e),t,2)}function pH(e,t){return Ar(e.getFullYear()%100,t,2)}function gH(e,t){return e=iT(e),Ar(e.getFullYear()%100,t,2)}function xH(e,t){return Ar(e.getFullYear()%1e4,t,4)}function yH(e,t){var r=e.getDay();return e=r>=4||r===0?Hd(e):Hd.ceil(e),Ar(e.getFullYear()%1e4,t,4)}function vH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ar(t/60|0,"0",2)+Ar(t%60,"0",2)}function Q6(e,t){return Ar(e.getUTCDate(),t,2)}function bH(e,t){return Ar(e.getUTCHours(),t,2)}function wH(e,t){return Ar(e.getUTCHours()%12||12,t,2)}function NH(e,t){return Ar(1+_g.count(Tl(e),e),t,3)}function aT(e,t){return Ar(e.getUTCMilliseconds(),t,3)}function AH(e,t){return aT(e,t)+"000"}function CH(e,t){return Ar(e.getUTCMonth()+1,t,2)}function jH(e,t){return Ar(e.getUTCMinutes(),t,2)}function SH(e,t){return Ar(e.getUTCSeconds(),t,2)}function EH(e){var t=e.getUTCDay();return t===0?7:t}function kH(e,t){return Ar(Pg.count(Tl(e)-1,e),t,2)}function sT(e){var t=e.getUTCDay();return t>=4||t===0?Vd(e):Vd.ceil(e)}function TH(e,t){return e=sT(e),Ar(Vd.count(Tl(e),e)+(Tl(e).getUTCDay()===4),t,2)}function _H(e){return e.getUTCDay()}function IH(e,t){return Ar(ap.count(Tl(e)-1,e),t,2)}function PH(e,t){return Ar(e.getUTCFullYear()%100,t,2)}function OH(e,t){return e=sT(e),Ar(e.getUTCFullYear()%100,t,2)}function RH(e,t){return Ar(e.getUTCFullYear()%1e4,t,4)}function DH(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vd(e):Vd.ceil(e),Ar(e.getUTCFullYear()%1e4,t,4)}function LH(){return"+0000"}function eA(){return"%"}function tA(e){return+e}function rA(e){return Math.floor(+e/1e3)}var Ku,oT,lT;MH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MH(e){return Ku=Mq(e),oT=Ku.format,Ku.parse,lT=Ku.utcFormat,Ku.utcParse,Ku}function BH(e){return new Date(e)}function FH(e){return e instanceof Date?+e:+new Date(+e)}function p5(e,t,r,n,i,a,o,c,d,f){var m=t5(),g=m.invert,b=m.domain,y=f(".%L"),w=f(":%S"),A=f("%I:%M"),N=f("%I %p"),S=f("%a %d"),E=f("%b %d"),k=f("%B"),P=f("%Y");function W(H){return(d(H)<H?y:c(H)<H?w:o(H)<H?A:a(H)<H?N:n(H)<H?i(H)<H?S:E:r(H)<H?k:P)(H)}return m.invert=function(H){return new Date(g(H))},m.domain=function(H){return arguments.length?b(Array.from(H,FH)):b().map(BH)},m.ticks=function(H){var $=b();return e($[0],$[$.length-1],H??10)},m.tickFormat=function(H,$){return $==null?W:f($)},m.nice=function(H){var $=b();return(!H||typeof H.range!="function")&&(H=t($[0],$[$.length-1],H??10)),H?b(Kk($,H)):m},m.copy=function(){return d0(m,p5(e,t,r,n,i,a,o,c,d,f))},m}function UH(){return Is.apply(p5(Dq,Lq,kl,h5,Ig,f0,d5,c5,lu,oT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WH(){return Is.apply(p5(Oq,Rq,Tl,m5,Pg,_g,f5,u5,lu,lT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Og(){var e=0,t=1,r,n,i,a,o=ca,c=!1,d;function f(g){return g==null||isNaN(g=+g)?d:o(i===0?.5:(g=(a(g)-r)*i,c?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(o=g,f):o};function m(g){return function(b){var y,w;return arguments.length?([y,w]=b,o=g(y,w),f):[o(0),o(1)]}}return f.range=m(lf),f.rangeRound=m(e5),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return a=g,r=g(e),n=g(t),i=r===n?0:1/(n-r),f}}function Rc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cT(){var e=Oc(Og()(ca));return e.copy=function(){return Rc(e,cT())},Dl.apply(e,arguments)}function uT(){var e=i5(Og()).domain([1,10]);return e.copy=function(){return Rc(e,uT()).base(e.base())},Dl.apply(e,arguments)}function dT(){var e=a5(Og());return e.copy=function(){return Rc(e,dT()).constant(e.constant())},Dl.apply(e,arguments)}function g5(){var e=s5(Og());return e.copy=function(){return Rc(e,g5()).exponent(e.exponent())},Dl.apply(e,arguments)}function zH(){return g5.apply(null,arguments).exponent(.5)}function fT(){var e=[],t=ca;function r(n){if(n!=null&&!isNaN(n=+n))return t((c0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(bc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>E$(e,a/n))},r.copy=function(){return fT(t).domain(e)},Dl.apply(r,arguments)}function Rg(){var e=0,t=.5,r=1,n=1,i,a,o,c,d,f=ca,m,g=!1,b;function y(A){return isNaN(A=+A)?b:(A=.5+((A=+m(A))-a)*(n*A<n*a?c:d),f(g?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([e,t,r]=A,i=m(e=+e),a=m(t=+t),o=m(r=+r),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,y):[e,t,r]},y.clamp=function(A){return arguments.length?(g=!!A,y):g},y.interpolator=function(A){return arguments.length?(f=A,y):f};function w(A){return function(N){var S,E,k;return arguments.length?([S,E,k]=N,f=eq(A,[S,E,k]),y):[f(0),f(.5),f(1)]}}return y.range=w(lf),y.rangeRound=w(e5),y.unknown=function(A){return arguments.length?(b=A,y):b},function(A){return m=A,i=A(e),a=A(t),o=A(r),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,y}}function hT(){var e=Oc(Rg()(ca));return e.copy=function(){return Rc(e,hT())},Dl.apply(e,arguments)}function mT(){var e=i5(Rg()).domain([.1,1,10]);return e.copy=function(){return Rc(e,mT()).base(e.base())},Dl.apply(e,arguments)}function pT(){var e=a5(Rg());return e.copy=function(){return Rc(e,pT()).constant(e.constant())},Dl.apply(e,arguments)}function x5(){var e=s5(Rg());return e.copy=function(){return Rc(e,x5()).exponent(e.exponent())},Dl.apply(e,arguments)}function $H(){return x5.apply(null,arguments).exponent(.5)}const eh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zw,scaleDiverging:hT,scaleDivergingLog:mT,scaleDivergingPow:x5,scaleDivergingSqrt:$H,scaleDivergingSymlog:pT,scaleIdentity:Gk,scaleImplicit:kv,scaleLinear:Vk,scaleLog:Xk,scaleOrdinal:Yw,scalePoint:_$,scalePow:o5,scaleQuantile:Jk,scaleQuantize:Qk,scaleRadial:Zk,scaleSequential:cT,scaleSequentialLog:uT,scaleSequentialPow:g5,scaleSequentialQuantile:fT,scaleSequentialSqrt:zH,scaleSequentialSymlog:dT,scaleSqrt:Aq,scaleSymlog:Yk,scaleThreshold:eT,scaleTime:UH,scaleUtc:WH,tickFormat:Hk},Symbol.toStringTag,{value:"Module"}));var Dc=e=>e.chartData,y5=qe([Dc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gT=(e,t,r,n)=>n?y5(e):Dc(e);function Gd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(no(t)&&no(r))return!0}return!1}function nA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function qH(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(no(r))i=r;else if(typeof r=="function")return;if(no(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Gd(o))return o}}function HH(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Gd(n))return nA(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(or(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Z4.test(i)){var d=Z4.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(or(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&J4.test(a)){var m=J4.exec(a);if(m==null||t==null)c=void 0;else{var g=+m[1];c=t[1]+g}}else c=t==null?void 0:t[1];var b=[o,c];if(Gd(b))return t==null?b:nA(b,t,r)}}}var cf=1e9,VH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},b5,gn=!0,ks="[DecimalError] ",gu=ks+"Invalid argument: ",v5=ks+"Exponent out of range: ",uf=Math.floor,Qc=Math.pow,GH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ga,gi=1e7,sn=7,xT=9007199254740991,sp=uf(xT/sn),vt={};vt.absoluteValue=vt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};vt.comparedTo=vt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};vt.decimalPlaces=vt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*sn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};vt.dividedBy=vt.div=function(e){return vl(this,new this.constructor(e))};vt.dividedToIntegerBy=vt.idiv=function(e){var t=this,r=t.constructor;return Gr(vl(t,new r(e),0,1),r.precision)};vt.equals=vt.eq=function(e){return!this.cmp(e)};vt.exponent=function(){return ei(this)};vt.greaterThan=vt.gt=function(e){return this.cmp(e)>0};vt.greaterThanOrEqualTo=vt.gte=function(e){return this.cmp(e)>=0};vt.isInteger=vt.isint=function(){return this.e>this.d.length-2};vt.isNegative=vt.isneg=function(){return this.s<0};vt.isPositive=vt.ispos=function(){return this.s>0};vt.isZero=function(){return this.s===0};vt.lessThan=vt.lt=function(e){return this.cmp(e)<0};vt.lessThanOrEqualTo=vt.lte=function(e){return this.cmp(e)<1};vt.logarithm=vt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ga))throw Error(ks+"NaN");if(r.s<1)throw Error(ks+(r.s?"NaN":"-Infinity"));return r.eq(Ga)?new n(0):(gn=!1,t=vl(Vh(r,a),Vh(e,a),a),gn=!0,Gr(t,i))};vt.minus=vt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bT(t,e):yT(t,(e.s=-e.s,e))};vt.modulo=vt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ks+"NaN");return r.s?(gn=!1,t=vl(r,e,0,1).times(e),gn=!0,r.minus(t)):Gr(new n(r),i)};vt.naturalExponential=vt.exp=function(){return vT(this)};vt.naturalLogarithm=vt.ln=function(){return Vh(this)};vt.negated=vt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};vt.plus=vt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yT(t,e):bT(t,(e.s=-e.s,e))};vt.precision=vt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gu+e);if(t=ei(i)+1,n=i.d.length-1,r=n*sn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};vt.squareRoot=vt.sqrt=function(){var e,t,r,n,i,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ks+"NaN")}for(e=ei(c),gn=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=Ao(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=uf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(a=n,n=a.plus(vl(c,a,o+2)).times(.5),Ao(a.d).slice(0,o)===(t=Ao(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gr(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(t!="9999")break;o+=4}return gn=!0,Gr(n,r)};vt.times=vt.mul=function(e){var t,r,n,i,a,o,c,d,f,m=this,g=m.constructor,b=m.d,y=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,d=b.length,f=y.length,d<f&&(a=b,b=y,y=a,o=d,d=f,f=o),a=[],o=d+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)c=a[i]+y[n]*b[i-n-1]+t,a[i--]=c%gi|0,t=c/gi|0;a[i]=(a[i]+t)%gi|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,gn?Gr(e,g.precision):e};vt.toDecimalPlaces=vt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Po(e,0,cf),t===void 0?t=n.rounding:Po(t,0,8),Gr(r,e+ei(r)+1,t))};vt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Tu(n,!0):(Po(e,0,cf),t===void 0?t=i.rounding:Po(t,0,8),n=Gr(new i(n),e+1,t),r=Tu(n,!0,e+1)),r};vt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Tu(i):(Po(e,0,cf),t===void 0?t=a.rounding:Po(t,0,8),n=Gr(new a(i),e+ei(i)+1,t),r=Tu(n.abs(),!1,e+ei(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};vt.toInteger=vt.toint=function(){var e=this,t=e.constructor;return Gr(new t(e),ei(e)+1,t.rounding)};vt.toNumber=function(){return+this};vt.toPower=vt.pow=function(e){var t,r,n,i,a,o,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Ga);if(c=new d(c),!c.s){if(e.s<1)throw Error(ks+"Infinity");return c}if(c.eq(Ga))return c;if(n=d.precision,e.eq(Ga))return Gr(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=c.s,o){if((r=m<0?-m:m)<=xT){for(i=new d(Ga),t=Math.ceil(n/sn+4),gn=!1;r%2&&(i=i.times(c),aA(i.d,t)),r=uf(r/2),r!==0;)c=c.times(c),aA(c.d,t);return gn=!0,e.s<0?new d(Ga).div(i):Gr(i,n)}}else if(a<0)throw Error(ks+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,gn=!1,i=e.times(Vh(c,n+f)),gn=!0,i=vT(i),i.s=a,i};vt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ei(i),n=Tu(i,r<=a.toExpNeg||r>=a.toExpPos)):(Po(e,1,cf),t===void 0?t=a.rounding:Po(t,0,8),i=Gr(new a(i),e,t),r=ei(i),n=Tu(i,e<=r||r<=a.toExpNeg,e)),n};vt.toSignificantDigits=vt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Po(e,1,cf),t===void 0?t=n.rounding:Po(t,0,8)),Gr(new n(r),e,t)};vt.toString=vt.valueOf=vt.val=vt.toJSON=vt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ei(e),r=e.constructor;return Tu(e,t<=r.toExpNeg||t>=r.toExpPos)};function yT(e,t){var r,n,i,a,o,c,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),gn?Gr(t,g):t;if(d=e.d,f=t.d,o=e.e,i=t.e,d=d.slice(),a=o-i,a){for(a<0?(n=d,a=-a,c=f.length):(n=f,i=o,c=d.length),o=Math.ceil(g/sn),c=o>c?o+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,n=f,f=d,d=n),r=0;a;)r=(d[--a]=d[a]+f[a]+r)/gi|0,d[a]%=gi;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,gn?Gr(t,g):t}function Po(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gu+e)}function Ao(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=sn-n.length,r&&(a+=tc(r)),a+=n;o=e[t],n=o+"",r=sn-n.length,r&&(a+=tc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var vl=function(){function e(n,i){var a,o=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+o,n[c]=a%gi|0,o=a/gi|0;return o&&n.unshift(o),n}function t(n,i,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*gi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var c,d,f,m,g,b,y,w,A,N,S,E,k,P,W,H,$,F,L=n.constructor,J=n.s==i.s?1:-1,M=n.d,z=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(ks+"Division by zero");for(d=n.e-i.e,$=z.length,W=M.length,y=new L(J),w=y.d=[],f=0;z[f]==(M[f]||0);)++f;if(z[f]>(M[f]||0)&&--d,a==null?E=a=L.precision:o?E=a+(ei(n)-ei(i))+1:E=a,E<0)return new L(0);if(E=E/sn+2|0,f=0,$==1)for(m=0,z=z[0],E++;(f<W||m)&&E--;f++)k=m*gi+(M[f]||0),w[f]=k/z|0,m=k%z|0;else{for(m=gi/(z[0]+1)|0,m>1&&(z=e(z,m),M=e(M,m),$=z.length,W=M.length),P=$,A=M.slice(0,$),N=A.length;N<$;)A[N++]=0;F=z.slice(),F.unshift(0),H=z[0],z[1]>=gi/2&&++H;do m=0,c=t(z,A,$,N),c<0?(S=A[0],$!=N&&(S=S*gi+(A[1]||0)),m=S/H|0,m>1?(m>=gi&&(m=gi-1),g=e(z,m),b=g.length,N=A.length,c=t(g,A,b,N),c==1&&(m--,r(g,$<b?F:z,b))):(m==0&&(c=m=1),g=z.slice()),b=g.length,b<N&&g.unshift(0),r(A,g,N),c==-1&&(N=A.length,c=t(z,A,$,N),c<1&&(m++,r(A,$<N?F:z,N))),N=A.length):c===0&&(m++,A=[0]),w[f++]=m,c&&A[0]?A[N++]=M[P]||0:(A=[M[P]],N=1);while((P++<W||A[0]!==void 0)&&E--)}return w[0]||w.shift(),y.e=d,Gr(y,o?a+ei(y)+1:a)}}();function vT(e,t){var r,n,i,a,o,c,d=0,f=0,m=e.constructor,g=m.precision;if(ei(e)>16)throw Error(v5+ei(e));if(!e.s)return new m(Ga);for(gn=!1,c=g,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(n=Math.log(Qc(2,f))/Math.LN10*2+5|0,c+=n,r=i=a=new m(Ga),m.precision=c;;){if(i=Gr(i.times(e),c),r=r.times(++d),o=a.plus(vl(i,r,c)),Ao(o.d).slice(0,c)===Ao(a.d).slice(0,c)){for(;f--;)a=Gr(a.times(a),c);return m.precision=g,t==null?(gn=!0,Gr(a,g)):a}a=o}}function ei(e){for(var t=e.e*sn,r=e.d[0];r>=10;r/=10)t++;return t}function f2(e,t,r){if(t>e.LN10.sd())throw gn=!0,r&&(e.precision=r),Error(ks+"LN10 precision limit exceeded");return Gr(new e(e.LN10),t)}function tc(e){for(var t="";e--;)t+="0";return t}function Vh(e,t){var r,n,i,a,o,c,d,f,m,g=1,b=10,y=e,w=y.d,A=y.constructor,N=A.precision;if(y.s<1)throw Error(ks+(y.s?"NaN":"-Infinity"));if(y.eq(Ga))return new A(0);if(t==null?(gn=!1,f=N):f=t,y.eq(10))return t==null&&(gn=!0),f2(A,f);if(f+=b,A.precision=f,r=Ao(w),n=r.charAt(0),a=ei(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Ao(y.d),n=r.charAt(0),g++;a=ei(y),n>1?(y=new A("0."+r),a++):y=new A(n+"."+r.slice(1))}else return d=f2(A,f+2,N).times(a+""),y=Vh(new A(n+"."+r.slice(1)),f-b).plus(d),A.precision=N,t==null?(gn=!0,Gr(y,N)):y;for(c=o=y=vl(y.minus(Ga),y.plus(Ga),f),m=Gr(y.times(y),f),i=3;;){if(o=Gr(o.times(m),f),d=c.plus(vl(o,new A(i),f)),Ao(d.d).slice(0,f)===Ao(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(f2(A,f+2,N).times(a+""))),c=vl(c,new A(g),f),A.precision=N,t==null?(gn=!0,Gr(c,N)):c;c=d,i+=2}}function iA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=uf(r/sn),e.d=[],n=(r+1)%sn,r<0&&(n+=sn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=sn;n<i;)e.d.push(+t.slice(n,n+=sn));t=t.slice(n),n=sn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),gn&&(e.e>sp||e.e<-sp))throw Error(v5+r)}else e.s=0,e.e=0,e.d=[0];return e}function Gr(e,t,r){var n,i,a,o,c,d,f,m,g=e.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=sn,i=t,f=g[m=0];else{if(m=Math.ceil((n+1)/sn),a=g.length,m>=a)return e;for(f=a=g[m],o=1;a>=10;a/=10)o++;n%=sn,i=n-sn+o}if(r!==void 0&&(a=Qc(10,o-i-1),c=f/a%10|0,d=t<0||g[m+1]!==void 0||f%a,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?f/Qc(10,o-i):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(a=ei(e),g.length=1,t=t-a-1,g[0]=Qc(10,(sn-t%sn)%sn),e.e=uf(-t/sn)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,a=1,m--):(g.length=m+1,a=Qc(10,sn-n),g[m]=i>0?(f/Qc(10,o-i)%Qc(10,i)|0)*a:0),d)for(;;)if(m==0){(g[0]+=a)==gi&&(g[0]=1,++e.e);break}else{if(g[m]+=a,g[m]!=gi)break;g[m--]=0,a=1}for(n=g.length;g[--n]===0;)g.pop();if(gn&&(e.e>sp||e.e<-sp))throw Error(v5+ei(e));return e}function bT(e,t){var r,n,i,a,o,c,d,f,m,g,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),gn?Gr(t,y):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),o=f-n,o){for(m=o<0,m?(r=d,o=-o,c=g.length):(r=g,n=f,c=d.length),i=Math.max(Math.ceil(y/sn),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=g.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=g[i]){m=d[i]<g[i];break}o=0}for(m&&(r=d,d=g,g=r,t.s=-t.s),c=d.length,i=g.length-c;i>0;--i)d[c++]=0;for(i=g.length;i>o;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=gi-1;--d[a],d[i]+=gi}d[i]-=g[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,gn?Gr(t,y):t):new b(0)}function Tu(e,t,r){var n,i=ei(e),a=Ao(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+tc(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+tc(-i-1)+a,r&&(n=r-o)>0&&(a+=tc(n))):i>=o?(a+=tc(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+tc(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=tc(n))),e.s<0?"-"+a:a}function aA(e,t){if(e.length>t)return e.length=t,!0}function wT(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return iA(o,a.toString())}else if(typeof a!="string")throw Error(gu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,GH.test(a))iA(o,a);else throw Error(gu+a)}if(i.prototype=vt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wT,i.config=i.set=KH,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function KH(e){if(!e||typeof e!="object")throw Error(ks+"Object expected");var t,r,n,i=["precision",1,cf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(uf(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(gu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gu+r+": "+n);return this}var b5=wT(VH);Ga=new b5(1);const Dr=b5;var XH=e=>e,NT={},AT=e=>e===NT,sA=e=>function t(){return arguments.length===0||arguments.length===1&&AT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},CT=(e,t)=>e===1?t:sA(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==NT).length;return a>=e?t(...n):CT(e-a,sA(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var f=n.map(m=>AT(m)?c.shift():m);return t(...f,...c)}))}),Dg=e=>CT(e.length,e),Pv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},YH=Dg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),ZH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return XH;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,d)=>d(c),a(...arguments))}},Ov=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),jT=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,c)=>{var d;return o===((d=t)===null||d===void 0?void 0:d[c])})||(t=i,r=e(...i)),r}};function ST(e){var t;return e===0?t=1:t=Math.floor(new Dr(e).abs().log(10).toNumber())+1,t}function ET(e,t,r){for(var n=new Dr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Dg((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Dg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Dg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var kT=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},TT=(e,t,r)=>{if(e.lte(0))return new Dr(0);var n=ST(e.toNumber()),i=new Dr(10).pow(n),a=e.div(i),o=n!==1?.05:.1,c=new Dr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),d=c.mul(i);return t?new Dr(d.toNumber()):new Dr(Math.ceil(d.toNumber()))},JH=(e,t,r)=>{var n=new Dr(1),i=new Dr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Dr(10).pow(ST(e)-1),i=new Dr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Dr(Math.floor(e)))}else e===0?i=new Dr(Math.floor((t-1)/2)):r||(i=new Dr(Math.floor(e)));var o=Math.floor((t-1)/2),c=ZH(YH(d=>i.add(new Dr(d-o).mul(n)).toNumber()),Pv);return c(0,t)},_T=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Dr(0),tickMin:new Dr(0),tickMax:new Dr(0)};var o=TT(new Dr(r).sub(t).div(n-1),i,a),c;t<=0&&r>=0?c=new Dr(0):(c=new Dr(t).add(r).div(2),c=c.sub(new Dr(c).mod(o)));var d=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Dr(r).sub(c).div(o).toNumber()),m=d+f+1;return m>n?_T(t,r,n,i,a+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:o,tickMin:c.sub(new Dr(d).mul(o)),tickMax:c.add(new Dr(f).mul(o))})};function QH(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,c]=kT([t,r]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...Pv(0,n-1).map(()=>1/0)]:[...Pv(0,n-1).map(()=>-1/0),c];return t>r?Ov(d):d}if(o===c)return JH(o,n,i);var{step:f,tickMin:m,tickMax:g}=_T(o,c,a,i,0),b=ET(m,g.add(new Dr(.1).mul(f)),f);return t>r?Ov(b):b}function eV(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=kT([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var c=Math.max(t,2),d=TT(new Dr(o).sub(a).div(c-1),i,0),f=[...ET(new Dr(a),new Dr(o),d),o];return i===!1&&(f=f.map(m=>Math.round(m))),r>n?Ov(f):f}var tV=jT(QH),rV=jT(eV),nV=e=>e.rootProps.barCategoryGap,h0=e=>e.rootProps.stackOffset,w5=e=>e.options.chartName,N5=e=>e.rootProps.syncId,IT=e=>e.rootProps.syncMethod,A5=e=>e.options.eventEmitter,dl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Va={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Lg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},iV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:dl.angleAxisId,includeHidden:!1,name:void 0,reversed:dl.reversed,scale:dl.scale,tick:dl.tick,tickCount:void 0,ticks:void 0,type:dl.type,unit:void 0},aV={allowDataOverflow:Va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Va.scale,tick:Va.tick,tickCount:Va.tickCount,ticks:void 0,type:Va.type,unit:void 0},sV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:dl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dl.scale,tick:dl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oV={allowDataOverflow:Va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Va.scale,tick:Va.tick,tickCount:Va.tickCount,ticks:void 0,type:"category",unit:void 0},C5=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?sV:iV,j5=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?oV:aV,Mg=e=>e.polarOptions,S5=qe([Pl,Ol,Ni],fk),PT=qe([Mg,S5],(e,t)=>{if(e!=null)return Za(e.innerRadius,t,0)}),OT=qe([Mg,S5],(e,t)=>{if(e!=null)return Za(e.outerRadius,t,t*.8)}),lV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},RT=qe([Mg],lV);qe([C5,RT],Lg);var DT=qe([S5,PT,OT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});qe([j5,DT],Lg);var LT=qe([Qr,Mg,PT,OT,Pl,Ol],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:c,startAngle:d,endAngle:f}=t;return{cx:Za(o,i,i/2),cy:Za(c,a,a/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),xn=(e,t)=>t,m0=(e,t,r)=>r;function MT(e){return e==null?void 0:e.id}var di=e=>{var t=Qr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},df=e=>e.tooltip.settings.axisId,Ci=e=>{var t=di(e),r=df(e);return p0(e,t,r)},BT=qe([Ci],e=>e==null?void 0:e.dataKey);function FT(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=MT(c);f.forEach((g,b)=>{var y=a==null||i?b:String(Qn(g,a,null)),w=Qn(g,c.dataKey,0),A;o.has(y)?A=o.get(y):A={},Object.assign(A,{[m]:w}),o.set(y,A)})}}),Array.from(o.values())}function E5(e){return e.stackId!=null&&e.dataKey!=null}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){cV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cV(e,t,r){return(t=uV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rv=[0,"auto"],fV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hV=(e,t)=>e.cartesianAxis.xAxis[t],Lc=(e,t)=>{var r=hV(e,t);return r??fV},mV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Rv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:o0},pV=(e,t)=>e.cartesianAxis.yAxis[t],Mc=(e,t)=>{var r=pV(e,t);return r??mV},gV={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},k5=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??gV},zn=(e,t,r)=>{switch(t){case"xAxis":return Lc(e,r);case"yAxis":return Mc(e,r);case"zAxis":return k5(e,r);case"angleAxis":return C5(e,r);case"radiusAxis":return j5(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xV=(e,t,r)=>{switch(t){case"xAxis":return Lc(e,r);case"yAxis":return Mc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},p0=(e,t,r)=>{switch(t){case"xAxis":return Lc(e,r);case"yAxis":return Mc(e,r);case"angleAxis":return C5(e,r);case"radiusAxis":return j5(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},UT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function T5(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var yV=e=>e.graphicalItems.cartesianItems,vV=qe([xn,m0],T5),_5=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),g0=qe([yV,zn,vV],_5),WT=qe([g0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(E5)),zT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),$T=qe([g0],zT),I5=e=>e.map(t=>t.data).filter(Boolean).flat(1),bV=qe([g0],I5),P5=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},O5=qe([bV,gT],P5),R5=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Qn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Qn(i,n)}))):e.map(n=>({value:n})),Bg=qe([O5,zn,g0],R5);function qT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Fu(e){return e.filter(t=>jl(t)||t instanceof Date).map(Number).filter(t=>ro(t)===!1)}function wV(e,t,r){return!r||typeof t!="number"||ro(t)?[]:r.length?Fu(r.flatMap(n=>{var i=Qn(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!no(a)||!no(o)))return[t-a,t+o]})):[]}var NV=qe([WT,gT,Ci],FT),HT=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,c]=a,d=c.map(MT);return[o,{stackedData:CW(e,d,r),graphicalItems:c}]}))},AV=qe([NV,WT,h0],HT),VT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=EW(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},CV=qe([AV,Dc,xn],VT),GT=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(o=>{var c,d,f=(c=n[o.id])===null||c===void 0?void 0:c.filter(g=>qT(i,g)),m=Qn(a,(d=t.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:m,errorDomain:wV(a,m,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Qn(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Fg=e=>e.errorBars,KT=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>qT(r,n));qe([$T,Fg,xn],KT);var jV=qe([O5,zn,$T,Fg,xn],GT);function SV(e){var{value:t}=e;if(jl(t)||t instanceof Date)return t}var lA=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Fu(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},EV=(e,t,r)=>{var n=e.map(SV).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&qE(n))?Dk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},D5=e=>{var t;if(e==null||!("domain"in e))return Rv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Fu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Rv},lp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},XT=e=>e.referenceElements.dots,ff=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),kV=qe([XT,xn,m0],ff),YT=e=>e.referenceElements.areas,TV=qe([YT,xn,m0],ff),ZT=e=>e.referenceElements.lines,_V=qe([ZT,xn,m0],ff),JT=(e,t)=>{var r=Fu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},IV=qe(kV,xn,JT),QT=(e,t)=>{var r=Fu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},PV=qe([TV,xn],QT),e_=(e,t)=>{var r=Fu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},OV=qe(_V,xn,e_),RV=qe(IV,OV,PV,(e,t,r)=>lp(e,r,t)),t_=qe([zn],D5),L5=(e,t,r,n,i,a,o)=>{var c=qH(t,e.allowDataOverflow);if(c!=null)return c;var d=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=d?lp(r,i,lA(n)):lp(i,lA(n));return HH(t,f,e.allowDataOverflow)},DV=qe([zn,t_,CV,jV,RV,Qr,xn],L5),LV=[0,1],M5=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:d}=e,f=Lu(t,a);return f&&c==null?Dk(0,r.length):d==="category"?EV(n,e,f):i==="expand"?LV:o}},B5=qe([zn,Qr,O5,Bg,h0,xn,DV],M5),r_=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(i0(a));return c in eh?c:"point"}}},hf=qe([zn,Qr,UT,w5,xn],r_);function MV(e){if(e!=null){if(e in eh)return eh[e]();var t="scale".concat(i0(e));if(t in eh)return eh[t]()}}function F5(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=MV(t);if(i!=null){var a=i.domain(r).range(n);return bW(a),a}}}var U5=(e,t,r)=>{var n=D5(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Gd(e))return tV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Gd(e))return rV(e,t.tickCount,t.allowDecimals)}},W5=qe([B5,p0,hf],U5),z5=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Gd(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],c=r[r.length-1];return[Math.min(i,a),Math.max(o,c)]}return t},BV=qe([zn,B5,W5,xn],z5),FV=qe(Bg,zn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Fu(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),n_=qe(FV,Qr,nV,Ni,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!no(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Za(r,e*a),c=e*a/2;return c-o-(c-o)/a*o}return 0}),UV=(e,t)=>{var r=Lc(e,t);return r==null||typeof r.padding!="string"?0:n_(e,"xAxis",t,r.padding)},WV=(e,t)=>{var r=Mc(e,t);return r==null||typeof r.padding!="string"?0:n_(e,"yAxis",t,r.padding)},zV=qe(Lc,UV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),$V=qe(Mc,WV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),qV=qe([Ni,zV,Eg,Sg,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),HV=qe([Ni,Qr,$V,Eg,Sg,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),x0=(e,t,r,n)=>{var i;switch(t){case"xAxis":return qV(e,r,n);case"yAxis":return HV(e,r,n);case"zAxis":return(i=k5(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return RT(e);case"radiusAxis":return DT(e,r);default:return}},i_=qe([zn,x0],Lg),Ug=qe([zn,hf,BV,i_],F5);qe([g0,Fg,xn],KT);function a_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Wg=(e,t)=>t,zg=(e,t,r)=>r,VV=qe(Cg,Wg,zg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(a_)),GV=qe(jg,Wg,zg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(a_)),s_=(e,t)=>({width:e.width,height:t.height}),KV=(e,t)=>{var r=typeof t.width=="number"?t.width:o0;return{width:r,height:e.height}};qe(Ni,Lc,s_);var XV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},YV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ZV=qe(Ol,Ni,VV,Wg,zg,(e,t,r,n,i)=>{var a={},o;return r.forEach(c=>{var d=s_(t,c);o==null&&(o=XV(t,n,e));var f=n==="top"&&!i||n==="bottom"&&i;a[c.id]=o-Number(f)*d.height,o+=(f?-1:1)*d.height}),a}),JV=qe(Pl,Ni,GV,Wg,zg,(e,t,r,n,i)=>{var a={},o;return r.forEach(c=>{var d=KV(t,c);o==null&&(o=YV(t,n,e));var f=n==="left"&&!i||n==="right"&&i;a[c.id]=o-Number(f)*d.width,o+=(f?-1:1)*d.width}),a}),QV=(e,t)=>{var r=Lc(e,t);if(r!=null)return ZV(e,r.orientation,r.mirror)};qe([Ni,Lc,QV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}});var eG=(e,t)=>{var r=Mc(e,t);if(r!=null)return JV(e,r.orientation,r.mirror)};qe([Ni,Mc,eG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});qe(Ni,Mc,(e,t)=>{var r=typeof t.width=="number"?t.width:o0;return{width:r,height:e.height}});var o_=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,c=Lu(e,n),d=t.map(f=>f.value);if(o&&c&&a==="category"&&i&&qE(d))return d}},$5=qe([Qr,Bg,zn,xn],o_),l_=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Lu(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},q5=qe([Qr,Bg,p0,xn],l_);qe([Qr,xV,hf,Ug,$5,q5,x0,W5,xn],(e,t,r,n,i,a,o,c,d)=>{if(t==null)return null;var f=Lu(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:r,scale:n}});var tG=(e,t,r,n,i,a,o,c,d)=>{if(!(t==null||n==null)){var f=Lu(e,d),{type:m,ticks:g,tickCount:b}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=m==="category"&&n.bandwidth?n.bandwidth()/y:0;w=d==="angleAxis"&&a!=null&&a.length>=2?Ca(a[0]-a[1])*2*w:w;var A=g||i;if(A){var N=A.map((S,E)=>{var k=o?o.indexOf(S):S;return{index:E,coordinate:n(k)+w,value:S,offset:w}});return N.filter(S=>!ro(S.coordinate))}return f&&c?c.map((S,E)=>({coordinate:n(S)+w,value:S,index:E,offset:w})):n.ticks?n.ticks(b).map(S=>({coordinate:n(S)+w,value:S,offset:w})):n.domain().map((S,E)=>({coordinate:n(S)+w,value:o?o[S]:S,index:E,offset:w}))}};qe([Qr,p0,hf,Ug,W5,x0,$5,q5,xn],tG);var rG=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Lu(e,o),{tickCount:d}=t,f=0;return f=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Ca(n[0]-n[1])*2*f:f,c&&a?a.map((m,g)=>({coordinate:r(m)+f,value:m,index:g,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,g)=>({coordinate:r(m)+f,value:i?i[m]:m,index:g,offset:f}))}};qe([Qr,p0,Ug,x0,$5,q5,xn],rG);qe(zn,Ug,(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})});var nG=qe([zn,hf,B5,i_],F5);qe((e,t,r)=>k5(e,r),nG,(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})});var iG=qe([Qr,Cg,jg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),c_=e=>e.options.defaultTooltipEventType,u_=e=>e.options.validateTooltipEventTypes;function d_(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function H5(e,t){var r=c_(e),n=u_(e);return d_(t,r,n)}function aG(e){return lr(t=>H5(t,e))}var f_=(e,t)=>{var r,n=Number(t);if(!(ro(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},sG=e=>e.tooltip.settings,ic={active:!1,index:null,dataKey:void 0,coordinate:void 0},oG={itemInteraction:{click:ic,hover:ic},axisInteraction:{click:ic,hover:ic},keyboardInteraction:ic,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},h_=is({name:"tooltip",initialState:oG,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=yl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:lG,removeTooltipEntrySettings:cG,setTooltipSettingsState:uG,setActiveMouseOverItemIndex:m_,mouseLeaveItem:dG,mouseLeaveChart:p_,setActiveClickItemIndex:fG,setMouseOverAxisIndex:g_,setMouseClickAxisIndex:hG,setSyncInteraction:Dv,setKeyboardInteraction:Lv}=h_.actions,mG=h_.reducer;function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){pG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t,r){return(t=gG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function vG(e){return e.index!=null}var x_=(e,t,r,n)=>{if(t==null)return ic;var i=yG(e,t,r);if(i==null)return ic;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(vG(i)){if(a)return b1(b1({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return b1(b1({},ic),{},{coordinate:i.coordinate})},V5=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!no(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},y_=(e,t,r,n,i,a,o,c)=>{if(!(a==null||c==null)){var d=o[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var m=i==null?void 0:i[Number(a)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},v_=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},y0=e=>e.options.tooltipPayloadSearcher,mf=e=>e.tooltip;function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){bG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AG(e,t){return e??t}var b_=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,g=[];return e.reduce((b,y)=>{var w,{dataDefinedOnItem:A,settings:N}=y,S=AG(A,c),E=Array.isArray(S)?hk(S,f,m):S,k=(w=N==null?void 0:N.dataKey)!==null&&w!==void 0?w:n,P=N==null?void 0:N.nameKey,W;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?W=yB(E,n,i):W=a(E,t,d,P),Array.isArray(W))W.forEach($=>{var F=dA(dA({},N),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(Q4({tooltipEntrySettings:F,dataKey:$.dataKey,payload:$.payload,value:Qn($.payload,$.dataKey),name:$.name}))});else{var H;b.push(Q4({tooltipEntrySettings:N,dataKey:k,payload:W,value:Qn(W,k),name:(H=Qn(W,P))!==null&&H!==void 0?H:N==null?void 0:N.name}))}return b},g)}},G5=qe([Ci,Qr,UT,w5,di],r_),CG=qe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jG=qe([di,df],T5),v0=qe([CG,Ci,jG],_5),SG=qe([v0],e=>e.filter(E5)),EG=qe([v0],I5),pf=qe([EG,Dc],P5),kG=qe([SG,Dc,Ci],FT),K5=qe([pf,Ci,v0],R5),TG=qe([Ci],D5),_G=qe([v0],e=>e.filter(E5)),IG=qe([kG,_G,h0],HT),PG=qe([IG,Dc,di],VT),OG=qe([v0],zT),RG=qe([pf,Ci,OG,Fg,di],GT),DG=qe([XT,di,df],ff),LG=qe([DG,di],JT),MG=qe([YT,di,df],ff),BG=qe([MG,di],QT),FG=qe([ZT,di,df],ff),UG=qe([FG,di],e_),WG=qe([LG,UG,BG],lp),zG=qe([Ci,TG,PG,RG,WG,Qr,di],L5),w_=qe([Ci,Qr,pf,K5,h0,di,zG],M5),$G=qe([w_,Ci,G5],U5),qG=qe([Ci,w_,$G,di],z5),N_=e=>{var t=di(e),r=df(e),n=!1;return x0(e,t,r,n)},A_=qe([Ci,N_],Lg),C_=qe([Ci,G5,qG,A_],F5),HG=qe([Qr,K5,Ci,di],o_),VG=qe([Qr,K5,Ci,di],l_),GG=(e,t,r,n,i,a,o,c)=>{if(t){var{type:d}=t,f=Lu(e,c);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ca(i[0]-i[1])*2*g:g,f&&o?o.map((b,y)=>({coordinate:n(b)+g,value:b,index:y,offset:g})):n.domain().map((b,y)=>({coordinate:n(b)+g,value:a?a[b]:b,index:y,offset:g}))}}},Ll=qe([Qr,Ci,G5,C_,N_,HG,VG,di],GG),X5=qe([c_,u_,sG],(e,t,r)=>d_(r.shared,e,t)),j_=e=>e.tooltip.settings.trigger,Y5=e=>e.tooltip.settings.defaultIndex,$g=qe([mf,X5,j_,Y5],x_),Gh=qe([$g,pf],V5),S_=qe([Ll,Gh],f_),KG=qe([$g],e=>{if(e)return e.dataKey}),E_=qe([mf,X5,j_,Y5],v_),XG=qe([Pl,Ol,Qr,Ni,Ll,Y5,E_,y0],y_),YG=qe([$g,XG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ZG=qe([$g],e=>e.active),JG=qe([E_,Gh,Dc,BT,S_,y0,X5],b_);qe([JG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){QG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QG(e,t,r){return(t=eK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rK=()=>lr(Ci),nK=()=>{var e=rK(),t=lr(Ll),r=lr(C_);return kW(hA(hA({},e),{},{scale:r}),t)},iK=()=>lr(w5),Z5=(e,t)=>t,k_=(e,t,r)=>r,J5=(e,t,r,n)=>n,aK=qe(Ll,e=>yg(e,t=>t.coordinate)),Q5=qe([mf,Z5,k_,J5],x_),T_=qe([Q5,pf],V5),sK=(e,t,r)=>{if(t!=null){var n=mf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},__=qe([mf,Z5,k_,J5],v_),cp=qe([Pl,Ol,Qr,Ni,Ll,J5,__,y0],y_),oK=qe([Q5,cp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),I_=qe(Ll,T_,f_),lK=qe([__,T_,Dc,BT,I_,y0,Z5],b_),cK=qe([Q5],e=>({isActive:e.active,activeIndex:e.index})),uK=(e,t,r,n,i,a,o,c)=>{if(!(!e||!t||!n||!i||!a)){var d=TW(e.chartX,e.chartY,t,r,c);if(d){var f=IW(d,t),m=yW(f,o,a,n,i),g=_W(t,a,m,d);return{activeIndex:String(m),activeCoordinate:g}}}};function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(null,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){dK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dK(e,t,r){return(t=fK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mK(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:c,tooltipEventType:d,chartName:f}=e,m=t,g=r,b=n;if(!c||!m||f!=="ScatterChart"&&d!=="axis")return null;var y,w;if(f==="ScatterChart")y=m,w=Rz;else if(f==="BarChart")y=Dz(o,m,i,a),w=kk;else if(o==="radial"){var{cx:A,cy:N,radius:S,startAngle:E,endAngle:k}=Tk(m);y={cx:A,cy:N,startAngle:E,endAngle:k,innerRadius:S,outerRadius:S},w=Ik}else y={points:m$(o,m,i)},w=Ak;var P=typeof c=="object"&&"className"in c?c.className:void 0,W=w1(w1(w1(w1({stroke:"#ccc",pointerEvents:"none"},i),y),da(c,!1)),{},{payload:g,payloadIndex:b,className:Wn("recharts-tooltip-cursor",P)});return I.isValidElement(c)?I.cloneElement(c,W):I.createElement(w,W)}function pK(e){var t=nK(),r=qW(),n=bk(),i=iK();return I.createElement(mK,Mv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var P_=I.createContext(null),gK=()=>I.useContext(P_),O_={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,g,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new i(m,g||d,b),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=r?r+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,y=g.length,w=new Array(y);b<y;b++)w[b]=g[b].fn;return w},c.prototype.listenerCount=function(f){var m=r?r+f:f,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,m,g,b,y,w){var A=r?r+f:f;if(!this._events[A])return!1;var N=this._events[A],S=arguments.length,E,k;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),S){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,m),!0;case 3:return N.fn.call(N.context,m,g),!0;case 4:return N.fn.call(N.context,m,g,b),!0;case 5:return N.fn.call(N.context,m,g,b,y),!0;case 6:return N.fn.call(N.context,m,g,b,y,w),!0}for(k=1,E=new Array(S-1);k<S;k++)E[k-1]=arguments[k];N.fn.apply(N.context,E)}else{var P=N.length,W;for(k=0;k<P;k++)switch(N[k].once&&this.removeListener(f,N[k].fn,void 0,!0),S){case 1:N[k].fn.call(N[k].context);break;case 2:N[k].fn.call(N[k].context,m);break;case 3:N[k].fn.call(N[k].context,m,g);break;case 4:N[k].fn.call(N[k].context,m,g,b);break;default:if(!E)for(W=1,E=new Array(S-1);W<S;W++)E[W-1]=arguments[W];N[k].fn.apply(N[k].context,E)}}return!0},c.prototype.on=function(f,m,g){return a(this,f,m,g,!1)},c.prototype.once=function(f,m,g){return a(this,f,m,g,!0)},c.prototype.removeListener=function(f,m,g,b){var y=r?r+f:f;if(!this._events[y])return this;if(!m)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===m&&(!b||w.once)&&(!g||w.context===g)&&o(this,y);else{for(var A=0,N=[],S=w.length;A<S;A++)(w[A].fn!==m||b&&!w[A].once||g&&w[A].context!==g)&&N.push(w[A]);N.length?this._events[y]=N.length===1?N[0]:N:o(this,y)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(O_);var xK=O_.exports;const yK=Oo(xK);var Kh=new yK,Bv="recharts.syncEvent.tooltip",pA="recharts.syncEvent.brush";function vK(e,t){if(t){var r=Number.parseInt(t,10);if(!ro(r))return e==null?void 0:e[r]}}var bK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},R_=is({name:"options",initialState:bK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wK=R_.reducer,{createEventEmitter:NK}=R_.actions;function AK(e){return e.tooltip.syncInteraction}var CK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},D_=is({name:"chartData",initialState:CK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:gA,setDataStartEndIndexes:jK,setComputedData:ile}=D_.actions,SK=D_.reducer,EK=["x","y"];function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return(t=TK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IK(e,t){if(e==null)return{};var r,n,i=PK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L_=()=>{};function OK(){var e=lr(N5),t=lr(A5),r=wi(),n=lr(IT),i=lr(Ll),a=bk(),o=Hw(),c=lr(d=>d.rootProps.className);I.useEffect(()=>{if(e==null)return L_;var d=(f,m,g)=>{if(t!==g&&e===f){if(n==="index"){var b;if(o&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate){var y=m.payload.coordinate,{x:w,y:A}=y,N=IK(y,EK),S=Kc(Kc(Kc({},N),typeof w=="number"&&{x:Math.max(o.x,Math.min(w,o.x+o.width))}),typeof A=="number"&&{y:Math.max(o.y,Math.min(A,o.y+o.height))}),E=Kc(Kc({},m),{},{payload:Kc(Kc({},m.payload),{},{coordinate:S})});r(E)}else r(m);return}if(i!=null){var k;if(typeof n=="function"){var P={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},W=n(i,P);k=i[W]}else n==="value"&&(k=i.find(te=>String(te.value)===m.payload.label));var{coordinate:H}=m.payload;if(k==null||m.payload.active===!1||H==null||o==null){r(Dv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:$,y:F}=H,L=Math.min($,o.x+o.width),J=Math.min(F,o.y+o.height),M={x:a==="horizontal"?k.coordinate:L,y:a==="horizontal"?J:k.coordinate},z=Dv({active:m.payload.active,coordinate:M,dataKey:m.payload.dataKey,index:String(k.index),label:m.payload.label});r(z)}}};return Kh.on(Bv,d),()=>{Kh.off(Bv,d)}},[c,r,t,e,n,i,a,o])}function RK(){var e=lr(N5),t=lr(A5),r=wi();I.useEffect(()=>{if(e==null)return L_;var n=(i,a,o)=>{t!==o&&e===i&&r(jK(a))};return Kh.on(pA,n),()=>{Kh.off(pA,n)}},[r,t,e])}function DK(){var e=wi();I.useEffect(()=>{e(NK())},[e]),OK(),RK()}function LK(e,t,r,n,i,a){var o=lr(b=>sK(b,e,t)),c=lr(A5),d=lr(N5),f=lr(IT),m=lr(AK),g=m==null?void 0:m.active;I.useEffect(()=>{if(!g&&d!=null&&c!=null){var b=Dv({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});Kh.emit(Bv,d,b,c)}},[g,r,o,i,n,c,d,f,a])}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){MK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t,r){return(t=BK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UK(e){return e.dataKey}function WK(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(fz,t)}var bA=[],zK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!l0.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $K(e){var t=Rl(e,zK),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:m,position:g,reverseDirection:b,useTranslate3d:y,wrapperStyle:w,cursor:A,shared:N,trigger:S,defaultIndex:E,portal:k,axisId:P}=t,W=wi(),H=typeof E=="number"?String(E):E;I.useEffect(()=>{W(uG({shared:N,trigger:S,axisId:P,active:r,defaultIndex:H}))},[W,N,S,P,r,H]);var $=Hw(),F=Nk(),L=aG(N),{activeIndex:J,isActive:M}=lr(ge=>cK(ge,L,S,H)),z=lr(ge=>lK(ge,L,S,H)),te=lr(ge=>I_(ge,L,S,H)),V=lr(ge=>oK(ge,L,S,H)),Z=z,ye=gK(),ve=r??M,[me,Ne]=W7([Z,ve]),Ie=L==="axis"?te:void 0;LK(L,S,V,Ie,J,ve);var je=k??ye;if(je==null)return null;var q=Z??bA;ve||(q=bA),c&&q.length&&(q=T7(Z.filter(ge=>ge.value!=null&&(ge.hide!==!0||t.includeHidden)),m,UK));var oe=q.length>0,ne=I.createElement(vz,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:d,active:ve,coordinate:V,hasPayload:oe,offset:f,position:g,reverseDirection:b,useTranslate3d:y,viewBox:$,wrapperStyle:w,lastBoundingBox:me,innerRef:Ne,hasPortalFromProps:!!k},WK(o,vA(vA({},t),{},{payload:q,label:Ie,active:ve,coordinate:V,accessibilityLayer:F})));return I.createElement(I.Fragment,null,uw.createPortal(ne,je),ve&&I.createElement(pK,{cursor:A,tooltipEventType:L,coordinate:V,payload:Z,index:J}))}var M_={},B_={},F_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},g=()=>{f&&m(),A()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},n)},w=()=>{b!==null&&(clearTimeout(b),b=null)},A=()=>{w(),o=void 0,c=null},N=()=>{m()},S=function(...E){if(i!=null&&i.aborted)return;o=this,c=E;const k=b==null;y(),d&&k&&m()};return S.schedule=y,S.cancel=A,S.flush=N,i==null||i.addEventListener("abort",A,{once:!0}),S}e.debounce=t})(F_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F_;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,g=null;const b=t.debounce(function(...A){m=n.apply(this,A),g=null},i,{edges:f}),y=function(...A){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=n.apply(this,A),g=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,A),m)},w=()=>(b.flush(),m);return y.cancel=b.cancel,y.flush=w,y}e.debounce=r})(B_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B_;function r(n,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:c})}e.throttle=r})(M_);var qK=M_.throttle;const HK=Oo(qK);var h2=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=KK(e,"string");return typeof t=="symbol"?t:t+""}function KK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XK=I.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:g,className:b,onResize:y,style:w={}}=e,A=I.useRef(null),N=I.useRef();N.current=y,I.useImperativeHandle(t,()=>A.current);var[S,E]=I.useState({containerWidth:n.width,containerHeight:n.height}),k=I.useCallback((W,H)=>{E($=>{var F=Math.round(W),L=Math.round(H);return $.containerWidth===F&&$.containerHeight===L?$:{containerWidth:F,containerHeight:L}})},[]);I.useEffect(()=>{var W=L=>{var J,{width:M,height:z}=L[0].contentRect;k(M,z),(J=N.current)===null||J===void 0||J.call(N,M,z)};m>0&&(W=HK(W,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(W),{width:$,height:F}=A.current.getBoundingClientRect();return k($,F),H.observe(A.current),()=>{H.disconnect()}},[k,m]);var P=I.useMemo(()=>{var{containerWidth:W,containerHeight:H}=S;if(W<0||H<0)return null;h2(su(i)||su(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),h2(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=su(i)?W:i,F=su(a)?H:a;return r&&r>0&&($?F=$/r:F&&($=F*r),d&&F>d&&(F=d)),h2($>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,F,i,a,o,c,r),I.Children.map(f,L=>I.cloneElement(L,{width:$,height:F,style:m2({width:$,height:F},L.props.style)}))},[r,f,a,d,c,o,S,i]);return I.createElement("div",{id:g?"".concat(g):void 0,className:Wn("recharts-responsive-container",b),style:m2(m2({},w),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:d}),ref:A},I.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),qg=e=>null;qg.displayName="Cell";function YK(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QK{constructor(t){YK(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){tX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t,r){return(t=rX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iX={cacheSize:2e3,enableCache:!0},U_=eX({},iX),AA=new QK(U_.cacheSize),aX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CA="recharts_measurement_span";function sX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var jA=(e,t)=>{try{var r=document.getElementById(CA);r||(r=document.createElement("span"),r.setAttribute("id",CA),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,aX,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},SA=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||l0.isSsr)return{width:0,height:0};if(!U_.enableCache)return jA(t,r);var n=sX(t,r),i=AA.get(n);if(i)return i;var a=jA(t,r);return AA.set(n,a),a},EA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cX=Object.keys(W_),hd="NaN";function uX(e,t){return e*W_[t]}class wa{static parse(t){var r,[,n,i]=(r=lX.exec(t))!==null&&r!==void 0?r:[];return new wa(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ro(t)&&(this.unit=""),r!==""&&!oX.test(r)&&(this.num=NaN,this.unit=""),cX.includes(r)&&(this.num=uX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wa(NaN,""):new wa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wa(NaN,""):new wa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wa(NaN,""):new wa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wa(NaN,""):new wa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ro(this.num)}}function z_(e){if(e.includes(hd))return hd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=EA.exec(t))!==null&&r!==void 0?r:[],o=wa.parse(n??""),c=wa.parse(a??""),d=i==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return hd;t=t.replace(EA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,g,b]=(f=kA.exec(t))!==null&&f!==void 0?f:[],y=wa.parse(m??""),w=wa.parse(b??""),A=g==="+"?y.add(w):y.subtract(w);if(A.isNaN())return hd;t=t.replace(kA,A.toString())}return t}var TA=/\(([^()]*)\)/;function dX(e){for(var t=e,r;(r=TA.exec(t))!=null;){var[,n]=r;t=t.replace(TA,z_(n))}return t}function fX(e){var t=e.replace(/\s+/g,"");return t=dX(t),t=z_(t),t}function hX(e){try{return fX(e)}catch{return hd}}function p2(e){var t=hX(e.slice(5,-1));return t===hd?"":t}var mX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pX=["dx","dy","angle","className","breakAll"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(null,arguments)}function _A(e,t){if(e==null)return{};var r,n,i=gX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $_=/[ \f\n\r\t\v\u2028\u2029]+/,q_=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];es(t)||(r?i=t.toString().split(""):i=t.toString().split($_));var a=i.map(c=>({word:c,width:SA(c,n).width})),o=r?0:SA(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},xX=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:c,breakAll:d}=e,f=or(a),m=o,g=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((z,te)=>{var{word:V,width:Z}=te,ye=z[z.length-1];if(ye&&(n==null||i||ye.width+Z+r<Number(n)))ye.words.push(V),ye.width+=Z+r;else{var ve={words:[V],width:Z};z.push(ve)}return z},[])},b=g(t),y=J=>J.reduce((M,z)=>M.width>z.width?M:z);if(!f||i)return b;var w=b.length>a||y(b).width>Number(n);if(!w)return b;for(var A="…",N=J=>{var M=m.slice(0,J),z=q_({breakAll:d,style:c,children:M+A}).wordsWithComputedWidth,te=g(z),V=te.length>a||y(te).width>Number(n);return[V,te]},S=0,E=m.length-1,k=0,P;S<=E&&k<=m.length-1;){var W=Math.floor((S+E)/2),H=W-1,[$,F]=N(H),[L]=N(W);if(!$&&!L&&(S=W+1),$&&L&&(E=W-1),!$&&L){P=F;break}k++}return P||b},IA=e=>{var t=es(e)?[]:e.toString().split($_);return[{words:t}]},yX=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!l0.isSsr){var c,d,f=q_({breakAll:a,children:n,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;c=m,d=g}else return IA(n);return xX({breakAll:a,children:n,maxLines:o,style:i},c,d,t,r)}return IA(n)},PA="#808080",e3=I.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=PA}=e,m=_A(e,mX),g=I.useMemo(()=>yX({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:o,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,o,m.style,m.width]),{dx:b,dy:y,angle:w,className:A,breakAll:N}=m,S=_A(m,pX);if(!jl(r)||!jl(n)||g.length===0)return null;var E=r+(or(b)?b:0),k=n+(or(y)?y:0),P;switch(d){case"start":P=p2("calc(".concat(a,")"));break;case"middle":P=p2("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:P=p2("calc(".concat(g.length-1," * -").concat(i,")"));break}var W=[];if(o){var H=g[0].width,{width:$}=m;W.push("scale(".concat(or($)?$/H:1,")"))}return w&&W.push("rotate(".concat(w,", ").concat(E,", ").concat(k,")")),W.length&&(S.transform=W.join(" ")),I.createElement("text",Fv({},da(S,!0),{ref:t,x:E,y:k,className:Wn("recharts-text",A),textAnchor:c,fill:f.includes("url")?PA:f}),g.map((F,L)=>{var J=F.words.join(N?"":" ");return I.createElement("tspan",{x:E,dy:L===0?P:i,key:"".concat(J,"-").concat(L)},J)}))});e3.displayName="Text";var vX=["labelRef"];function bX(e,t){if(e==null)return{};var r,n,i=wX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=AX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}var jX=I.createContext(null),SX=()=>{var e=I.useContext(jX),t=Hw();return e||t},EX=I.createContext(null),kX=()=>{var e=I.useContext(EX),t=lr(LT);return e||t},TX=e=>{var{value:t,formatter:r}=e,n=es(e.children)?t:e.children;return typeof r=="function"?r(n):n},_X=e=>e!=null&&typeof e=="function",IX=(e,t)=>{var r=Ca(t-e),n=Math.min(Math.abs(t-e),360);return r*n},PX=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:g,endAngle:b,clockWise:y}=i,w=(f+m)/2,A=IX(g,b),N=A>=0?1:-1,S,E;switch(t){case"insideStart":S=g+N*a,E=y;break;case"insideEnd":S=b-N*a,E=!y;break;case"end":S=b+N*a,E=y;break;default:throw new Error("Unsupported position ".concat(t))}E=A<=0?E:!E;var k=Jn(c,d,w,S),P=Jn(c,d,w,S+(E?1:-1)*359),W="M".concat(k.x,",").concat(k.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(P.x,",").concat(P.y),H=es(e.id)?Bh("recharts-radial-line-"):e.id;return I.createElement("text",up({},n,{dominantBaseline:"central",className:Wn("recharts-radial-bar-label",o)}),I.createElement("defs",null,I.createElement("path",{id:H,d:W})),I.createElement("textPath",{xlinkHref:"#".concat(H)},r))},OX=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(r==="outside"){var{x:m,y:g}=Jn(n,i,o+t,f);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x:y,y:w}=Jn(n,i,b,f);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},H_=e=>"cx"in e&&or(e.cx),RX=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!H_(r)&&(a=r);var{x:o,y:c,width:d,height:f}=t,m=f>=0?1:-1,g=m*n,b=m>0?"end":"start",y=m>0?"start":"end",w=d>=0?1:-1,A=w*n,N=w>0?"end":"start",S=w>0?"start":"end";if(i==="top"){var E={x:o+d/2,y:c-m*n,textAnchor:"middle",verticalAnchor:b};return Yn(Yn({},E),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var k={x:o+d/2,y:c+f+g,textAnchor:"middle",verticalAnchor:y};return Yn(Yn({},k),a?{height:Math.max(a.y+a.height-(c+f),0),width:d}:{})}if(i==="left"){var P={x:o-A,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return Yn(Yn({},P),a?{width:Math.max(P.x-a.x,0),height:f}:{})}if(i==="right"){var W={x:o+d+A,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return Yn(Yn({},W),a?{width:Math.max(a.x+a.width-W.x,0),height:f}:{})}var H=a?{width:d,height:f}:{};return i==="insideLeft"?Yn({x:o+A,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},H):i==="insideRight"?Yn({x:o+d-A,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},H):i==="insideTop"?Yn({x:o+d/2,y:c+g,textAnchor:"middle",verticalAnchor:y},H):i==="insideBottom"?Yn({x:o+d/2,y:c+f-g,textAnchor:"middle",verticalAnchor:b},H):i==="insideTopLeft"?Yn({x:o+A,y:c+g,textAnchor:S,verticalAnchor:y},H):i==="insideTopRight"?Yn({x:o+d-A,y:c+g,textAnchor:N,verticalAnchor:y},H):i==="insideBottomLeft"?Yn({x:o+A,y:c+f-g,textAnchor:S,verticalAnchor:b},H):i==="insideBottomRight"?Yn({x:o+d-A,y:c+f-g,textAnchor:N,verticalAnchor:b},H):i&&typeof i=="object"&&(or(i.x)||su(i.x))&&(or(i.y)||su(i.y))?Yn({x:o+Za(i.x,d),y:c+Za(i.y,f),textAnchor:"end",verticalAnchor:"end"},H):Yn({x:o+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},H)},DX={offset:5};function V_(e){var t=Rl(e,DX),{viewBox:r,position:n,value:i,children:a,content:o,className:c="",textBreakAll:d,labelRef:f}=t,m=kX(),g=SX(),b=n==="center"?g:m??g,y=r||b;if(!y||es(i)&&es(a)&&!I.isValidElement(o)&&typeof o!="function")return null;var w=Yn(Yn({},t),{},{viewBox:y});if(I.isValidElement(o)){var{labelRef:A}=w,N=bX(w,vX);return I.cloneElement(o,N)}var S;if(typeof o=="function"){if(S=I.createElement(o,w),I.isValidElement(S))return S}else S=TX(t);var E=H_(y),k=da(t,!0);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return PX(t,n,S,k,y);var P=E?OX(y,t.offset,t.position):RX(t,y);return I.createElement(e3,up({ref:f,className:Wn("recharts-label",c)},k,P,{breakAll:d}),S)}V_.displayName="Label";var G_={},K_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(K_);var X_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(X_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K_,r=X_,n=gg;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(G_);var LX=G_.last;const MX=Oo(LX);var BX=["valueAccessor"],FX=["dataKey","clockWise","id","textBreakAll"];function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function RA(e,t){if(e==null)return{};var r,n,i=UX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WX=e=>Array.isArray(e.value)?MX(e.value):e.value,Y_=I.createContext(void 0);Y_.Provider;var Z_=I.createContext(void 0),zX=Z_.Provider;function $X(){return I.useContext(Y_)}function qX(){return I.useContext(Z_)}function Z1(e){var{valueAccessor:t=WX}=e,r=RA(e,BX),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,c=RA(r,FX),d=$X(),f=qX(),m=d||f;return!m||!m.length?null:I.createElement(Cc,{className:"recharts-label-list"},m.map((g,b)=>{var y,w=es(n)?t(g,b):Qn(g&&g.payload,n),A=es(a)?{}:{id:"".concat(a,"-").concat(b)};return I.createElement(V_,dp({},da(g,!0),c,A,{fill:(y=r.fill)!==null&&y!==void 0?y:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:o,viewBox:g.viewBox,key:"label-".concat(b),index:b}))}))}Z1.displayName="LabelList";function HX(e){var{label:t}=e;return t?t===!0?I.createElement(Z1,{key:"labelList-implicit"}):I.isValidElement(t)||_X(t)?I.createElement(Z1,{key:"labelList-implicit",content:t}):typeof t=="object"?I.createElement(Z1,dp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var J_=e=>e.graphicalItems.polarItems,VX=qe([xn,m0],T5),t3=qe([J_,zn,VX],_5),GX=qe([t3],I5),r3=qe([GX,y5],P5),KX=qe([r3,zn,t3],R5),XX=qe([r3,zn,t3],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Qn(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Qn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),DA=()=>{},YX=qe([zn,t_,DA,XX,DA,Qr,xn],L5),Q_=qe([zn,Qr,r3,KX,h0,xn,YX],M5),ZX=qe([Q_,zn,hf],U5);qe([zn,Q_,ZX,xn],z5);var JX={radiusAxis:{},angleAxis:{}},eI=is({name:"polarAxis",initialState:JX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ale,removeRadiusAxis:sle,addAngleAxis:ole,removeAngleAxis:lle}=eI.actions,QX=eI.reducer;function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){eY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eY(e,t,r){return(t=tY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nY=(e,t)=>t,n3=qe([J_,nY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),iY=[],i3=(e,t,r)=>(r==null?void 0:r.length)===0?iY:r,tI=qe([y5,n3,i3],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>MA(MA({},t.presentationProps),a.props))),i!=null)return i}}),aY=qe([tI,n3,i3],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=Qn(n,t.nameKey,t.name),c;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:mk(o,t.dataKey),color:c,payload:n,type:t.legendType}})}),sY=qe([tI,n3,i3,Ni],(e,t,r,n)=>{if(!(t==null||e==null))return aZ({offset:n,pieSettings:t,displayedData:e,cells:r})}),rI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(rI);var oY=rI.isPlainObject;const lY=Oo(oY);function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){cY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t,r){return(t=uY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(null,arguments)}var UA=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},fY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hY=e=>{var t=Rl(e,fY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:g}=t,b=I.useRef(),[y,w]=I.useState(-1),A=I.useRef(i),N=I.useRef(a),S=I.useRef(o),E=I.useRef(r),k=I.useRef(n),P=Kw(e,"trapezoid-");if(I.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var V=b.current.getTotalLength();V&&w(V)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var W=Wn("recharts-trapezoid",c);if(!g)return I.createElement("g",null,I.createElement("path",fp({},da(t,!0),{className:W,d:UA(r,n,i,a,o)})));var H=A.current,$=N.current,F=S.current,L=E.current,J=k.current,M="0px ".concat(y===-1?1:y,"px"),z="".concat(y,"px 0px"),te=Ck(["strokeDasharray"],f,d);return I.createElement(Gw,{animationId:P,key:P,canBegin:y>0,duration:f,easing:d,isActive:g,begin:m},V=>{var Z=Ks(H,i,V),ye=Ks($,a,V),ve=Ks(F,o,V),me=Ks(L,r,V),Ne=Ks(J,n,V);b.current&&(A.current=Z,N.current=ye,S.current=ve,E.current=me,k.current=Ne);var Ie=V>0?{transition:te,strokeDasharray:z}:{strokeDasharray:M};return I.createElement("path",fp({},da(t,!0),{className:W,d:UA(me,Ne,Z,ye,ve),ref:b,style:FA(FA({},Ie),t.style)}))})},mY=["option","shapeType","propTransformer","activeClassName","isActive"];function pY(e,t){if(e==null)return{};var r,n,i=gY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){xY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xY(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bY(e,t){return hp(hp({},t),e)}function wY(e,t){return e==="symbols"}function zA(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return I.createElement(kk,r);case"trapezoid":return I.createElement(hY,r);case"sector":return I.createElement(Ik,r);case"symbols":if(wY(t))return I.createElement(jw,r);break;default:return null}}function NY(e){return I.isValidElement(e)?e.props:e}function AY(e){var{option:t,shapeType:r,propTransformer:n=bY,activeClassName:i="recharts-active-shape",isActive:a}=e,o=pY(e,mY),c;if(I.isValidElement(t))c=I.cloneElement(t,hp(hp({},o),NY(t)));else if(typeof t=="function")c=t(o);else if(lY(t)&&typeof t!="boolean"){var d=n(t,o);c=I.createElement(zA,{shapeType:r,elementProps:d})}else{var f=o;c=I.createElement(zA,{shapeType:r,elementProps:f})}return a?I.createElement(Cc,{className:i},c):c}var CY=(e,t)=>{var r=wi();return(n,i)=>a=>{e==null||e(n,i,a),r(m_({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},jY=e=>{var t=wi();return(r,n)=>i=>{e==null||e(r,n,i),t(dG())}},SY=(e,t)=>{var r=wi();return(n,i)=>a=>{e==null||e(n,i,a),r(fG({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function EY(e){var{fn:t,args:r}=e,n=wi(),i=of();return I.useEffect(()=>{if(!i){var a=t(r);return n(lG(a)),()=>{n(cG(a))}}},[t,r,n,i]),null}var kY=()=>{};function TY(e){var{legendPayload:t}=e,r=wi(),n=lr(Qr);return I.useEffect(()=>n!=="centric"&&n!=="radial"?kY:(r(KW(t)),()=>{r(XW(t))}),[r,n,t]),null}var g2,_Y=()=>{var[e]=I.useState(()=>Bh("uid-"));return e},IY=(g2=NS.useId)!==null&&g2!==void 0?g2:_Y;function PY(e,t){var r=IY();return t||(e?"".concat(e,"-").concat(r):r)}var OY=I.createContext(void 0),RY=e=>{var{id:t,type:r,children:n}=e,i=PY("recharts-".concat(r),t);return I.createElement(OY.Provider,{value:i},n(i))},DY={cartesianItems:[],polarItems:[]},nI=is({name:"graphicalItems",initialState:DY,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=yl(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=yl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=yl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:cle,replaceCartesianGraphicalItem:ule,removeCartesianGraphicalItem:dle,addPolarGraphicalItem:LY,removePolarGraphicalItem:MY}=nI.actions,BY=nI.reducer;function FY(e){var t=wi();return I.useEffect(()=>(t(LY(e)),()=>{t(MY(e))}),[t,e]),null}var UY=["onMouseEnter","onClick","onMouseLeave"],WY=["id"],zY=["id"];function a3(e,t){if(e==null)return{};var r,n,i=$Y(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return(t=HY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jc.apply(null,arguments)}function GY(e){var t=I.useMemo(()=>KE(e.children,qg),[e.children]),r=lr(n=>aY(n,e.id,t));return r==null?null:I.createElement(TY,{legendPayload:r})}function KY(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:c,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:n.map(m=>m.tooltipPayload),positions:n.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:mk(c,t),hide:d,type:f,color:o,unit:""}}}var XY=(e,t)=>e>t?"start":e<t?"end":"middle",YY=(e,t,r)=>Za(typeof t=="function"?t(e):t,r,r*.8),ZY=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,c=fk(a,o),d=i+Za(e.cx,a,a/2),f=n+Za(e.cy,o,o/2),m=Za(e.innerRadius,c,0),g=YY(r,e.outerRadius,c),b=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:d,cy:f,innerRadius:m,outerRadius:g,maxRadius:b}},JY=(e,t)=>{var r=Ca(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function QY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var eZ=(e,t)=>{if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Wn("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return I.createElement(Ak,jc({},t,{type:"linear",className:r}))},tZ=(e,t,r)=>{if(I.isValidElement(e))return I.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),I.isValidElement(n)))return n;var i=Wn("recharts-pie-label-text",QY(e));return I.createElement(e3,jc({},t,{alignmentBaseline:"middle",className:i}),n)};function rZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var c=fg(r),d=da(i,!1),f=da(a,!1),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((b,y)=>{var w=(b.startAngle+b.endAngle)/2,A=Jn(b.cx,b.cy,b.outerRadius+m,w),N=mn(mn(mn(mn({},c),b),{},{stroke:"none"},d),{},{index:y,textAnchor:XY(A.x,b.cx)},A),S=mn(mn(mn(mn({},c),b),{},{fill:"none",stroke:b.fill},f),{},{index:y,points:[Jn(b.cx,b.cy,b.outerRadius,w),A],key:"line"});return I.createElement(Cc,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},a&&eZ(a,S),tZ(i,N,Qn(b,o)))});return I.createElement(Cc,{className:"recharts-pie-labels"},g)}function nZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?I.createElement(HX,{label:i}):I.createElement(rZ,{sectors:t,props:r,showLabels:n})}function iZ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i}=e,a=lr(Gh),{onMouseEnter:o,onClick:c,onMouseLeave:d}=i,f=a3(i,UY),m=CY(o,i.dataKey),g=jY(d),b=SY(c,i.dataKey);return t==null||t.length===0?null:I.createElement(I.Fragment,null,t.map((y,w)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var A=r&&String(w)===a,N=a?n:null,S=A?r:N,E=mn(mn({},y),{},{stroke:y.stroke,tabIndex:-1,[gk]:w,[xk]:i.dataKey});return I.createElement(Cc,jc({tabIndex:-1,className:"recharts-pie-sector"},HE(f,y,w),{onMouseEnter:m(y,w),onMouseLeave:g(y,w),onClick:b(y,w),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(w)}),I.createElement(AY,jc({option:S,isActive:A,shapeType:"sector"},E)))}))}function aZ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:f,nameKey:m,tooltipType:g}=r,b=Math.abs(r.minAngle),y=JY(c,d),w=Math.abs(y),A=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,N=n.filter(H=>Qn(H,f,0)!==0).length,S=(w>=360?N:N-1)*A,E=w-N*b-S,k=n.reduce((H,$)=>{var F=Qn($,f,0);return H+(or(F)?F:0)},0),P;if(k>0){var W;P=n.map((H,$)=>{var F=Qn(H,f,0),L=Qn(H,m,$),J=ZY(r,a,H),M=(or(F)?F:0)/k,z,te=mn(mn({},H),i&&i[$]&&i[$].props);$?z=W.endAngle+Ca(y)*A*(F!==0?1:0):z=c;var V=z+Ca(y)*((F!==0?b:0)+M*E),Z=(z+V)/2,ye=(J.innerRadius+J.outerRadius)/2,ve=[{name:L,value:F,payload:te,dataKey:f,type:g}],me=Jn(J.cx,J.cy,ye,Z);return W=mn(mn(mn(mn({},r.presentationProps),{},{percent:M,cornerRadius:o,name:L,tooltipPayload:ve,midAngle:Z,middleRadius:ye,tooltipPosition:me},te),J),{},{value:F,startAngle:z,endAngle:V,payload:te,paddingAngle:Ca(y)*A}),W})}return P}function sZ(e){var{showLabels:t,sectors:r,children:n}=e,i=I.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return I.createElement(zX,{value:t?i:void 0},n)}function oZ(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:m,onAnimationEnd:g}=t,b=Kw(t,"recharts-pie-"),y=r.current,[w,A]=I.useState(!1),N=I.useCallback(()=>{typeof g=="function"&&g(),A(!1)},[g]),S=I.useCallback(()=>{typeof m=="function"&&m(),A(!0)},[m]);return I.createElement(sZ,{showLabels:!w,sectors:n},I.createElement(Gw,{animationId:b,begin:a,duration:o,isActive:i,easing:c,onAnimationStart:S,onAnimationEnd:N,key:b},E=>{var k=[],P=n&&n[0],W=P==null?void 0:P.startAngle;return n==null||n.forEach((H,$)=>{var F=y&&y[$],L=$>0?Mh(H,"paddingAngle",0):0;if(F){var J=Ks(F.endAngle-F.startAngle,H.endAngle-H.startAngle,E),M=mn(mn({},H),{},{startAngle:W+L,endAngle:W+J+L});k.push(M),W=M.endAngle}else{var{endAngle:z,startAngle:te}=H,V=Ks(0,z-te,E),Z=mn(mn({},H),{},{startAngle:W+L,endAngle:W+V+L});k.push(Z),W=Z.endAngle}}),r.current=k,I.createElement(Cc,null,I.createElement(iZ,{sectors:k,activeShape:d,inactiveShape:f,allOtherPieProps:t}))}),I.createElement(nZ,{showLabels:!w,sectors:n,props:t}),t.children)}var lZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!l0.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function cZ(e){var{id:t}=e,r=a3(e,WY),{hide:n,className:i,rootTabIndex:a}=e,o=I.useMemo(()=>KE(e.children,qg),[e.children]),c=lr(m=>sY(m,t,o)),d=I.useRef(null),f=Wn("recharts-pie",i);return n||c==null?(d.current=null,I.createElement(Cc,{tabIndex:a,className:f})):I.createElement(I.Fragment,null,I.createElement(EY,{fn:KY,args:mn(mn({},e),{},{sectors:c})}),I.createElement(Cc,{tabIndex:a,className:f},I.createElement(oZ,{props:mn(mn({},r),{},{sectors:c}),previousSectorsRef:d})))}function iI(e){var t=Rl(e,lZ),{id:r}=t,n=a3(t,zY),i=fg(n);return I.createElement(RY,{id:r,type:"pie"},a=>I.createElement(I.Fragment,null,I.createElement(FY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),I.createElement(GY,jc({},n,{id:a})),I.createElement(cZ,jc({},n,{id:a}))))}iI.displayName="Pie";function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){uZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uZ(e,t,r){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZ(e){var t=fZ(e,"string");return typeof t=="symbol"?t:t+""}function fZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hZ={xAxis:{},yAxis:{},zAxis:{}},aI=is({name:"cartesianAxis",initialState:hZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=HA(HA({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:fle,removeXAxis:hle,addYAxis:mle,removeYAxis:ple,addZAxis:gle,removeZAxis:xle,updateYAxisWidth:yle}=aI.actions,mZ=aI.reducer,pZ=qe([Ni],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),gZ=qe([pZ,Pl,Ol],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),xZ=()=>lr(gZ),yZ={},sI=is({name:"errorBars",initialState:yZ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:vle,replaceErrorBar:ble,removeErrorBar:wle}=sI.actions,vZ=sI.reducer,bZ=e=>{var{chartData:t}=e,r=wi(),n=of();return I.useEffect(()=>n?()=>{}:(r(gA(t)),()=>{r(gA(void 0))}),[t,r,n]),null},VA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oI=is({name:"brush",initialState:VA,reducers:{setBrushSettings(e,t){return t.payload==null?VA:t.payload}}}),{setBrushSettings:Nle}=oI.actions,wZ=oI.reducer,NZ={dots:[],areas:[],lines:[]},lI=is({name:"referenceElements",initialState:NZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=yl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=yl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=yl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Ale,removeDot:Cle,addArea:jle,removeArea:Sle,addLine:Ele,removeLine:kle}=lI.actions,AZ=lI.reducer,CZ=I.createContext(void 0),jZ=e=>{var{children:t}=e,[r]=I.useState("".concat(Bh("recharts"),"-clip")),n=xZ();if(n==null)return null;var{x:i,y:a,width:o,height:c}=n;return I.createElement(CZ.Provider,{value:r},I.createElement("defs",null,I.createElement("clipPath",{id:r},I.createElement("rect",{x:i,y:a,height:c,width:o}))),t)},SZ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=I;function EZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kZ=typeof Object.is=="function"?Object.is:EZ,TZ=b0.useSyncExternalStore,_Z=b0.useRef,IZ=b0.useEffect,PZ=b0.useMemo,OZ=b0.useDebugValue;SZ.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=_Z(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=PZ(function(){function d(y){if(!f){if(f=!0,m=y,y=n(y),i!==void 0&&o.hasValue){var w=o.value;if(i(w,y))return g=w}return g=y}if(w=g,kZ(m,y))return w;var A=n(y);return i!==void 0&&i(w,A)?(m=y,w):(m=y,g=A)}var f=!1,m,g,b=r===void 0?null:r;return[function(){return d(t())},b===null?void 0:function(){return d(b())}]},[t,r,n,i]);var c=TZ(e,a[0],a[1]);return IZ(function(){o.hasValue=!0,o.value=c},[c]),OZ(c),c};function RZ(e){e()}function DZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){RZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var GA={notify(){},get:()=>[]};function LZ(e,t){let r,n=GA,i=0,a=!1;function o(A){m();const N=n.subscribe(A);let S=!1;return()=>{S||(S=!0,N(),g())}}function c(){n.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return a}function m(){i++,r||(r=e.subscribe(d),n=DZ())}function g(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=GA)}function b(){a||(a=!0,m())}function y(){a&&(a=!1,g())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>n};return w}var MZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BZ=MZ(),FZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UZ=FZ(),WZ=()=>BZ||UZ?I.useLayoutEffect:I.useEffect,zZ=WZ(),x2=Symbol.for("react-redux-context"),y2=typeof globalThis<"u"?globalThis:{};function $Z(){if(!I.createContext)return{};const e=y2[x2]??(y2[x2]=new Map);let t=e.get(I.createContext);return t||(t=I.createContext(null),e.set(I.createContext,t)),t}var qZ=$Z();function HZ(e){const{children:t,context:r,serverState:n,store:i}=e,a=I.useMemo(()=>{const d=LZ(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),o=I.useMemo(()=>i.getState(),[i]);zZ(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const c=r||qZ;return I.createElement(c.Provider,{value:a},t)}var VZ=HZ,GZ=(e,t)=>t,s3=qe([GZ,Qr,LT,di,A_,Ll,aK,Ni],uK),o3=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},cI=Es("mouseClick"),uI=s0();uI.startListening({actionCreator:cI,effect:(e,t)=>{var r=e.payload,n=s3(t.getState(),o3(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(hG({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Uv=Es("mouseMove"),dI=s0();dI.startListening({actionCreator:Uv,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=H5(n,n.tooltip.settings.shared),a=s3(n,o3(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(g_({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(p_()))}});var KA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fI=is({name:"rootProps",initialState:KA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:KA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),KZ=fI.reducer,{updateOptions:XZ}=fI.actions,hI=is({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:YZ}=hI.actions,ZZ=hI.reducer,mI=Es("keyDown"),pI=Es("focus"),l3=s0();l3.startListening({actionCreator:mI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(V5(i,pf(r))),c=Ll(r);if(a==="Enter"){var d=cp(r,"axis","hover",String(i.index));t.dispatch(Lv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=iG(r),m=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,b=o+g*m;if(!(c==null||b>=c.length||b<0)){var y=cp(r,"axis","hover",String(b));t.dispatch(Lv({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});l3.startListening({actionCreator:pI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=cp(r,"axis","hover",String(a));t.dispatch(Lv({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ys=Es("externalEvent"),gI=s0();gI.startListening({actionCreator:ys,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:YG(r),activeDataKey:KG(r),activeIndex:Gh(r),activeLabel:S_(r),activeTooltipIndex:Gh(r),isTooltipActive:ZG(r)};e.payload.handler(n,e.payload.reactEvent)}}});var JZ=qe([mf],e=>e.tooltipItemPayloads),QZ=qe([JZ,y0,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(c=>c.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),xI=Es("touchMove"),yI=s0();yI.startListening({actionCreator:xI,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=H5(n,n.tooltip.settings.shared);if(i==="axis"){var a=s3(n,o3({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(g_({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(gk),m=(o=d.getAttribute(xk))!==null&&o!==void 0?o:void 0,g=QZ(t.getState(),f,m);t.dispatch(m_({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}});var eJ=$7({brush:wZ,cartesianAxis:mZ,chartData:SK,errorBars:vZ,graphicalItems:BY,layout:aW,legend:YW,options:wK,polarAxis:QX,polarOptions:ZZ,referenceElements:AZ,rootProps:KZ,tooltip:mG}),tJ=function(t){return _U({reducer:eJ,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([uI.middleware,dI.middleware,l3.middleware,gI.middleware,yI.middleware]),devTools:l0.devToolsEnabled})};function rJ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=of(),a=I.useRef(null);if(i)return r;a.current==null&&(a.current=tJ(t));var o=Mw;return I.createElement(VZ,{context:o,store:a.current},r)}function nJ(e){var{layout:t,width:r,height:n,margin:i}=e,a=wi(),o=of();return I.useEffect(()=>{o||(a(rW(t)),a(nW({width:r,height:n})),a(tW(i)))},[a,o,t,r,n,i]),null}function iJ(e){var t=wi();return I.useEffect(()=>{t(XZ(e))},[t,e]),null}var aJ=["children"];function sJ(e,t){if(e==null)return{};var r,n,i=oJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}var lJ={width:"100%",height:"100%"},cJ=I.forwardRef((e,t)=>{var r=yk(),n=vk(),i=Nk();if(!Gm(r)||!Gm(n))return null;var{children:a,otherAttributes:o,title:c,desc:d}=e,f,m;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0,I.createElement(ww,mp({},o,{title:c,desc:d,role:m,tabIndex:f,width:r,height:n,style:lJ,ref:t}),a)}),uJ=e=>{var{children:t}=e,r=lr(Eg);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return I.createElement(ww,{width:n,height:i,x:o,y:a},t)},XA=I.forwardRef((e,t)=>{var{children:r}=e,n=sJ(e,aJ),i=of();return i?I.createElement(uJ,null,r):I.createElement(cJ,mp({ref:t},n),r)});function dJ(){var e=wi(),[t,r]=I.useState(null),n=lr(PW);return I.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;no(a)&&a!==n&&e(iW(a))}},[t,e,n]),r}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){hJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hJ(e,t,r){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gJ=I.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:b,onTouchEnd:y,onTouchMove:w,onTouchStart:A,style:N,width:S}=e,E=wi(),[k,P]=I.useState(null),[W,H]=I.useState(null);DK();var $=dJ(),F=I.useCallback(q=>{$(q),typeof t=="function"&&t(q),P(q),H(q)},[$,t,P,H]),L=I.useCallback(q=>{E(cI(q)),E(ys({handler:a,reactEvent:q}))},[E,a]),J=I.useCallback(q=>{E(Uv(q)),E(ys({handler:f,reactEvent:q}))},[E,f]),M=I.useCallback(q=>{E(p_()),E(ys({handler:m,reactEvent:q}))},[E,m]),z=I.useCallback(q=>{E(Uv(q)),E(ys({handler:g,reactEvent:q}))},[E,g]),te=I.useCallback(()=>{E(pI())},[E]),V=I.useCallback(q=>{E(mI(q.key))},[E]),Z=I.useCallback(q=>{E(ys({handler:o,reactEvent:q}))},[E,o]),ye=I.useCallback(q=>{E(ys({handler:c,reactEvent:q}))},[E,c]),ve=I.useCallback(q=>{E(ys({handler:d,reactEvent:q}))},[E,d]),me=I.useCallback(q=>{E(ys({handler:b,reactEvent:q}))},[E,b]),Ne=I.useCallback(q=>{E(ys({handler:A,reactEvent:q}))},[E,A]),Ie=I.useCallback(q=>{E(xI(q)),E(ys({handler:w,reactEvent:q}))},[E,w]),je=I.useCallback(q=>{E(ys({handler:y,reactEvent:q}))},[E,y]);return I.createElement(P_.Provider,{value:k},I.createElement(XE.Provider,{value:W},I.createElement("div",{className:Wn("recharts-wrapper",n),style:fJ({position:"relative",cursor:"default",width:S,height:i},N),onClick:L,onContextMenu:Z,onDoubleClick:ye,onFocus:te,onKeyDown:V,onMouseDown:ve,onMouseEnter:J,onMouseLeave:M,onMouseMove:z,onMouseUp:me,onTouchEnd:je,onTouchMove:Ie,onTouchStart:Ne,ref:F},r)))}),xJ=["children","className","width","height","style","compact","title","desc"];function yJ(e,t){if(e==null)return{};var r,n,i=vJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bJ=I.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:c,title:d,desc:f}=e,m=yJ(e,xJ),g=fg(m);return c?I.createElement(XA,{otherAttributes:g,title:d,desc:f},r):I.createElement(gJ,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},I.createElement(XA,{otherAttributes:g,title:d,desc:f,ref:t},I.createElement(jZ,null,r)))});function wJ(e){var t=wi();return I.useEffect(()=>{t(YZ(e))},[t,e]),null}var NJ=["width","height","layout"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}function AJ(e,t){if(e==null)return{};var r,n,i=CJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jJ={top:5,right:5,bottom:5,left:5},SJ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jJ,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},EJ=I.forwardRef(function(t,r){var n,i=Rl(t.categoricalChartProps,SJ),{width:a,height:o,layout:c}=i,d=AJ(i,NJ);if(!Gm(a)||!Gm(o))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:b}=t,y={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:b,eventEmitter:void 0};return I.createElement(rJ,{preloadedState:{options:y},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},I.createElement(bZ,{chartData:i.data}),I.createElement(nJ,{width:a,height:o,layout:c,margin:i.margin}),I.createElement(iJ,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),I.createElement(wJ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),I.createElement(bJ,Wv({width:a,height:o},d,{ref:r})))}),kJ=["item"],TJ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},_J=I.forwardRef((e,t)=>{var r=Rl(e,TJ);return I.createElement(EJ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kJ,tooltipPayloadSearcher:vK,categoricalChartProps:r,ref:t})});const IJ="/api",vI=()=>localStorage.getItem("authToken"),ZA=e=>{localStorage.setItem("authToken",e)},PJ=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user")},OJ=()=>{const e=vI();return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}};async function kt(e,t={}){const r=`${IJ}${e}`,n={...t,headers:{...OJ(),...t.headers}};try{const i=await fetch(r,n);if(!i.ok){const a=await i.json().catch(()=>({}));throw new Error(a.error||`HTTP ${i.status}: ${i.statusText}`)}return await i.json()}catch(i){throw console.error("API Error:",i),i}}const RJ={login:async(e,t)=>{const r=await kt("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return ZA(r.token),localStorage.setItem("user",JSON.stringify(r.user)),r},register:async e=>{const t=await kt("/auth/register",{method:"POST",body:JSON.stringify(e)});return ZA(t.token),localStorage.setItem("user",JSON.stringify(t.user)),t},me:async()=>kt("/auth/me"),logout:()=>{PJ()}},DJ={getStats:async()=>kt("/dashboard/stats")},wc={getAll:async e=>{const t=new URLSearchParams;e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString());const r=t.toString();return kt(`/shipments${r?`?${r}`:""}`)},getById:async e=>kt(`/shipments/${e}`),create:async e=>kt("/shipments",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>kt(`/shipments/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>kt(`/shipments/${e}`,{method:"DELETE"})},_o={getAll:async e=>{const t=new URLSearchParams;e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search);const r=t.toString();return kt(`/racks${r?`?${r}`:""}`)},getById:async e=>kt(`/racks/${e}`),create:async e=>kt("/racks",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>kt(`/racks/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>kt(`/racks/${e}`,{method:"DELETE"})},pp={getAll:async e=>{const t=new URLSearchParams;e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.startDate&&t.append("startDate",e.startDate),e!=null&&e.endDate&&t.append("endDate",e.endDate);const r=t.toString();return kt(`/jobs${r?`?${r}`:""}`)},getById:async e=>kt(`/jobs/${e}`),create:async e=>kt("/jobs",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>kt(`/jobs/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>kt(`/jobs/${e}`,{method:"DELETE"})},Io={getSettings:async()=>kt("/billing/settings"),updateSettings:async e=>kt("/billing/settings",{method:"PUT",body:JSON.stringify(e)}),getChargeTypes:async e=>{const t=new URLSearchParams;return e!=null&&e.category&&t.append("category",e.category),(e==null?void 0:e.active)!==void 0&&t.append("active",String(e.active)),kt(`/billing/charge-types${t.toString()?"?"+t.toString():""}`)},getChargeType:async e=>kt(`/billing/charge-types/${e}`),createChargeType:async e=>kt("/billing/charge-types",{method:"POST",body:JSON.stringify(e)}),updateChargeType:async(e,t)=>kt(`/billing/charge-types/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteChargeType:async e=>kt(`/billing/charge-types/${e}`,{method:"DELETE"}),getInvoices:async e=>{const t=new URLSearchParams(e).toString();return kt(`/billing/invoices${t?"?"+t:""}`)},getInvoice:async e=>kt(`/billing/invoices/${e}`),createInvoice:async e=>kt("/billing/invoices",{method:"POST",body:JSON.stringify(e)}),recordPayment:async(e,t)=>kt(`/billing/invoices/${e}/payments`,{method:"POST",body:JSON.stringify(t)})},LJ={getAll:async e=>{const t=new URLSearchParams;e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.startDate&&t.append("startDate",e.startDate),e!=null&&e.endDate&&t.append("endDate",e.endDate),e!=null&&e.shipmentId&&t.append("shipmentId",e.shipmentId);const r=t.toString();return kt(`/withdrawals${r?`?${r}`:""}`)},getById:async e=>kt(`/withdrawals/${e}`),create:async e=>kt("/withdrawals",{method:"POST",body:JSON.stringify(e)}),updateStatus:async(e,t)=>kt(`/withdrawals/${e}/status`,{method:"PUT",body:JSON.stringify({status:t})}),delete:async e=>kt(`/withdrawals/${e}`,{method:"DELETE"})},md={getAll:async e=>{const t=new URLSearchParams(e).toString();return kt(`/expenses?${t}`,{method:"GET"})},getById:async e=>kt(`/expenses/${e}`,{method:"GET"}),create:async e=>kt("/expenses",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>kt(`/expenses/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>kt(`/expenses/${e}`,{method:"DELETE"}),updateStatus:async(e,t)=>kt(`/expenses/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),getStats:async e=>{const t=new URLSearchParams(e).toString();return kt(`/expenses/stats/summary?${t}`,{method:"GET"})}},JA={getInfo:()=>kt("/company",{method:"GET"}),updateInfo:e=>kt("/company",{method:"PUT",body:JSON.stringify(e)})},MJ={getAll:()=>kt("/users",{method:"GET"}),getById:e=>kt(`/users/${e}`,{method:"GET"}),create:e=>kt("/users",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>kt(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>kt(`/users/${e}`,{method:"DELETE"}),toggleStatus:e=>kt(`/users/${e}/toggle`,{method:"PATCH"})},QA={get:()=>kt("/invoice-settings",{method:"GET"}),update:e=>kt("/invoice-settings",{method:"PUT",body:JSON.stringify(e)})},eC={get:()=>kt("/notification-preferences",{method:"GET"}),update:e=>kt("/notification-preferences",{method:"PUT",body:JSON.stringify(e)}),sendTest:e=>kt("/notification-preferences/test",{method:"POST",body:JSON.stringify({type:e})})},N1={getAll:e=>{const t=e?`?section=${e}`:"";return kt(`/custom-fields${t}`,{method:"GET"})},getById:e=>kt(`/custom-fields/${e}`,{method:"GET"}),create:e=>kt("/custom-fields",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>kt(`/custom-fields/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>kt(`/custom-fields/${e}`,{method:"DELETE"})},BJ=()=>{var W,H,$,F,L,J,M,z,te,V,Z,ye,ve,me,Ne,Ie,je,q,oe,ne,ge,xe,_e,he,pe,Ce,Ee,Te,ze,Re,ce;const[e,t]=I.useState(null),[r,n]=I.useState([]),[i,a]=I.useState([]),[o,c]=I.useState([]),[d,f]=I.useState([]),[m,g]=I.useState([]),[b,y]=I.useState(!0),[w,A]=I.useState("");I.useEffect(()=>{N()},[]);const N=async()=>{try{y(!0);const Ze=await DJ.getStats();t(Ze.stats),n(Ze.topClients||[]),a(Ze.storageBySection||[]),c(Ze.recentShipments||[]),f(Ze.recentJobs||[]),g(Ze.recentActivities||[])}catch(Ze){A(Ze.message),console.error("Dashboard error:",Ze)}finally{y(!1)}};if(b)return s.jsx("div",{className:"p-6 flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});if(w)return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Error loading dashboard: ",w]})});const S=[{name:"Total Revenue",value:`${((H=(W=e==null?void 0:e.invoiceRevenue)==null?void 0:W.total)==null?void 0:H.toFixed(2))||"0.00"} KWD`,subtitle:`${(($=e==null?void 0:e.invoiceRevenue)==null?void 0:$.count)||0} invoices`,icon:Eo,color:"bg-blue-500"},{name:"Paid Amount",value:`${((L=(F=e==null?void 0:e.invoiceRevenue)==null?void 0:F.paid)==null?void 0:L.toFixed(2))||"0.00"} KWD`,subtitle:`${((J=e==null?void 0:e.invoiceRevenue)==null?void 0:J.paidCount)||0} paid invoices`,icon:Rh,color:"bg-green-500"},{name:"Outstanding",value:`${((z=(M=e==null?void 0:e.invoiceRevenue)==null?void 0:M.outstanding)==null?void 0:z.toFixed(2))||"0.00"} KWD`,subtitle:"Pending payments",icon:rM,color:"bg-yellow-500"},{name:"This Month",value:`${((V=(te=e==null?void 0:e.thisMonthRevenue)==null?void 0:te.amount)==null?void 0:V.toFixed(2))||"0.00"} KWD`,subtitle:"Current month revenue",icon:gw,color:"bg-purple-500"}],E=[{name:"Active Shipments",value:((Z=e==null?void 0:e.shipments)==null?void 0:Z.active)||0,total:((ye=e==null?void 0:e.shipments)==null?void 0:ye.total)||0,icon:Cl,color:"text-blue-600"},{name:"Rack Utilization",value:`${((ve=e==null?void 0:e.racks)==null?void 0:ve.utilization)||0}%`,total:`${((me=e==null?void 0:e.racks)==null?void 0:me.active)||0} active`,icon:Lh,color:"text-green-600"},{name:"Jobs In Progress",value:((Ne=e==null?void 0:e.jobs)==null?void 0:Ne.inProgress)||0,total:`${((Ie=e==null?void 0:e.jobs)==null?void 0:Ie.scheduled)||0} scheduled`,icon:vc,color:"text-yellow-600"},{name:"Withdrawals (Month)",value:((je=e==null?void 0:e.withdrawals)==null?void 0:je.thisMonth)||0,total:`${((q=e==null?void 0:e.withdrawals)==null?void 0:q.total)||0} total`,icon:Oh,color:"text-purple-600"}],k=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444","#06b6d4"],P=i.map((Ze,ot)=>({name:Ze.section||"Unknown",value:Ze.capacityUsed||0,total:Ze.capacityTotal||0,utilization:Ze.utilization||0,fill:k[ot%k.length]}));return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening today."})]}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map(Ze=>{const ot=Ze.icon;return s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:Ze.name}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:Ze.value}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:Ze.subtitle})]}),s.jsx("div",{className:`${Ze.color} p-3 rounded-lg`,children:s.jsx(ot,{className:"h-6 w-6 text-white"})})]})},Ze.name)})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:E.map(Ze=>{const ot=Ze.icon;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ot,{className:`h-8 w-8 ${Ze.color}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:Ze.name}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:Ze.value}),s.jsx("p",{className:"text-xs text-gray-500",children:Ze.total})]})]})},Ze.name)})}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Cl,{className:"h-6 w-6 mr-2 text-blue-600"}),"📊 Shipment Status Breakdown"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-gray-400",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Shipments"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:((oe=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:oe.total)||0})]}),s.jsx("div",{className:"text-4xl",children:"📦"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-1",children:((ne=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:ne.pending)||0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((ge=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:ge.total)>0?Math.round(((xe=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:xe.pending)/((_e=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:_e.total)*100):0,"% of total"]})]}),s.jsx("div",{className:"text-4xl",children:"🟡"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"In Storage"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:((he=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:he.inStorage)||0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((pe=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:pe.total)>0?Math.round(((Ce=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:Ce.inStorage)/((Ee=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:Ee.total)*100):0,"% of total"]})]}),s.jsx("div",{className:"text-4xl",children:"🟢"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Released"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:((Te=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:Te.released)||0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((ze=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:ze.total)>0?Math.round(((Re=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:Re.released)/((ce=e==null?void 0:e.shipmentStatusBreakdown)==null?void 0:ce.total)*100):0,"% of total"]})]}),s.jsx("div",{className:"text-4xl",children:"🔵"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Storage Utilization by Section"}),P.length>0?s.jsx(XK,{width:"100%",height:250,children:s.jsxs(_J,{children:[s.jsx(iI,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:Ze,utilization:ot})=>`${Ze} (${ot}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:P.map((Ze,ot)=>s.jsx(qg,{fill:Ze.fill},`cell-${ot}`))}),s.jsx($K,{formatter:(Ze,ot,st)=>[`${Ze} / ${st.payload.total} (${st.payload.utilization}%)`,"Capacity Used"]}),s.jsx(kg,{})]})}):s.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-gray-400",children:"No storage data available"})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Clients"}),s.jsx("div",{className:"space-y-3",children:r.length>0?r.map((Ze,ot)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-semibold",children:ot+1}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:Ze.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[Ze.totalInvoices," invoices"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"font-semibold text-gray-900",children:[Ze.totalAmount.toFixed(2)," KWD"]})})]},ot)):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No client data available"})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),s.jsxs("button",{onClick:N,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center space-x-1",children:[s.jsx(Oh,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh"})]})]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:m.length>0?m.map((Ze,ot)=>{var st,Ve;return s.jsxs("div",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsx("span",{className:"font-medium",children:((st=Ze.user)==null?void 0:st.name)||"System"})," ",s.jsxs("span",{className:"text-gray-600",children:[Ze.activityType==="ITEM_ADDED"&&"added item to",Ze.activityType==="ITEM_REMOVED"&&"removed item from",Ze.activityType==="STATUS_CHANGE"&&"changed status of",Ze.activityType==="CAPACITY_UPDATE"&&"updated capacity of"," "]}),s.jsx("span",{className:"font-medium",children:(Ve=Ze.rack)==null?void 0:Ve.code})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Ze.description}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(Ze.timestamp).toLocaleString()})]})]},ot)}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent activities"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Shipments"}),s.jsx("div",{className:"space-y-3",children:o.length>0?o.map(Ze=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:Ze.referenceId}),s.jsxs("div",{className:"text-sm text-gray-500",children:[Ze.clientName," • ",Ze.currentBoxCount," boxes"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ze.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Ze.status})})]},Ze.id)):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent shipments"})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Jobs"}),s.jsx("div",{className:"space-y-3",children:d.length>0?d.map(Ze=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:Ze.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:[Ze.clientName," • ",Ze.jobType]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500",children:new Date(Ze.scheduledDate).toLocaleDateString()}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ze.status==="IN_PROGRESS"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Ze.status.replace("_"," ")})]})]},Ze.id)):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming jobs"})})]})]})]})};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function Sc(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ea(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Do(e){ea(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||gp(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function FJ(e,t){ea(2,arguments);var r=Do(e).getTime(),n=Sc(t);return new Date(r+n)}var UJ={};function Hg(){return UJ}function WJ(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var bI=6e4,wI=36e5;function zJ(e){return ea(1,arguments),e instanceof Date||gp(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $J(e){if(ea(1,arguments),!zJ(e)&&typeof e!="number")return!1;var t=Do(e);return!isNaN(Number(t))}function qJ(e,t){ea(2,arguments);var r=Sc(t);return FJ(e,-r)}var HJ=864e5;function VJ(e){ea(1,arguments);var t=Do(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/HJ)+1}function xp(e){ea(1,arguments);var t=1,r=Do(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function NI(e){ea(1,arguments);var t=Do(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=xp(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=xp(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function GJ(e){ea(1,arguments);var t=NI(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=xp(r);return n}var KJ=6048e5;function XJ(e){ea(1,arguments);var t=Do(e),r=xp(t).getTime()-GJ(t).getTime();return Math.round(r/KJ)+1}function yp(e,t){var r,n,i,a,o,c,d,f;ea(1,arguments);var m=Hg(),g=Sc((r=(n=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:m.weekStartsOn)!==null&&n!==void 0?n:(d=m.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&r!==void 0?r:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=Do(e),y=b.getUTCDay(),w=(y<g?7:0)+y-g;return b.setUTCDate(b.getUTCDate()-w),b.setUTCHours(0,0,0,0),b}function AI(e,t){var r,n,i,a,o,c,d,f;ea(1,arguments);var m=Do(e),g=m.getUTCFullYear(),b=Hg(),y=Sc((r=(n=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:b.firstWeekContainsDate)!==null&&n!==void 0?n:(d=b.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(g+1,0,y),w.setUTCHours(0,0,0,0);var A=yp(w,t),N=new Date(0);N.setUTCFullYear(g,0,y),N.setUTCHours(0,0,0,0);var S=yp(N,t);return m.getTime()>=A.getTime()?g+1:m.getTime()>=S.getTime()?g:g-1}function YJ(e,t){var r,n,i,a,o,c,d,f;ea(1,arguments);var m=Hg(),g=Sc((r=(n=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&n!==void 0?n:(d=m.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&r!==void 0?r:1),b=AI(e,t),y=new Date(0);y.setUTCFullYear(b,0,g),y.setUTCHours(0,0,0,0);var w=yp(y,t);return w}var ZJ=6048e5;function JJ(e,t){ea(1,arguments);var r=Do(e),n=yp(r,t).getTime()-YJ(r,t).getTime();return Math.round(n/ZJ)+1}function Rr(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Yl={y:function(t,r){var n=t.getUTCFullYear(),i=n>0?n:1-n;return Rr(r==="yy"?i%100:i,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Rr(n+1,2)},d:function(t,r){return Rr(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Rr(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Rr(t.getUTCHours(),r.length)},m:function(t,r){return Rr(t.getUTCMinutes(),r.length)},s:function(t,r){return Rr(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Rr(a,r.length)}},Xu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QJ={G:function(t,r,n){var i=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Yl.y(t,r)},Y:function(t,r,n,i){var a=AI(t,i),o=a>0?a:1-a;if(r==="YY"){var c=o%100;return Rr(c,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Rr(o,r.length)},R:function(t,r){var n=NI(t);return Rr(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Rr(n,r.length)},Q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Rr(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Rr(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,r,n){var i=t.getUTCMonth();switch(r){case"M":case"MM":return Yl.M(t,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,r,n){var i=t.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Rr(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,r,n,i){var a=JJ(t,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Rr(a,r.length)},I:function(t,r,n){var i=XJ(t);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Rr(i,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Yl.d(t,r)},D:function(t,r,n){var i=VJ(t);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Rr(i,r.length)},E:function(t,r,n){var i=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,r,n,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Rr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Rr(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var i=t.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Rr(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,r,n){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var i=t.getUTCHours(),a;switch(i===12?a=Xu.noon:i===0?a=Xu.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var i=t.getUTCHours(),a;switch(i>=17?a=Xu.evening:i>=12?a=Xu.afternoon:i>=4?a=Xu.morning:a=Xu.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Yl.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Yl.H(t,r)},K:function(t,r,n){var i=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Rr(i,r.length)},k:function(t,r,n){var i=t.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Rr(i,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Yl.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Yl.s(t,r)},S:function(t,r){return Yl.S(t,r)},X:function(t,r,n,i){var a=i._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return rC(o);case"XXXX":case"XX":return eu(o);case"XXXXX":case"XXX":default:return eu(o,":")}},x:function(t,r,n,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(r){case"x":return rC(o);case"xxxx":case"xx":return eu(o);case"xxxxx":case"xxx":default:return eu(o,":")}},O:function(t,r,n,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+tC(o,":");case"OOOO":default:return"GMT"+eu(o,":")}},z:function(t,r,n,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+tC(o,":");case"zzzz":default:return"GMT"+eu(o,":")}},t:function(t,r,n,i){var a=i._originalDate||t,o=Math.floor(a.getTime()/1e3);return Rr(o,r.length)},T:function(t,r,n,i){var a=i._originalDate||t,o=a.getTime();return Rr(o,r.length)}};function tC(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=t;return r+String(i)+o+Rr(a,2)}function rC(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Rr(Math.abs(e)/60,2)}return eu(e,t)}function eu(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),a=Rr(Math.floor(i/60),2),o=Rr(i%60,2);return n+a+r+o}var nC=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},CI=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},eQ=function(t,r){var n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return nC(t,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",nC(i,r)).replace("{{time}}",CI(a,r))},tQ={p:CI,P:eQ},rQ=["D","DD"],nQ=["YY","YYYY"];function iQ(e){return rQ.indexOf(e)!==-1}function aQ(e){return nQ.indexOf(e)!==-1}function iC(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var sQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oQ=function(t,r,n){var i,a=sQ[t];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function v2(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var lQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dQ={date:v2({formats:lQ,defaultWidth:"full"}),time:v2({formats:cQ,defaultWidth:"full"}),dateTime:v2({formats:uQ,defaultWidth:"full"})},fQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hQ=function(t,r,n,i){return fQ[t]};function zf(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var c=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[c]}var f=e.argumentCallback?e.argumentCallback(t):t;return i[f]}}var mQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bQ=function(t,r){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wQ={ordinalNumber:bQ,era:zf({values:mQ,defaultWidth:"wide"}),quarter:zf({values:pQ,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:zf({values:gQ,defaultWidth:"wide"}),day:zf({values:xQ,defaultWidth:"wide"}),dayPeriod:zf({values:yQ,defaultWidth:"wide",formattingValues:vQ,defaultFormattingWidth:"wide"})};function $f(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?AQ(c,function(g){return g.test(o)}):NQ(c,function(g){return g.test(o)}),f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;var m=t.slice(o.length);return{value:f,rest:m}}}function NQ(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function AQ(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function CQ(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var c=t.slice(i.length);return{value:o,rest:c}}}var jQ=/^(\d+)(th|st|nd|rd)?/i,SQ=/\d+/i,EQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kQ={any:[/^b/i,/^(a|c)/i]},TQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_Q={any:[/1/i,/2/i,/3/i,/4/i]},IQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MQ={ordinalNumber:CQ({matchPattern:jQ,parsePattern:SQ,valueCallback:function(t){return parseInt(t,10)}}),era:$f({matchPatterns:EQ,defaultMatchWidth:"wide",parsePatterns:kQ,defaultParseWidth:"any"}),quarter:$f({matchPatterns:TQ,defaultMatchWidth:"wide",parsePatterns:_Q,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:$f({matchPatterns:IQ,defaultMatchWidth:"wide",parsePatterns:PQ,defaultParseWidth:"any"}),day:$f({matchPatterns:OQ,defaultMatchWidth:"wide",parsePatterns:RQ,defaultParseWidth:"any"}),dayPeriod:$f({matchPatterns:DQ,defaultMatchWidth:"any",parsePatterns:LQ,defaultParseWidth:"any"})},BQ={code:"en-US",formatDistance:oQ,formatLong:dQ,formatRelative:hQ,localize:wQ,match:MQ,options:{weekStartsOn:0,firstWeekContainsDate:1}},FQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WQ=/^'([^]*?)'?$/,zQ=/''/g,$Q=/[a-zA-Z]/;function xo(e,t,r){var n,i,a,o,c,d,f,m,g,b,y,w,A,N;ea(2,arguments);var S=String(t),E=Hg(),k=(n=(i=void 0)!==null&&i!==void 0?i:E.locale)!==null&&n!==void 0?n:BQ,P=Sc((a=(o=(c=(d=void 0)!==null&&d!==void 0?d:void 0)!==null&&c!==void 0?c:E.firstWeekContainsDate)!==null&&o!==void 0?o:(f=E.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var W=Sc((g=(b=(y=(w=void 0)!==null&&w!==void 0?w:void 0)!==null&&y!==void 0?y:E.weekStartsOn)!==null&&b!==void 0?b:(A=E.locale)===null||A===void 0||(N=A.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&g!==void 0?g:0);if(!(W>=0&&W<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var H=Do(e);if(!$J(H))throw new RangeError("Invalid time value");var $=WJ(H),F=qJ(H,$),L={firstWeekContainsDate:P,weekStartsOn:W,locale:k,_originalDate:H},J=S.match(UQ).map(function(M){var z=M[0];if(z==="p"||z==="P"){var te=tQ[z];return te(M,k.formatLong)}return M}).join("").match(FQ).map(function(M){if(M==="''")return"'";var z=M[0];if(z==="'")return qQ(M);var te=QJ[z];if(te)return aQ(M)&&iC(M,t,String(e)),iQ(M)&&iC(M,t,String(e)),te(F,M,k.localize,L);if(z.match($Q))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return M}).join("");return J}function qQ(e){var t=e.match(WQ);return t?t[1].replace(zQ,"'"):e}function A1(e,t){var r;ea(1,arguments);var n=Sc((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=KQ(e),a;if(i.date){var o=XQ(i.date,n);a=YQ(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var c=a.getTime(),d=0,f;if(i.time&&(d=ZQ(i.time),isNaN(d)))return new Date(NaN);if(i.timezone){if(f=JQ(i.timezone),isNaN(f))return new Date(NaN)}else{var m=new Date(c+d),g=new Date(0);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}return new Date(c+d+f)}var C1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},HQ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VQ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,GQ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function KQ(e){var t={},r=e.split(C1.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],C1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(C1.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var i=C1.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function XQ(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function YQ(e,t){if(t===null)return new Date(NaN);var r=e.match(HQ);if(!r)return new Date(NaN);var n=!!r[4],i=qf(r[1]),a=qf(r[2])-1,o=qf(r[3]),c=qf(r[4]),d=qf(r[5])-1;if(n)return nee(t,c,d)?QQ(t,c,d):new Date(NaN);var f=new Date(0);return!tee(t,a,o)||!ree(t,i)?new Date(NaN):(f.setUTCFullYear(t,a,Math.max(i,o)),f)}function qf(e){return e?parseInt(e):1}function ZQ(e){var t=e.match(VQ);if(!t)return NaN;var r=b2(t[1]),n=b2(t[2]),i=b2(t[3]);return iee(r,n,i)?r*wI+n*bI+i*1e3:NaN}function b2(e){return e&&parseFloat(e.replace(",","."))||0}function JQ(e){if(e==="Z")return 0;var t=e.match(GQ);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return aee(n,i)?r*(n*wI+i*bI):NaN}function QQ(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var eee=[31,null,31,30,31,30,31,31,30,31,30,31];function jI(e){return e%400===0||e%4===0&&e%100!==0}function tee(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(eee[t]||(jI(e)?29:28))}function ree(e,t){return t>=1&&t<=(jI(e)?366:365)}function nee(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function iee(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function aee(e,t){return t>=0&&t<=59}var see=Object.defineProperty,vp=Object.getOwnPropertySymbols,SI=Object.prototype.hasOwnProperty,EI=Object.prototype.propertyIsEnumerable,aC=(e,t,r)=>t in e?see(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zv=(e,t)=>{for(var r in t||(t={}))SI.call(t,r)&&aC(e,r,t[r]);if(vp)for(var r of vp(t))EI.call(t,r)&&aC(e,r,t[r]);return e},$v=(e,t)=>{var r={};for(var n in e)SI.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&vp)for(var n of vp(e))t.indexOf(n)<0&&EI.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var _u;(e=>{const t=class dr{constructor(d,f,m,g){if(this.version=d,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],d<dr.MIN_VERSION||d>dr.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let b=[];for(let w=0;w<this.size;w++)b.push(!1);for(let w=0;w<this.size;w++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(m);if(this.drawCodewords(y),g==-1){let w=1e9;for(let A=0;A<8;A++){this.applyMask(A),this.drawFormatBits(A);const N=this.getPenaltyScore();N<w&&(g=A,w=N),this.applyMask(A)}}i(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(d,f){const m=e.QrSegment.makeSegments(d);return dr.encodeSegments(m,f)}static encodeBinary(d,f){const m=e.QrSegment.makeBytes(d);return dr.encodeSegments([m],f)}static encodeSegments(d,f,m=1,g=40,b=-1,y=!0){if(!(dr.MIN_VERSION<=m&&m<=g&&g<=dr.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let w,A;for(w=m;;w++){const k=dr.getNumDataCodewords(w,f)*8,P=o.getTotalBits(d,w);if(P<=k){A=P;break}if(w>=g)throw new RangeError("Data too long")}for(const k of[dr.Ecc.MEDIUM,dr.Ecc.QUARTILE,dr.Ecc.HIGH])y&&A<=dr.getNumDataCodewords(w,k)*8&&(f=k);let N=[];for(const k of d){r(k.mode.modeBits,4,N),r(k.numChars,k.mode.numCharCountBits(w),N);for(const P of k.getData())N.push(P)}i(N.length==A);const S=dr.getNumDataCodewords(w,f)*8;i(N.length<=S),r(0,Math.min(4,S-N.length),N),r(0,(8-N.length%8)%8,N),i(N.length%8==0);for(let k=236;N.length<S;k^=253)r(k,8,N);let E=[];for(;E.length*8<N.length;)E.push(0);return N.forEach((k,P)=>E[P>>>3]|=k<<7-(P&7)),new dr(w,f,E,b)}getModule(d,f){return 0<=d&&d<this.size&&0<=f&&f<this.size&&this.modules[f][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),f=d.length;for(let m=0;m<f;m++)for(let g=0;g<f;g++)m==0&&g==0||m==0&&g==f-1||m==f-1&&g==0||this.drawAlignmentPattern(d[m],d[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const f=this.errorCorrectionLevel.formatBits<<3|d;let m=f;for(let b=0;b<10;b++)m=m<<1^(m>>>9)*1335;const g=(f<<10|m)^21522;i(g>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,n(g,b));this.setFunctionModule(8,7,n(g,6)),this.setFunctionModule(8,8,n(g,7)),this.setFunctionModule(7,8,n(g,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,n(g,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,n(g,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,n(g,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let m=0;m<12;m++)d=d<<1^(d>>>11)*7973;const f=this.version<<12|d;i(f>>>18==0);for(let m=0;m<18;m++){const g=n(f,m),b=this.size-11+m%3,y=Math.floor(m/3);this.setFunctionModule(b,y,g),this.setFunctionModule(y,b,g)}}drawFinderPattern(d,f){for(let m=-4;m<=4;m++)for(let g=-4;g<=4;g++){const b=Math.max(Math.abs(g),Math.abs(m)),y=d+g,w=f+m;0<=y&&y<this.size&&0<=w&&w<this.size&&this.setFunctionModule(y,w,b!=2&&b!=4)}}drawAlignmentPattern(d,f){for(let m=-2;m<=2;m++)for(let g=-2;g<=2;g++)this.setFunctionModule(d+g,f+m,Math.max(Math.abs(g),Math.abs(m))!=1)}setFunctionModule(d,f,m){this.modules[f][d]=m,this.isFunction[f][d]=!0}addEccAndInterleave(d){const f=this.version,m=this.errorCorrectionLevel;if(d.length!=dr.getNumDataCodewords(f,m))throw new RangeError("Invalid argument");const g=dr.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][f],b=dr.ECC_CODEWORDS_PER_BLOCK[m.ordinal][f],y=Math.floor(dr.getNumRawDataModules(f)/8),w=g-y%g,A=Math.floor(y/g);let N=[];const S=dr.reedSolomonComputeDivisor(b);for(let k=0,P=0;k<g;k++){let W=d.slice(P,P+A-b+(k<w?0:1));P+=W.length;const H=dr.reedSolomonComputeRemainder(W,S);k<w&&W.push(0),N.push(W.concat(H))}let E=[];for(let k=0;k<N[0].length;k++)N.forEach((P,W)=>{(k!=A-b||W>=w)&&E.push(P[k])});return i(E.length==y),E}drawCodewords(d){if(d.length!=Math.floor(dr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let g=0;g<this.size;g++)for(let b=0;b<2;b++){const y=m-b,A=(m+1&2)==0?this.size-1-g:g;!this.isFunction[A][y]&&f<d.length*8&&(this.modules[A][y]=n(d[f>>>3],7-(f&7)),f++)}}i(f==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let m=0;m<this.size;m++){let g;switch(d){case 0:g=(m+f)%2==0;break;case 1:g=f%2==0;break;case 2:g=m%3==0;break;case 3:g=(m+f)%3==0;break;case 4:g=(Math.floor(m/3)+Math.floor(f/2))%2==0;break;case 5:g=m*f%2+m*f%3==0;break;case 6:g=(m*f%2+m*f%3)%2==0;break;case 7:g=((m+f)%2+m*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][m]&&g&&(this.modules[f][m]=!this.modules[f][m])}}getPenaltyScore(){let d=0;for(let b=0;b<this.size;b++){let y=!1,w=0,A=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[b][N]==y?(w++,w==5?d+=dr.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,A),y||(d+=this.finderPenaltyCountPatterns(A)*dr.PENALTY_N3),y=this.modules[b][N],w=1);d+=this.finderPenaltyTerminateAndCount(y,w,A)*dr.PENALTY_N3}for(let b=0;b<this.size;b++){let y=!1,w=0,A=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][b]==y?(w++,w==5?d+=dr.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,A),y||(d+=this.finderPenaltyCountPatterns(A)*dr.PENALTY_N3),y=this.modules[N][b],w=1);d+=this.finderPenaltyTerminateAndCount(y,w,A)*dr.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let y=0;y<this.size-1;y++){const w=this.modules[b][y];w==this.modules[b][y+1]&&w==this.modules[b+1][y]&&w==this.modules[b+1][y+1]&&(d+=dr.PENALTY_N2)}let f=0;for(const b of this.modules)f=b.reduce((y,w)=>y+(w?1:0),f);const m=this.size*this.size,g=Math.ceil(Math.abs(f*20-m*10)/m)-1;return i(0<=g&&g<=9),d+=g*dr.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let m=[6];for(let g=this.size-7;m.length<d;g-=f)m.splice(1,0,g);return m}}static getNumRawDataModules(d){if(d<dr.MIN_VERSION||d>dr.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*d+128)*d+64;if(d>=2){const m=Math.floor(d/7)+2;f-=(25*m-10)*m-55,d>=7&&(f-=36)}return i(208<=f&&f<=29648),f}static getNumDataCodewords(d,f){return Math.floor(dr.getNumRawDataModules(d)/8)-dr.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d]*dr.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let f=[];for(let g=0;g<d-1;g++)f.push(0);f.push(1);let m=1;for(let g=0;g<d;g++){for(let b=0;b<f.length;b++)f[b]=dr.reedSolomonMultiply(f[b],m),b+1<f.length&&(f[b]^=f[b+1]);m=dr.reedSolomonMultiply(m,2)}return f}static reedSolomonComputeRemainder(d,f){let m=f.map(g=>0);for(const g of d){const b=g^m.shift();m.push(0),f.forEach((y,w)=>m[w]^=dr.reedSolomonMultiply(y,b))}return m}static reedSolomonMultiply(d,f){if(d>>>8||f>>>8)throw new RangeError("Byte out of range");let m=0;for(let g=7;g>=0;g--)m=m<<1^(m>>>7)*285,m^=(f>>>g&1)*d;return i(m>>>8==0),m}finderPenaltyCountPatterns(d){const f=d[1];i(f<=this.size*3);const m=f>0&&d[2]==f&&d[3]==f*3&&d[4]==f&&d[5]==f;return(m&&d[0]>=f*4&&d[6]>=f?1:0)+(m&&d[6]>=f*4&&d[0]>=f?1:0)}finderPenaltyTerminateAndCount(d,f,m){return d&&(this.finderPenaltyAddHistory(f,m),f=0),f+=this.size,this.finderPenaltyAddHistory(f,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(d,f){f[0]==0&&(d+=this.size),f.pop(),f.unshift(d)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(c,d,f){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let m=d-1;m>=0;m--)f.push(c>>>m&1)}function n(c,d){return(c>>>d&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const a=class kn{constructor(d,f,m){if(this.mode=d,this.numChars=f,this.bitData=m,f<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(d){let f=[];for(const m of d)r(m,8,f);return new kn(kn.Mode.BYTE,d.length,f)}static makeNumeric(d){if(!kn.isNumeric(d))throw new RangeError("String contains non-numeric characters");let f=[];for(let m=0;m<d.length;){const g=Math.min(d.length-m,3);r(parseInt(d.substring(m,m+g),10),g*3+1,f),m+=g}return new kn(kn.Mode.NUMERIC,d.length,f)}static makeAlphanumeric(d){if(!kn.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],m;for(m=0;m+2<=d.length;m+=2){let g=kn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m))*45;g+=kn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m+1)),r(g,11,f)}return m<d.length&&r(kn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m)),6,f),new kn(kn.Mode.ALPHANUMERIC,d.length,f)}static makeSegments(d){return d==""?[]:kn.isNumeric(d)?[kn.makeNumeric(d)]:kn.isAlphanumeric(d)?[kn.makeAlphanumeric(d)]:[kn.makeBytes(kn.toUtf8ByteArray(d))]}static makeEci(d){let f=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,f);else if(d<16384)r(2,2,f),r(d,14,f);else if(d<1e6)r(6,3,f),r(d,21,f);else throw new RangeError("ECI assignment value out of range");return new kn(kn.Mode.ECI,0,f)}static isNumeric(d){return kn.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return kn.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,f){let m=0;for(const g of d){const b=g.mode.numCharCountBits(f);if(g.numChars>=1<<b)return 1/0;m+=4+b+g.bitData.length}return m}static toUtf8ByteArray(d){d=encodeURI(d);let f=[];for(let m=0;m<d.length;m++)d.charAt(m)!="%"?f.push(d.charCodeAt(m)):(f.push(parseInt(d.substring(m+1,m+3),16)),m+=2);return f}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(_u||(_u={}));(e=>{(t=>{const r=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(_u||(_u={}));(e=>{(t=>{const r=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(_u||(_u={}));var pd=_u;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var oee={L:pd.QrCode.Ecc.LOW,M:pd.QrCode.Ecc.MEDIUM,Q:pd.QrCode.Ecc.QUARTILE,H:pd.QrCode.Ecc.HIGH},kI=128,TI="L",_I="#FFFFFF",II="#000000",PI=!1,OI=1,lee=4,cee=0,uee=.1;function RI(e,t=0){const r=[];return e.forEach(function(n,i){let a=null;n.forEach(function(o,c){if(!o&&a!==null){r.push(`M${a+t} ${i+t}h${c-a}v1H${a+t}z`),a=null;return}if(c===n.length-1){if(!o)return;a===null?r.push(`M${c+t},${i+t} h1v1H${c+t}z`):r.push(`M${a+t},${i+t} h${c+1-a}v1H${a+t}z`);return}o&&a===null&&(a=c)})}),r.join("")}function DI(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function dee(e,t,r,n){if(n==null)return null;const i=e.length+r*2,a=Math.floor(t*uee),o=i/t,c=(n.width||a)*o,d=(n.height||a)*o,f=n.x==null?e.length/2-c/2:n.x*o,m=n.y==null?e.length/2-d/2:n.y*o,g=n.opacity==null?1:n.opacity;let b=null;if(n.excavate){let w=Math.floor(f),A=Math.floor(m),N=Math.ceil(c+f-w),S=Math.ceil(d+m-A);b={x:w,y:A,w:N,h:S}}const y=n.crossOrigin;return{x:f,y:m,h:d,w:c,excavation:b,opacity:g,crossOrigin:y}}function fee(e,t){return t!=null?Math.max(Math.floor(t),0):e?lee:cee}function LI({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:a,size:o,boostLevel:c}){let d=Dn.useMemo(()=>{const w=(Array.isArray(e)?e:[e]).reduce((A,N)=>(A.push(...pd.QrSegment.makeSegments(N)),A),[]);return pd.QrCode.encodeSegments(w,oee[t],r,void 0,void 0,c)},[e,t,r,c]);const{cells:f,margin:m,numCells:g,calculatedImageSettings:b}=Dn.useMemo(()=>{let y=d.getModules();const w=fee(n,i),A=y.length+w*2,N=dee(y,o,w,a);return{cells:y,margin:w,numCells:A,calculatedImageSettings:N}},[d,o,a,n,i]);return{qrcode:d,margin:m,cells:f,numCells:g,calculatedImageSettings:b}}var hee=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),mee=Dn.forwardRef(function(t,r){const n=t,{value:i,size:a=kI,level:o=TI,bgColor:c=_I,fgColor:d=II,includeMargin:f=PI,minVersion:m=OI,boostLevel:g,marginSize:b,imageSettings:y}=n,A=$v(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=A,S=$v(A,["style"]),E=y==null?void 0:y.src,k=Dn.useRef(null),P=Dn.useRef(null),W=Dn.useCallback(V=>{k.current=V,typeof r=="function"?r(V):r&&(r.current=V)},[r]),[H,$]=Dn.useState(!1),{margin:F,cells:L,numCells:J,calculatedImageSettings:M}=LI({value:i,level:o,minVersion:m,boostLevel:g,includeMargin:f,marginSize:b,imageSettings:y,size:a});Dn.useEffect(()=>{if(k.current!=null){const V=k.current,Z=V.getContext("2d");if(!Z)return;let ye=L;const ve=P.current,me=M!=null&&ve!==null&&ve.complete&&ve.naturalHeight!==0&&ve.naturalWidth!==0;me&&M.excavation!=null&&(ye=DI(L,M.excavation));const Ne=window.devicePixelRatio||1;V.height=V.width=a*Ne;const Ie=a/J*Ne;Z.scale(Ie,Ie),Z.fillStyle=c,Z.fillRect(0,0,J,J),Z.fillStyle=d,hee?Z.fill(new Path2D(RI(ye,F))):L.forEach(function(je,q){je.forEach(function(oe,ne){oe&&Z.fillRect(ne+F,q+F,1,1)})}),M&&(Z.globalAlpha=M.opacity),me&&Z.drawImage(ve,M.x+F,M.y+F,M.w,M.h)}}),Dn.useEffect(()=>{$(!1)},[E]);const z=zv({height:a,width:a},N);let te=null;return E!=null&&(te=Dn.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:()=>{$(!0)},ref:P,crossOrigin:M==null?void 0:M.crossOrigin})),Dn.createElement(Dn.Fragment,null,Dn.createElement("canvas",zv({style:z,height:a,width:a,ref:W,role:"img"},S)),te)});mee.displayName="QRCodeCanvas";var c3=Dn.forwardRef(function(t,r){const n=t,{value:i,size:a=kI,level:o=TI,bgColor:c=_I,fgColor:d=II,includeMargin:f=PI,minVersion:m=OI,boostLevel:g,title:b,marginSize:y,imageSettings:w}=n,A=$v(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:S,numCells:E,calculatedImageSettings:k}=LI({value:i,level:o,minVersion:m,boostLevel:g,includeMargin:f,marginSize:y,imageSettings:w,size:a});let P=S,W=null;w!=null&&k!=null&&(k.excavation!=null&&(P=DI(S,k.excavation)),W=Dn.createElement("image",{href:w.src,height:k.h,width:k.w,x:k.x+N,y:k.y+N,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));const H=RI(P,N);return Dn.createElement("svg",zv({height:a,width:a,viewBox:`0 0 ${E} ${E}`,ref:r,role:"img"},A),!!b&&Dn.createElement("title",null,b),Dn.createElement("path",{fill:c,d:`M0,0 h${E}v${E}H0z`,shapeRendering:"crispEdges"}),Dn.createElement("path",{fill:d,d:H,shapeRendering:"crispEdges"}),W)});c3.displayName="QRCodeSVG";const pee=({isOpen:e,onClose:t,releaseData:r,companyInfo:n})=>{var L,J;const{shipment:i,invoice:a,releaseDate:o,releasedBy:c,collectorID:d,collectorName:f,releaseType:m,boxesReleased:g,boxNumbers:b}=r,[y,w]=I.useState(null);I.useEffect(()=>{e&&(async()=>{try{const te=await(await fetch("/api/template-settings",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();te.success&&w(te.settings)}catch(z){console.error("Failed to load template settings:",z)}})()},[e]);const A=()=>{window.print()};if(!e)return null;const N=y||{},S=N.releasePrimaryColor||"#1e40af",E=N.releaseNoteHeaderBg||S,k=N.currencySymbol||"KD",P=N.dateFormat||"MMM dd, yyyy",W=N.timeFormat||"hh:mm a",H=o instanceof Date?o:A1(o),$=i.arrivalDate instanceof Date?i.arrivalDate:A1(i.arrivalDate),F=Math.ceil((H.getTime()-$.getTime())/(1e3*60*60*24));return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"no-print sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Release Note Generated"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[s.jsx(ju,{className:"h-5 w-5"}),"Print Release Note"]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Pc,{className:"h-6 w-6"})})]})]}),s.jsxs("div",{className:"release-note-content p-8 relative",children:[N.showQRCode&&i&&s.jsx("div",{className:`absolute ${(()=>{const M=N.qrCodePosition||"TOP_RIGHT",z={TOP_RIGHT:"top-4 right-4",TOP_LEFT:"top-4 left-4",BOTTOM_RIGHT:"bottom-4 right-4",BOTTOM_LEFT:"bottom-4 left-4"};return z[M]||z.TOP_RIGHT})()} z-10 bg-white p-2 rounded-lg shadow-md print:block`,children:s.jsx(c3,{value:`SHIPMENT-${i.shipmentNumber||i.id}`,size:N.qrCodeSize||100,level:"M",includeMargin:!0})}),s.jsxs("div",{className:"text-center mb-6 pb-4 border-b-2",style:{borderColor:E},children:[N.releaseNoteShowLogo!==!1&&(N.companyLogo||(n==null?void 0:n.logo))&&s.jsx("img",{src:N.companyLogo||(n==null?void 0:n.logo),alt:"Logo",className:"h-16 mx-auto mb-2"}),s.jsx("h1",{className:"text-2xl font-bold",style:{color:S},children:N.companyName||(n==null?void 0:n.name)||"QGO Cargo"}),s.jsx("h2",{className:"text-xl text-gray-600 mt-2",children:N.releaseNoteTitle||"SHIPMENT RELEASE NOTE"}),N.companyAddress&&s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:N.companyAddress}),(N.companyPhone||N.companyEmail)&&s.jsxs("p",{className:"text-sm text-gray-600",children:[N.companyPhone&&s.jsx("span",{children:N.companyPhone}),N.companyPhone&&N.companyEmail&&s.jsx("span",{children:" | "}),N.companyEmail&&s.jsx("span",{children:N.companyEmail})]})]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded mb-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Release Note #:"}),s.jsxs("span",{className:"ml-2",children:["RN-",xo(H,"yyyyMMdd-HHmmss")]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Date & Time:"}),s.jsxs("span",{className:"ml-2",children:[xo(H,P)," - ",xo(H,W)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Released By:"}),s.jsx("span",{className:"ml-2",children:c})]})]})}),N.releaseShowShipment!==!1&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 pb-2 border-b",style:{color:S},children:"SHIPMENT DETAILS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Shipment ID:"})," ",i.qrCode]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Reference:"})," ",i.referenceId||"N/A"]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Client Name:"})," ",i.clientName]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Client Phone:"})," ",i.clientPhone]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Client Email:"})," ",i.clientEmail||"N/A"]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Storage Type:"})," ",i.type]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Rack Locations:"})," ",i.rackLocations||((L=i.rack)==null?void 0:L.code)||"N/A"]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Status:"})," ",s.jsx("span",{className:"text-green-600 font-semibold",children:"RELEASED"})]})]})]})]}),N.releaseShowStorage!==!1&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 pb-2 border-b",style:{color:S},children:"STORAGE INFORMATION"}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Received Date"}),s.jsx("p",{className:"text-gray-800",children:i.receivedDate?xo(A1(i.receivedDate),"MMM dd, yyyy"):"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Arrival Date"}),s.jsx("p",{className:"text-gray-800",children:i.arrivalDate?xo(A1(i.arrivalDate),"MMM dd, yyyy"):xo($,"MMM dd, yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Release Date"}),s.jsx("p",{className:"text-gray-800",children:xo(H,"MMM dd, yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Storage Duration"}),s.jsxs("p",{className:"text-gray-800 text-lg font-bold",style:{color:S},children:[F," days"]})]})]})]}),N.releaseShowItems!==!1&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 pb-2 border-b",style:{color:S},children:"ITEMS RELEASED"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Total Boxes"}),s.jsxs("p",{className:"text-gray-800 text-lg",children:[i.originalBoxCount," boxes"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Release Type"}),s.jsx("p",{className:"text-gray-800 text-lg",children:m==="FULL"?"FULL RELEASE":"PARTIAL RELEASE"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Boxes Released"}),s.jsxs("p",{className:"text-gray-800 text-lg font-bold text-green-600",children:[g," boxes"]})]})]}),b&&b.length>0&&s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-600 mb-1",children:"Box Numbers Released:"}),s.jsx("p",{className:"text-gray-700 bg-gray-50 p-2 rounded font-mono",children:b.join(", ")})]})]}),N.releaseShowItems!==!1&&i.boxes&&i.boxes.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 pb-2 border-b",style:{color:S},children:"📦 BOX DISTRIBUTION BY RACK"}),s.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Storage location details for each box before release"}),(()=>{const M={};return i.boxes.forEach(z=>{if(z.rackId&&z.rack){const te=z.rack.code;M[te]||(M[te]=[]),M[te].push(z)}else M.Unassigned||(M.Unassigned=[]),M.Unassigned.push(z)}),s.jsx("div",{className:"space-y-3",children:Object.entries(M).map(([z,te])=>{var ye;const V=z==="Unassigned",Z=(ye=te[0])==null?void 0:ye.rack;return s.jsxs("div",{className:`border-2 rounded-lg p-3 ${V?"border-yellow-300 bg-yellow-50":"border-green-300 bg-green-50"}`,children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-base font-bold text-gray-800",children:V?"⏳ Unassigned":`🗄️ Rack ${z}`}),s.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${V?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:[te.length," box",te.length!==1?"es":""]})]}),!V&&(Z==null?void 0:Z.location)&&s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["📍 ",Z.location]})]})}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:te.map(ve=>s.jsxs("div",{className:`px-2 py-1 rounded text-xs font-bold font-mono ${ve.status==="IN_STORAGE"||ve.status==="RELEASED"?"bg-white border-2 border-gray-400 text-gray-800":"bg-yellow-200 text-yellow-900"}`,title:`Box #${ve.boxNumber} - ${ve.status}`,children:["#",ve.boxNumber]},ve.id))})]},z)})})})(),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-white border border-gray-300 rounded p-2 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Total Racks Used"}),s.jsx("p",{className:"text-lg font-bold text-gray-800",children:Object.keys(i.boxes.reduce((M,z)=>(z.rackId&&(M[z.rackId]=!0),M),{})).length})]}),s.jsxs("div",{className:"bg-white border border-gray-300 rounded p-2 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Assigned Boxes"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:i.boxes.filter(M=>M.rackId).length})]}),s.jsxs("div",{className:"bg-white border border-gray-300 rounded p-2 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Unassigned Boxes"}),s.jsx("p",{className:"text-lg font-bold text-yellow-600",children:i.boxes.filter(M=>!M.rackId).length})]})]})]}),N.releaseShowCollector!==!1&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 pb-2 border-b",style:{color:S},children:"COLLECTOR INFORMATION"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600 mb-1",children:"Collector Name:"}),s.jsx("p",{className:"border-b-2 border-gray-400 pb-1 min-h-[28px]",children:f||"_________________________"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600 mb-1",children:"ID Number:"}),s.jsx("p",{className:"text-gray-800 font-mono font-semibold",children:d})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Collector Signature:"}),s.jsx("div",{className:"border-b-2 border-gray-800 h-20"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Date:"}),s.jsx("p",{className:"border-b border-gray-400 pb-1",children:xo(H,"MMM dd, yyyy")})]})]})]}),N.releaseShowCharges!==!1&&a&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 pb-2 border-b",style:{color:S},children:"CHARGES & PAYMENT"}),s.jsx("table",{className:"w-full text-sm",children:s.jsxs("tbody",{children:[(J=a.lineItems)==null?void 0:J.map((M,z)=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-1.5 text-gray-700",children:M.description}),s.jsxs("td",{className:"text-right font-mono",children:[M.amount.toFixed(3)," ",k]})]},z)),s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-1.5 font-semibold",children:"Subtotal"}),s.jsxs("td",{className:"text-right font-semibold font-mono",children:[a.subtotal.toFixed(3)," ",k]})]}),s.jsxs("tr",{children:[s.jsxs("td",{className:"py-1.5",children:["Tax (",(a.taxAmount/a.subtotal*100).toFixed(1),"%)"]}),s.jsxs("td",{className:"text-right font-mono",children:[a.taxAmount.toFixed(3)," ",k]})]}),s.jsxs("tr",{className:"border-t-2 border-gray-800",children:[s.jsx("td",{className:"py-2 text-lg font-bold",children:"TOTAL AMOUNT"}),s.jsxs("td",{className:"text-right text-lg font-bold font-mono",children:[a.totalAmount.toFixed(3)," ",k]})]})]})}),s.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded text-sm",children:[s.jsxs("p",{className:"mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Invoice Number:"})," ",s.jsx("span",{className:"font-mono",children:a.invoiceNumber})]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Payment Status:"}),s.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold ${a.paymentStatus==="PAID"?"bg-green-100 text-green-800":a.paymentStatus==="PENDING"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:a.paymentStatus})]})]})]}),N.releaseShowTerms!==!1&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 pb-2 border-b",style:{color:S},children:"TERMS & CONDITIONS"}),N.releaseTerms?s.jsx("div",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:N.releaseTerms}):s.jsxs("ul",{className:"text-xs space-y-1 text-gray-700 ml-4",children:[s.jsx("li",{children:"• All items have been inspected and released in good condition"}),s.jsx("li",{children:"• The company shall not be held liable for any items after the release date and time"}),s.jsx("li",{children:"• Payment must be completed within the specified due date on the invoice"}),s.jsx("li",{children:"• This document serves as official proof of shipment release and receipt"}),s.jsx("li",{children:"• Any disputes must be raised within 24 hours of release"})]})]}),N.releaseShowSignatures!==!1&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3 pb-2 border-b",style:{color:S},children:"AUTHORIZATION SIGNATURES"}),s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-semibold mb-6 text-gray-700",children:"Released By (Company Staff)"}),s.jsx("div",{className:"border-b-2 border-gray-800 mb-2 h-16"}),s.jsx("p",{className:"text-sm font-semibold",children:c}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Date: ",xo(H,"MMM dd, yyyy")]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-semibold mb-6 text-gray-700",children:"Received By (Collector)"}),s.jsx("div",{className:"border-b-2 border-gray-800 mb-2 h-16"}),s.jsx("p",{className:"text-sm",children:f||"_________________________"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Date: _________________"})]})]})]}),s.jsxs("div",{className:"text-center mt-8 pt-6 border-t-2",style:{borderColor:E},children:[s.jsx("p",{className:"text-lg font-semibold mb-2",style:{color:S},children:N.releaseFooterText||"Thank you for your business!"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsx("p",{children:N.companyAddress||(n==null?void 0:n.address)||"Kuwait"}),s.jsxs("p",{children:[N.companyPhone&&s.jsxs(s.Fragment,{children:["Phone: ",N.companyPhone]}),N.companyPhone&&N.companyEmail&&s.jsx(s.Fragment,{children:" | "}),N.companyEmail&&s.jsxs(s.Fragment,{children:["Email: ",N.companyEmail]})]}),N.companyWebsite&&s.jsxs("p",{children:["Website: ",N.companyWebsite]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Generated on ",xo(new Date,`${P} ${W}`)]})]})]}),s.jsxs("div",{className:"no-print sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex gap-3 justify-center",children:[s.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:[s.jsx(ju,{className:"h-5 w-5"}),"Print Release Note"]}),s.jsx("button",{onClick:t,className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 font-semibold",children:"Close"})]})]}),s.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .release-note-content,
          .release-note-content * {
            visibility: visible;
          }
          .release-note-content {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            padding: 20px;
          }
          .no-print {
            display: none !important;
          }
          @page {
            margin: 1cm;
            size: A4;
          }
        }
      `})]})},gee=({isOpen:e,onClose:t,shipment:r,withdrawalData:n,onSuccess:i})=>{var F;const[a,o]=I.useState("invoice"),[c,d]=I.useState(null),[f,m]=I.useState(!1),[g,b]=I.useState(""),[y,w]=I.useState(!1),[A,N]=I.useState({paymentMethod:"CASH",amount:0,transactionRef:"",receiptNumber:"",notes:""}),[S,E]=I.useState("full");I.useEffect(()=>{e&&r&&!c&&k()},[e,r]);const k=async()=>{try{w(!0),b("");const L=new Date(r.arrivalDate||r.receivedDate),M=Math.max(1,Math.ceil((new Date().getTime()-L.getTime())/(1e3*60*60*24))),z=await Io.getSettings(),te=parseFloat(z.storageRatePerBox)||.5,V=r.originalBoxCount||r.currentBoxCount||n.withdrawnBoxCount,Z=M*V,ye=Z*te,ve=parseFloat(z.taxRate)||5,me=ye*ve/100,Ne=[{description:`Storage Charges - ${M} days × ${V} boxes @ ${te.toFixed(3)} KWD/day/box`,category:"STORAGE",quantity:Z,unitPrice:te,amount:ye,taxRate:ve,taxAmount:me}],Ie=await Io.createInvoice({shipmentId:r.id,clientName:r.clientName,clientPhone:r.clientPhone,clientAddress:r.clientAddress||"",lineItems:Ne,notes:`Auto-generated for release - ${n.withdrawnBoxCount} boxes withdrawn`,isWarehouseInvoice:!1});d(Ie),N(je=>({...je,amount:Ie.totalAmount,receiptNumber:`PMT-${Date.now()}`}))}catch(L){console.error("Invoice creation error:",L),b(L.message||"Failed to create invoice")}finally{w(!1)}},P=()=>{if(!c)return;const L=window.open(`/invoices/${c.id}/print`,"_blank");L&&L.focus()},W=async()=>{try{if(m(!0),b(""),S==="debt"){const L=await $();alert("✅ Withdrawal approved on DEBT. Customer must pay invoice later."),H(L)}else{if(S==="full"&&A.amount!==c.totalAmount){b("Full payment amount must match invoice total");return}if(S==="partial"&&A.amount>=c.totalAmount){b("Partial payment must be less than total amount");return}if(A.amount<=0){b("Payment amount must be greater than 0");return}if(A.paymentMethod==="KNET"&&!A.transactionRef.trim()){b("Transaction reference is required for KNET payments");return}await Io.recordPayment(c.id,{amount:A.amount,paymentMethod:A.paymentMethod,transactionRef:A.transactionRef,receiptNumber:A.receiptNumber,notes:A.notes});const L=await $();alert(S==="full"?"✅ Payment recorded successfully! Invoice PAID. Release completed.":`✅ Partial payment of ${A.amount.toFixed(3)} KWD recorded. Balance: ${(c.totalAmount-A.amount).toFixed(3)} KWD. Release completed.`),H(L)}i(),t()}catch(L){b(L.message||"Failed to process payment and release")}finally{m(!1)}},H=L=>{var z,te;const J={withdrawal:L.withdrawal||L,shipment:r,invoice:c,payment:S!=="debt"?{amount:A.amount,method:A.paymentMethod,transactionRef:A.transactionRef,receiptNumber:A.receiptNumber}:null,releaseDate:new Date,releaseType:((z=L.withdrawal)==null?void 0:z.remainingBoxCount)===0?"FULL":"PARTIAL",boxesReleased:n.withdrawnBoxCount,boxesRemaining:((te=L.withdrawal)==null?void 0:te.remainingBoxCount)||0};sessionStorage.setItem("releaseReceipt",JSON.stringify(J));const M=window.open("/release-receipt.html","_blank","width=800,height=600");M&&M.focus()},$=async()=>await LJ.create({shipmentId:r.id,...n});return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-red-50 to-orange-50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"💰 Payment Required Before Release"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Invoice must be paid or marked as debt | يجب دفع الفاتورة"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Pc,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex items-center justify-center p-4 bg-gray-50 border-b",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`flex items-center gap-2 ${a==="invoice"?"text-primary-600":"text-green-600"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a==="invoice"?"bg-primary-600 text-white":"bg-green-600 text-white"}`,children:a==="payment"?s.jsx(bi,{className:"h-5 w-5"}):"1"}),s.jsx("span",{className:"font-semibold",children:"Invoice Created"})]}),s.jsx("div",{className:"w-16 h-0.5 bg-gray-300"}),s.jsxs("div",{className:`flex items-center gap-2 ${a==="payment"?"text-primary-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a==="payment"?"bg-primary-600 text-white":"bg-gray-300 text-white"}`,children:"2"}),s.jsx("span",{className:"font-semibold",children:"Payment & Release"})]})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[g&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:g}),y?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Creating invoice..."})]}):c&&a==="invoice"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Invoice #",c.invoiceNumber]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Generated: ",new Date().toLocaleDateString()]})]}),s.jsx(eo,{className:"h-12 w-12 text-blue-600"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Client"}),s.jsx("p",{className:"font-bold text-gray-900",children:r.clientName}),s.jsx("p",{className:"text-sm text-gray-600",children:r.clientPhone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Shipment"}),s.jsx("p",{className:"font-bold text-gray-900",children:r.referenceId}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Releasing: ",n.withdrawnBoxCount," boxes"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[(F=c.lineItems)==null?void 0:F.map((L,J)=>s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:L.description}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",L.quantity," × ",L.unitPrice.toFixed(3)," KWD"]})]}),s.jsxs("p",{className:"font-bold text-gray-900",children:[L.amount.toFixed(3)," KWD"]})]},J)),s.jsxs("div",{className:"border-t pt-3 mt-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsxs("span",{className:"text-gray-900",children:[c.subtotal.toFixed(3)," KWD"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Tax (5%)"}),s.jsxs("span",{className:"text-gray-900",children:[c.taxAmount.toFixed(3)," KWD"]})]}),s.jsxs("div",{className:"flex justify-between text-xl font-bold border-t pt-2",children:[s.jsx("span",{className:"text-gray-900",children:"TOTAL"}),s.jsxs("span",{className:"text-primary-600",children:[c.totalAmount.toFixed(3)," KWD"]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{type:"button",onClick:P,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold",children:[s.jsx(ju,{className:"h-5 w-5"}),"Print Invoice"]}),s.jsxs("button",{type:"button",onClick:()=>o("payment"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-primary-600 to-purple-600 text-white rounded-lg hover:from-primary-700 hover:to-purple-700 transition-colors font-semibold",children:["Proceed to Payment",s.jsx(Eo,{className:"h-5 w-5"})]})]})]})}):a==="payment"&&c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Option"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{E("full"),N(L=>({...L,amount:c.totalAmount}))},className:`p-4 border-2 rounded-xl text-center transition-all ${S==="full"?"border-green-600 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("p",{className:"font-bold text-lg mb-1",children:"✅ Full Payment"}),s.jsxs("p",{className:"text-sm",children:[c.totalAmount.toFixed(3)," KWD"]})]}),s.jsxs("button",{type:"button",onClick:()=>{E("partial"),N(L=>({...L,amount:0}))},className:`p-4 border-2 rounded-xl text-center transition-all ${S==="partial"?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("p",{className:"font-bold text-lg mb-1",children:"💵 Partial Payment"}),s.jsx("p",{className:"text-sm",children:"Pay some now"})]}),s.jsxs("button",{type:"button",onClick:()=>E("debt"),className:`p-4 border-2 rounded-xl text-center transition-all ${S==="debt"?"border-orange-600 bg-orange-50 text-orange-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("p",{className:"font-bold text-lg mb-1",children:"📝 On Debt"}),s.jsx("p",{className:"text-sm",children:"Pay later"})]})]})]}),S!=="debt"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount (KWD)"}),s.jsx("input",{type:"number",step:"0.001",value:A.amount,onChange:L=>N(J=>({...J,amount:parseFloat(L.target.value)||0})),disabled:S==="full",className:"w-full px-4 py-3 text-xl font-bold border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Enter amount"}),S==="partial"&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Remaining: ",(c.totalAmount-A.amount).toFixed(3)," KWD"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),s.jsx("div",{className:"grid grid-cols-4 gap-3",children:["CASH","KNET","BANK_TRANSFER","CHEQUE"].map(L=>s.jsx("button",{type:"button",onClick:()=>N(J=>({...J,paymentMethod:L})),className:`px-4 py-3 border-2 rounded-lg font-semibold transition-all ${A.paymentMethod===L?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:L.replace("_"," ")},L))})]}),A.paymentMethod==="KNET"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Transaction Reference * ",s.jsx("span",{className:"text-red-500",children:"(Required)"})]}),s.jsx("input",{type:"text",value:A.transactionRef,onChange:L=>N(J=>({...J,transactionRef:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter KNET transaction reference"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Number"}),s.jsx("input",{type:"text",value:A.receiptNumber,onChange:L=>N(J=>({...J,receiptNumber:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Receipt number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Notes (Optional)"}),s.jsx("textarea",{value:A.notes,onChange:L=>N(J=>({...J,notes:L.target.value})),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Any additional notes..."})]})]}),S==="debt"&&s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-orange-800 font-semibold",children:"⚠️ Releasing on DEBT"}),s.jsxs("p",{className:"text-sm text-orange-700 mt-2",children:["Customer can collect items without payment. Invoice #",c.invoiceNumber," will remain UNPAID and customer must pay later."]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>o("invoice"),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold",children:"← Back to Invoice"}),s.jsx("button",{type:"button",onClick:W,disabled:f,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):s.jsx(s.Fragment,{children:S==="debt"?"✅ Approve Debt & Release":"💰 Record Payment & Release"})})]})]}):null]})]})}):null},xee=({isOpen:e,onClose:t,shipment:r,onSuccess:n})=>{var y;const[i,a]=I.useState({withdrawnBoxCount:(r==null?void 0:r.currentBoxCount)||0,withdrawnBy:"",reason:"",notes:"",receiptNumber:`WD-${Date.now()}`}),[o,c]=I.useState(""),[d,f]=I.useState(!1);I.useEffect(()=>{e&&r&&(a({withdrawnBoxCount:r.currentBoxCount||0,withdrawnBy:"",reason:"",notes:"",receiptNumber:`WD-${Date.now()}`}),c(""))},[e,r]);const m=r?r.currentBoxCount-i.withdrawnBoxCount:0,g=i.withdrawnBoxCount===(r==null?void 0:r.currentBoxCount),b=async w=>{if(w.preventDefault(),!i.withdrawnBy.trim()){c("Please enter the name of person collecting items");return}if(i.withdrawnBoxCount<=0){c("Please enter a valid number of boxes");return}if(i.withdrawnBoxCount>(r==null?void 0:r.currentBoxCount)){c(`Cannot withdraw ${i.withdrawnBoxCount} boxes. Only ${r.currentBoxCount} available.`);return}const N=`🚨 CONFIRM ${g?"FULL RELEASE":"PARTIAL RELEASE"}

📦 Boxes: ${i.withdrawnBoxCount} out of ${r.currentBoxCount}
👤 Collected By: ${i.withdrawnBy}
📄 Reason: ${i.reason||"N/A"}

⚠️ This will trigger payment/invoice process.

Are you sure you want to proceed?`;confirm(N)&&f(!0)};return e?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"📦 Withdraw Items"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Release items from storage | سحب العناصر من المخزن"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Pc,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"p-6 bg-blue-50 border-b",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Shipment ID"}),s.jsx("p",{className:"font-bold text-gray-900",children:r==null?void 0:r.referenceId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Client"}),s.jsx("p",{className:"font-bold text-gray-900",children:r==null?void 0:r.clientName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Available Boxes"}),s.jsx("p",{className:"font-bold text-green-600 text-xl",children:r==null?void 0:r.currentBoxCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Rack Location"}),s.jsx("p",{className:"font-bold text-gray-900",children:((y=r==null?void 0:r.rack)==null?void 0:y.code)||"N/A"})]})]})}),s.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[o&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Release Type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{a(w=>({...w,withdrawnBoxCount:r.currentBoxCount}))},className:`p-4 border-2 rounded-xl text-center transition-all ${g?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("p",{className:"font-bold text-lg mb-1",children:"Full Release"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["All ",r==null?void 0:r.currentBoxCount," boxes"]})]}),s.jsxs("button",{type:"button",onClick:()=>{g&&a(w=>({...w,withdrawnBoxCount:Math.floor(r.currentBoxCount/2)}))},className:`p-4 border-2 rounded-xl text-center transition-all ${g?"border-gray-200 hover:border-gray-300":"border-purple-600 bg-purple-50 text-purple-700"}`,children:[s.jsx("p",{className:"font-bold text-lg mb-1",children:"Partial Release"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Some boxes only"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Number of Boxes to Withdraw ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",value:i.withdrawnBoxCount||"",onChange:w=>{const A=w.target.value===""?0:parseInt(w.target.value);a({...i,withdrawnBoxCount:A})},onFocus:w=>w.target.select(),min:"1",max:(r==null?void 0:r.currentBoxCount)||0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg font-semibold",placeholder:"Enter number of boxes",required:!0}),s.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"boxes"})]}),s.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Remaining after withdrawal:"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[m," boxes"]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Collected By (Person Name) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(oB,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:i.withdrawnBy,onChange:w=>a({...i,withdrawnBy:w.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter full name",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:i.receiptNumber,onChange:w=>a({...i,receiptNumber:w.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"WD-001"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Withdrawal"}),s.jsxs("select",{value:i.reason,onChange:w=>a({...i,reason:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select reason..."}),s.jsx("option",{value:"Customer Collection",children:"Customer Collection"}),s.jsx("option",{value:"Delivery",children:"Delivery"}),s.jsx("option",{value:"Transfer",children:"Transfer to Another Location"}),s.jsx("option",{value:"Return to Owner",children:"Return to Owner"}),s.jsx("option",{value:"Disposal",children:"Disposal"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),s.jsx("textarea",{value:i.notes,onChange:w=>a({...i,notes:w.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Any additional details..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos (Optional)"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-400 transition-colors cursor-pointer",children:[s.jsx(DE,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Click to upload photos"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Photo upload feature coming soon"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 border border-purple-200",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-4 text-lg",children:"Withdrawal Summary"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total boxes in storage:"}),s.jsx("span",{className:"font-semibold",children:r==null?void 0:r.currentBoxCount})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Boxes to withdraw:"}),s.jsx("span",{className:"font-bold text-red-600 text-lg",children:i.withdrawnBoxCount})]}),s.jsxs("div",{className:"flex justify-between pt-3 border-t border-purple-200",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Remaining boxes:"}),s.jsx("span",{className:"font-bold text-green-600 text-xl",children:m})]}),g&&s.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"⚠️ This will fully release the shipment and mark it as RELEASED"})})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 font-bold transition-all shadow-lg",children:"💰 Continue to Payment"})]})]})]}),s.jsx(gee,{isOpen:d,onClose:()=>f(!1),shipment:r,withdrawalData:i,onSuccess:()=>{f(!1),n(),t()}})]}):null};function yee({isOpen:e,onClose:t,onSuccess:r}){const[n,i]=I.useState(!1),[a,o]=I.useState(""),[c,d]=I.useState(""),[f,m]=I.useState({barcode:"",clientName:"",clientPhone:"",clientEmail:"",clientAddress:"",arrivalDate:new Date().toISOString().split("T")[0],pieces:0,weight:0,dimensions:"",description:"",value:0,isWarehouseShipment:!1,shipper:"",consignee:"",shipperAddress:"",consigneeAddress:"",shipperPhone:"",consigneePhone:"",rackId:"",storageType:"STANDARD",specialInstructions:"",estimatedDays:30,notes:""}),[g,b]=I.useState([]),[y,w]=I.useState({}),[A,N]=I.useState([]),[S,E]=I.useState({storageRate:.5,minimumCharge:5,currency:"KWD",taxRate:0}),[k,P]=I.useState({requireClientEmail:!1,requireClientPhone:!0,requireEstimatedValue:!1,requireRackAssignment:!1,autoGenerateQR:!0,qrCodePrefix:"SHP",defaultStorageType:"PERSONAL",formSectionOrder:null}),[W,H]=I.useState(["basic","client","warehouse","storage","custom","pricing"]),[$,F]=I.useState(null);I.useEffect(()=>{e&&(L(),J(),Z())},[e]);const L=async()=>{try{await Promise.all([M(),z(),te(),V()])}catch(he){o("Failed to load data: "+he.message)}},J=()=>{const he=Date.now(),pe=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),Ce=`WHM${he.toString().slice(-6)}${pe}`;m(Ee=>({...Ee,barcode:Ce}))},M=async()=>{try{const he=await fetch("/api/custom-fields?section=SHIPMENT",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(he.ok){const pe=await he.json(),Ce=pe.customFields||pe,Ee=Array.isArray(Ce)?Ce.filter(ze=>ze.isActive):[];b(Ee);const Te={};Ee.forEach(ze=>{Te[ze.id]=""}),w(Te)}}catch(he){console.error("Failed to load custom fields:",he)}},z=async()=>{try{const pe=(await _o.getAll()).racks.filter(Ce=>Ce.status==="ACTIVE"&&Ce.capacityUsed<Ce.capacityTotal);N(pe)}catch(he){console.error("Failed to load racks:",he)}},te=async()=>{try{const he=await fetch("/api/billing/settings",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(he.ok){const pe=await he.json();E({storageRate:pe.storageRatePerBox||pe.storageRate||.5,minimumCharge:pe.minimumCharge||5,currency:pe.currency||"KWD",taxRate:pe.taxRate||0})}else console.error("Failed to load pricing settings:",he.status)}catch(he){console.error("Failed to load pricing:",he)}},V=async()=>{try{const he=await fetch("/api/shipment-settings",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(he.ok){const pe=await he.json(),Ce=pe.settings||pe;if(P(Ce),Ce.formSectionOrder)try{const Ee=JSON.parse(Ce.formSectionOrder);H(Ee),console.log("✅ Section order loaded:",Ee)}catch{console.log("Using default section order")}console.log("✅ Shipment settings loaded:",Ce)}}catch(he){console.error("Failed to load shipment settings:",he)}},Z=()=>{m({barcode:"",clientName:"",clientPhone:"",clientEmail:"",clientAddress:"",arrivalDate:new Date().toISOString().split("T")[0],pieces:0,weight:0,dimensions:"",description:"",value:0,isWarehouseShipment:!1,shipper:"",consignee:"",shipperAddress:"",consigneeAddress:"",shipperPhone:"",consigneePhone:"",rackId:"",storageType:"STANDARD",specialInstructions:"",estimatedDays:30,notes:""}),w({}),o(""),d(""),J()},ye=he=>{const{name:pe,value:Ce,type:Ee}=he.target;m(Te=>({...Te,[pe]:Ee==="number"?parseFloat(Ce)||0:Ee==="checkbox"?he.target.checked:Ce}))},ve=he=>{const pe=y[he.id]||"";switch(he.fieldType){case"TEXT":return s.jsx("input",{type:"text",id:he.id,value:pe,onChange:Ce=>w(Ee=>({...Ee,[he.id]:Ce.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:`Enter ${he.fieldName.toLowerCase()}`,required:he.isRequired});case"NUMBER":return s.jsx("input",{type:"number",id:he.id,value:pe,onChange:Ce=>w(Ee=>({...Ee,[he.id]:Ce.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:`Enter ${he.fieldName.toLowerCase()}`,required:he.isRequired});case"DATE":return s.jsx("input",{type:"date",id:he.id,value:pe,onChange:Ce=>w(Ee=>({...Ee,[he.id]:Ce.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:he.isRequired});case"DROPDOWN":return s.jsxs("select",{id:he.id,value:pe,onChange:Ce=>w(Ee=>({...Ee,[he.id]:Ce.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:he.isRequired,children:[s.jsxs("option",{value:"",children:["Select ",he.fieldName.toLowerCase()]}),he.fieldOptions&&he.fieldOptions.map((Ce,Ee)=>s.jsx("option",{value:Ce,children:Ce},Ee))]});case"CHECKBOX":return s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:he.id,checked:pe==="true",onChange:Ce=>w(Ee=>({...Ee,[he.id]:Ce.target.checked.toString()})),className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:he.id,className:"text-sm font-medium text-gray-700",children:he.fieldName})]});default:return null}},me=()=>{const he=Math.max(f.pieces*S.storageRate*f.estimatedDays,S.minimumCharge),pe=he*(S.taxRate/100);return{baseCost:he,tax:pe,total:he+pe}},Ne=async he=>{var pe;he.preventDefault(),i(!0),o(""),d("");try{if(!f.clientName)throw new Error("Client name is required");if(k.requireClientPhone&&!f.clientPhone)throw new Error("Client phone is required by company settings");if(k.requireClientEmail&&!f.clientEmail)throw new Error("Client email is required by company settings");if(k.requireEstimatedValue&&!f.value)throw new Error("Estimated value is required by company settings");if(k.requireRackAssignment&&!f.rackId)throw new Error("Rack assignment is required by company settings");if(k.requireClientAddress&&!f.clientAddress)throw new Error("Client address is required by company settings");if(k.requireDescription&&!f.description)throw new Error("Description is required by company settings");if(k.requireNotes&&!f.notes)throw new Error("Notes are required by company settings");if(k.requireEstimatedDays&&!f.estimatedDays)throw new Error("Estimated storage days are required by company settings");if(f.pieces<=0)throw new Error("Number of pieces must be greater than 0");if(f.isWarehouseShipment&&(!f.shipper||!f.consignee))throw new Error("Shipper and consignee are required for warehouse shipments");for(const ze of g)if(ze.isRequired&&!y[ze.id])throw new Error(`${ze.fieldName} is required`);const Ce={referenceId:f.barcode,clientName:f.clientName,clientPhone:f.clientPhone,clientEmail:f.clientEmail,clientAddress:f.clientAddress,description:f.description,originalBoxCount:f.pieces,currentBoxCount:f.pieces,estimatedValue:f.value,notes:f.notes,rackId:f.rackId||void 0,isWarehouseShipment:f.isWarehouseShipment,warehouseData:f.isWarehouseShipment?JSON.stringify({shipper:f.shipper,consignee:f.consignee,shipperAddress:f.shipperAddress,consigneeAddress:f.consigneeAddress,shipperPhone:f.shipperPhone,consigneePhone:f.consigneePhone,weight:f.weight,dimensions:f.dimensions,storageType:f.storageType,specialInstructions:f.specialInstructions,estimatedDays:f.estimatedDays}):null,customFieldValues:JSON.stringify(y)},Ee=await wc.create(Ce),Te=((pe=Ee.shipment)==null?void 0:pe.id)||Ee.id;if(f.rackId&&f.pieces>0){const ze=Array.from({length:f.pieces},(Re,ce)=>ce+1);await fetch(`/api/shipments/${Te}/assign-boxes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({rackId:f.rackId,boxNumbers:ze})})}alert(`✅ SUCCESS!

Shipment ${f.barcode} has been created successfully!

📦 Boxes: ${f.pieces}
👤 Client: ${f.clientName}${f.rackId?`
📍 Assigned to Rack`:""}`),r(),t()}catch(Ce){o(Ce.message||"Failed to create shipment")}finally{i(!1)}};if(!e)return null;const Ie=me(),_e={basic:()=>s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-800 flex items-center",children:"📦 Basic Shipment Info"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode ID"}),s.jsx("input",{type:"text",name:"barcode",value:f.barcode,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 font-mono text-lg",readOnly:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Number of Pieces ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"pieces",value:f.pieces,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["📅 Arrival Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"arrivalDate",value:f.arrivalDate,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),client:()=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center",children:"👤 Client Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"clientName",value:f.clientName,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",k.requireClientPhone&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"clientPhone",value:f.clientPhone,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+965 1234 5678",required:k.requireClientPhone})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",k.requireClientEmail&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",name:"clientEmail",value:f.clientEmail,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"john@example.com"})]}),k.showClientAddress!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",k.requireClientAddress&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"clientAddress",value:f.clientAddress,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Street address, city",required:k.requireClientAddress})]})]})]}),warehouse:()=>k.showWarehouseMode===!1?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isWarehouseShipment",name:"isWarehouseShipment",checked:f.isWarehouseShipment,onChange:ye,className:"w-5 h-5 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("label",{htmlFor:"isWarehouseShipment",className:"text-sm font-semibold text-orange-800",children:"🏭 This is a warehouse shipment (import/export with shipper/consignee details)"})]})}),f.isWarehouseShipment&&s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-800 flex items-center",children:"🏭 Warehouse Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Shipper Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"shipper",value:f.shipper,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"ABC Trading Company",required:f.isWarehouseShipment})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Consignee Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"consignee",value:f.consignee,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"XYZ Imports LLC",required:f.isWarehouseShipment})]}),k.showWeight!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Weight (kg) ",k.requireWeight&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"weight",value:f.weight,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",required:k.requireWeight})]}),k.showDimensions!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Dimensions (L×W×H) ",k.requireDimensions&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"dimensions",value:f.dimensions,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"100×50×30 cm",required:k.requireDimensions})]}),k.showDescription!==!1&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",k.requireDescription&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:f.description,onChange:ye,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the shipment contents...",required:k.requireDescription})]})]})]})]}),storage:()=>s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-800 flex items-center",children:"🏪 Storage Assignment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assign to Rack ",k.requireRackAssignment&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"rackId",value:f.rackId,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:k.requireRackAssignment,children:[s.jsx("option",{value:"",children:k.requireRackAssignment?"Select a rack (required)":"Select a rack (optional)"}),A.map(he=>s.jsxs("option",{value:he.id,children:[he.code," - ",he.location," (",he.capacityUsed,"/",he.capacityTotal,")"]},he.id))]})]}),k.showEstimatedDays!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Estimated Storage Days ",k.requireEstimatedDays&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"estimatedDays",value:f.estimatedDays,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"1",required:k.requireEstimatedDays})]}),k.showSpecialInstructions!==!1&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),s.jsx("textarea",{name:"specialInstructions",value:f.specialInstructions,onChange:ye,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Any special handling or storage requirements..."})]})]})]}),custom:()=>g.length===0?null:s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-800 flex items-center",children:"✨ Custom Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(he=>s.jsxs("div",{className:he.fieldType==="TEXTAREA"?"md:col-span-2":"",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[he.fieldName," ",he.isRequired&&s.jsx("span",{className:"text-red-500",children:"*"})]}),ve(he)]},he.id))})]}),pricing:()=>s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-800 flex items-center",children:"💰 Estimated Cost"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Storage Rate per Day:"}),s.jsxs("span",{className:"font-medium",children:[S.storageRate.toFixed(3)," ",S.currency]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Estimated Days:"}),s.jsxs("span",{className:"font-medium",children:[f.estimatedDays," days"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Number of Pieces:"}),s.jsxs("span",{className:"font-medium",children:[f.pieces," pieces"]})]}),s.jsxs("div",{className:"border-t border-yellow-300 pt-3 flex justify-between",children:[s.jsx("span",{className:"font-semibold text-yellow-900",children:"Estimated Total:"}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-2xl font-bold text-yellow-900",children:[Ie.total.toFixed(3)," ",S.currency]})})]})]})]})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"📦 New Shipment Intake"}),s.jsx("p",{className:"text-blue-100",children:"WHM Warehouse Management System"})]}),s.jsx("button",{onClick:t,className:"text-white hover:bg-white/20 rounded-full p-2 transition-colors",children:"✕"})]})}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-100px)]",children:s.jsxs("form",{onSubmit:Ne,className:"p-6 space-y-6",children:[a&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-r-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:"⚠️"}),a]})}),c&&s.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 p-4 rounded-r-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:"✅"}),c]})}),(k.requireClientEmail||k.requireEstimatedValue||k.requireRackAssignment)&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-4 rounded-r-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2 text-lg",children:"ℹ️"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"Company Settings Applied"}),s.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[k.requireClientEmail&&s.jsx("li",{children:"Client email is required"}),k.requireEstimatedValue&&s.jsx("li",{children:"Estimated value is required"}),k.requireRackAssignment&&s.jsx("li",{children:"Rack assignment is required"})]})]})]})}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"📋 Form Sections Order:"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Click ↑↓ to reorder"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:W.map((he,pe)=>{const Ce={basic:"📦 Basic",client:"👤 Client",warehouse:"🏭 Warehouse",storage:"🏪 Storage",custom:"⚙️ Custom",pricing:"💰 Pricing"};return s.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 py-1 rounded border border-gray-300",children:[s.jsx("span",{className:"text-xs font-medium",children:Ce[he]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("button",{type:"button",onClick:()=>{if(pe>0){const Ee=[...W];[Ee[pe],Ee[pe-1]]=[Ee[pe-1],Ee[pe]],H(Ee)}},disabled:pe===0,className:"text-xs text-gray-500 hover:text-blue-600 disabled:opacity-30 leading-none",children:"▲"}),s.jsx("button",{type:"button",onClick:()=>{if(pe<W.length-1){const Ee=[...W];[Ee[pe],Ee[pe+1]]=[Ee[pe+1],Ee[pe]],H(Ee)}},disabled:pe===W.length-1,className:"text-xs text-gray-500 hover:text-blue-600 disabled:opacity-30 leading-none",children:"▼"})]})]},he)})})]})}),W.map(he=>{const pe=_e[he];return pe?s.jsx("div",{children:pe()},he):null}),k.showNotes!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Additional Notes ",k.requireNotes&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"notes",value:f.notes,onChange:ye,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional notes or comments...",required:k.requireNotes})]}),s.jsxs("div",{style:{display:"none"},className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center",children:"🏷️ Shipment Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode ID"}),s.jsx("input",{type:"text",name:"barcode",value:f.barcode,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 font-mono text-lg",readOnly:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Number of Pieces ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"pieces",value:f.pieces,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",required:!0})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center",children:"👤 Client Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Client Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"clientName",value:f.clientName,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",k.requireClientPhone&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"clientPhone",value:f.clientPhone,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+965 1234 5678",required:k.requireClientPhone})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",k.requireClientEmail&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",name:"clientEmail",value:f.clientEmail,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"john@example.com"})]}),k.showClientAddress!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",k.requireClientAddress&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"clientAddress",value:f.clientAddress,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Street address, city",required:k.requireClientAddress})]})]})]}),k.showWarehouseMode!==!1&&s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isWarehouseShipment",name:"isWarehouseShipment",checked:f.isWarehouseShipment,onChange:ye,className:"w-5 h-5 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("label",{htmlFor:"isWarehouseShipment",className:"text-sm font-semibold text-orange-800",children:"🏭 This is a warehouse shipment (import/export with shipper/consignee details)"})]})}),f.isWarehouseShipment&&k.showWarehouseMode!==!1&&s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-800 flex items-center",children:"🏭 Warehouse Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Shipper Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"shipper",value:f.shipper,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"ABC Trading Company",required:f.isWarehouseShipment})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Consignee Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"consignee",value:f.consignee,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"XYZ Imports LLC",required:f.isWarehouseShipment})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipper Address"}),s.jsx("input",{type:"text",name:"shipperAddress",value:f.shipperAddress,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"123 Export St, Dubai, UAE"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Consignee Address"}),s.jsx("input",{type:"text",name:"consigneeAddress",value:f.consigneeAddress,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"456 Import Ave, Kuwait City"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center",children:"📦 Shipment Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Weight (kg)"}),s.jsx("input",{type:"number",name:"weight",value:f.weight,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.0",step:"0.1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dimensions (L×W×H)"}),s.jsx("input",{type:"text",name:"dimensions",value:f.dimensions,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"100×50×30 cm"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Estimated Value (",S.currency,") ",k.requireEstimatedValue&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"value",value:f.value,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",required:k.requireEstimatedValue})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Type"}),s.jsxs("select",{name:"storageType",value:f.storageType,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"STANDARD",children:"Standard Storage"}),s.jsx("option",{value:"FRAGILE",children:"Fragile Items"}),s.jsx("option",{value:"HAZMAT",children:"Hazardous Materials"}),s.jsx("option",{value:"COLD",children:"Cold Storage"}),s.jsx("option",{value:"SECURE",children:"High Security"})]})]}),k.showDescription!==!1&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",k.requireDescription&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:f.description,onChange:ye,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the shipment contents...",required:k.requireDescription})]})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-800 flex items-center",children:"🏪 Storage Assignment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assign to Rack ",k.requireRackAssignment&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"rackId",value:f.rackId,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:k.requireRackAssignment,children:[s.jsx("option",{value:"",children:k.requireRackAssignment?"Select a rack (required)":"Select a rack (optional)"}),A.map(he=>s.jsxs("option",{value:he.id,children:[he.code," - ",he.location," (",he.capacityUsed,"/",he.capacityTotal,")"]},he.id))]})]}),k.showEstimatedDays!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Estimated Storage Days ",k.requireEstimatedDays&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"estimatedDays",value:f.estimatedDays,onChange:ye,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"1",required:k.requireEstimatedDays})]}),k.showSpecialInstructions!==!1&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),s.jsx("textarea",{name:"specialInstructions",value:f.specialInstructions,onChange:ye,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Any special handling or storage requirements..."})]})]})]}),g.length>0&&s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-800 flex items-center",children:"✨ Custom Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(he=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[he.fieldName,he.isRequired&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),ve(he)]},he.id))})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-800 flex items-center",children:"💰 Estimated Storage Cost"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-gray-600",children:"Base Cost"}),s.jsxs("div",{className:"text-xl font-bold text-blue-800",children:[Ie.baseCost.toFixed(3)," ",S.currency]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.pieces," pieces × ",f.estimatedDays," days × ",S.storageRate," rate"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-gray-600",children:["Tax (",S.taxRate,"%)"]}),s.jsxs("div",{className:"text-xl font-bold text-blue-800",children:[Ie.tax.toFixed(3)," ",S.currency]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-gray-600",children:"Total Estimate"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[Ie.total.toFixed(3)," ",S.currency]})]})]})]}),k.showNotes!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Additional Notes ",k.requireNotes&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"notes",value:f.notes,onChange:ye,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional notes or comments...",required:k.requireNotes})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",disabled:n,children:"Cancel"}),s.jsx("button",{type:"button",onClick:Z,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",disabled:n,children:"Reset"}),s.jsx("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:n,children:n?"🔄 Creating...":"📦 Create Shipment"})]})]})})]})})}function vee({isOpen:e,onClose:t,onSelectRack:r,selectedRackId:n}){const[i,a]=I.useState([]),[o,c]=I.useState(!0),[d,f]=I.useState("all"),[m,g]=I.useState("all");I.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{c(!0);const E=await _o.getAll();a(E.racks||[])}catch(E){console.error("Load racks error:",E)}finally{c(!1)}},y=E=>Math.round(E.capacityUsed/E.capacityTotal*100),w=E=>E>=90?"bg-red-500":E>=75?"bg-yellow-500":E>=50?"bg-blue-500":"bg-green-500",A=i.filter(E=>!(m!=="all"&&!E.code.startsWith(m)||d==="available"&&E.capacityUsed>=E.capacityTotal||d==="full"&&E.capacityUsed<E.capacityTotal)),N=Array.from(new Set(i.map(E=>E.code.charAt(0)))).sort(),S=E=>{E.status==="ACTIVE"&&E.capacityUsed<E.capacityTotal&&(r(E.id,E.code),t())};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"🗺️ Warehouse Rack Map"}),s.jsx("p",{className:"text-sm text-purple-100 mt-1",children:"Select a rack with available space"})]}),s.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl font-bold",children:"×"})]}),s.jsxs("div",{className:"px-6 py-4 border-b bg-gray-50",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Section:"}),s.jsx("button",{onClick:()=>g("all"),className:`px-3 py-1 rounded-md text-sm font-medium ${m==="all"?"bg-purple-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"All"}),N.map(E=>s.jsx("button",{onClick:()=>g(E),className:`px-3 py-1 rounded-md text-sm font-medium ${m===E?"bg-purple-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:E},E))]}),s.jsx("div",{className:"h-6 w-px bg-gray-300"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show:"}),s.jsx("button",{onClick:()=>f("all"),className:`px-3 py-1 rounded-md text-sm font-medium ${d==="all"?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"All"}),s.jsx("button",{onClick:()=>f("available"),className:`px-3 py-1 rounded-md text-sm font-medium ${d==="available"?"bg-green-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Available"}),s.jsx("button",{onClick:()=>f("full"),className:`px-3 py-1 rounded-md text-sm font-medium ${d==="full"?"bg-red-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Full"})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600",children:"0-50% Full"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-gray-600",children:"50-75% Full"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-gray-600",children:"75-90% Full"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsx("span",{className:"text-gray-600",children:"90-100% Full"})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:A.map(E=>{const k=y(E),P=E.status==="ACTIVE"&&E.capacityUsed<E.capacityTotal,W=E.id===n;return s.jsxs("button",{onClick:()=>S(E),disabled:!P,className:`relative border-2 rounded-lg p-4 transition-all ${W?"border-purple-600 bg-purple-50 ring-2 ring-purple-600":P?"border-gray-300 hover:border-purple-400 hover:shadow-lg":"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed"}`,children:[W&&s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx(bi,{className:"h-6 w-6 text-purple-600 bg-white rounded-full"})}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ko,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:E.code})]}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${E.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:E.status})]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-3 truncate",title:E.location,children:["📍 ",E.location]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-600",children:"Capacity"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[E.capacityUsed,"/",E.capacityTotal]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${w(k)}`,style:{width:`${k}%`}})}),s.jsxs("div",{className:"text-xs text-center text-gray-500",children:[k,"% Full"]})]}),P&&s.jsxs("div",{className:"mt-2 text-xs font-medium text-green-600",children:["✓ ",E.capacityTotal-E.capacityUsed," spaces available"]})]},E.id)})}),!o&&A.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx("p",{className:"text-lg",children:"No racks found"}),s.jsx("p",{className:"text-sm mt-2",children:"Try changing the filters"})]})]}),s.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",s.jsx("span",{className:"font-semibold",children:A.length})," of"," ",s.jsx("span",{className:"font-semibold",children:i.length})," racks"]}),s.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 font-medium",children:"Cancel"})]})]})}):null}function bee({isOpen:e,onClose:t,onSuccess:r,shipment:n}){const[i,a]=I.useState(!1),[o,c]=I.useState([]),[d,f]=I.useState([]),[m,g]=I.useState({}),[b,y]=I.useState({clientName:"",clientPhone:"",clientEmail:"",description:"",totalBoxCount:0,currentBoxCount:0,rackId:"",estimatedValue:0,notes:"",status:""}),[w,A]=I.useState(""),[N,S]=I.useState(""),[E,k]=I.useState(!1);I.useEffect(()=>{e&&n&&(W(),P(),y({clientName:n.clientName||"",clientPhone:n.clientPhone||"",clientEmail:n.clientEmail||"",description:n.description||"",totalBoxCount:n.totalBoxCount||0,currentBoxCount:n.currentBoxCount||0,rackId:n.rackId||"",estimatedValue:n.estimatedValue||0,notes:n.notes||"",status:n.status||"IN_STORAGE"}),A(""),S(""))},[e,n]);const P=async()=>{try{const F=await fetch("/api/custom-fields?section=SHIPMENT",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(F.ok){const L=await F.json(),J=L.customFields||L,M=Array.isArray(J)?J.filter(z=>z.isActive):[];f(M)}if(n!=null&&n.id){const L=await fetch(`/api/custom-field-values/SHIPMENT/${n.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(L.ok){const J=await L.json(),M=J.customFieldValues||J,z={};Array.isArray(M)&&M.forEach(te=>{z[te.customFieldId]=te.fieldValue}),g(z)}}}catch(F){console.error("Failed to load custom fields:",F)}},W=async()=>{try{const L=(await _o.getAll()).racks.filter(J=>J.id===(n==null?void 0:n.rackId)||J.status==="ACTIVE"&&J.capacityUsed<J.capacityTotal);c(L)}catch(F){A("Failed to load racks: "+F.message)}},H=F=>{const{name:L,value:J}=F.target;y(M=>({...M,[L]:L.includes("Count")||L==="estimatedValue"?Number(J):J}))},$=async F=>{F.preventDefault(),a(!0),A(""),S("");try{if(!b.clientName||!b.clientPhone)throw new Error("Client name and phone are required");if(b.totalBoxCount<=0)throw new Error("Total box count must be greater than 0");if(b.currentBoxCount>b.totalBoxCount)throw new Error("Current box count cannot exceed total box count");if(!b.rackId)throw new Error("Please select a rack");const{totalBoxCount:L,...J}=b;if(await wc.update(n.id,J),d.length>0){const M=Object.entries(m).filter(([z,te])=>te!=="").map(([z,te])=>({customFieldId:z,fieldValue:te}));try{await fetch(`/api/custom-field-values/SHIPMENT/${n.id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({values:M})})}catch(z){console.error("Failed to save custom field values:",z)}}alert(`✅ SUCCESS!

Shipment ${n.referenceId} has been updated successfully!

📦 Current Boxes: ${b.currentBoxCount}
📍 Rack: ${b.rackId}`),r(),t()}catch(L){A(L.message||"Failed to update shipment")}finally{a(!1)}};return!e||!n?null:s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-blue-600 text-white px-6 py-4 rounded-t-lg flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold",children:"✏️ Edit Shipment"}),s.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl font-bold",disabled:i,children:"×"})]}),s.jsxs("form",{onSubmit:$,className:"p-6 space-y-6",children:[w&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:w}),N&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:N}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Client Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"clientName",value:b.clientName,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"clientPhone",value:b.clientPhone,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+965 1234 5678",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),s.jsx("input",{type:"email",name:"clientEmail",value:b.clientEmail,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Value (KWD)"}),s.jsx("input",{type:"number",name:"estimatedValue",value:b.estimatedValue,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",min:"0"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Shipment Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{type:"text",name:"description",value:b.description,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Household items, furniture, etc."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Box Count ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"totalBoxCount",value:b.totalBoxCount,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10",min:"1",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Box Count ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"currentBoxCount",value:b.currentBoxCount,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:b.status,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"IN_STORAGE",children:"In Storage"}),s.jsx("option",{value:"PARTIAL",children:"Partial"}),s.jsx("option",{value:"RELEASED",children:"Released"})]})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Rack Assignment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Rack"}),s.jsxs("select",{name:"rackId",value:b.rackId,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"-- No Rack Assigned --"}),o.map(F=>s.jsxs("option",{value:F.id,children:[F.code," - ",F.location," (Available: ",F.capacityTotal-F.capacityUsed,"/",F.capacityTotal,")"]},F.id))]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",onClick:()=>k(!0),className:"w-full px-4 py-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200 font-medium border-2 border-purple-300",children:"🗺️ Open Rack Map"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),s.jsx("textarea",{name:"notes",value:b.notes,onChange:H,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special instructions or notes..."})]}),d.length>0&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"✨ Custom Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(F=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[F.fieldName,F.isRequired&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),F.fieldType==="TEXT"&&s.jsx("input",{type:"text",value:m[F.id]||"",onChange:L=>g(J=>({...J,[F.id]:L.target.value})),required:F.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),F.fieldType==="NUMBER"&&s.jsx("input",{type:"number",value:m[F.id]||"",onChange:L=>g(J=>({...J,[F.id]:L.target.value})),required:F.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),F.fieldType==="DATE"&&s.jsx("input",{type:"date",value:m[F.id]||"",onChange:L=>g(J=>({...J,[F.id]:L.target.value})),required:F.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),F.fieldType==="DROPDOWN"&&F.fieldOptions&&s.jsxs("select",{value:m[F.id]||"",onChange:L=>g(J=>({...J,[F.id]:L.target.value})),required:F.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"-- Select --"}),(()=>{try{const L=JSON.parse(F.fieldOptions);return Array.isArray(L)?L.map(J=>s.jsx("option",{value:J,children:J},J)):[]}catch{return F.fieldOptions.split(",").map(L=>s.jsx("option",{value:L.trim(),children:L.trim()},L.trim()))}})()]}),F.fieldType==="CHECKBOX"&&s.jsxs("div",{className:"flex items-center h-10",children:[s.jsx("input",{type:"checkbox",checked:m[F.id]==="true",onChange:L=>g(J=>({...J,[F.id]:L.target.checked?"true":"false"})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Yes"})]})]},F.id))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",disabled:i,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:i,children:i?"Updating...":"Update Shipment"})]})]})]}),s.jsx(vee,{isOpen:E,onClose:()=>k(!1),selectedRackId:b.rackId,onSelectRack:F=>{y(L=>({...L,rackId:F})),k(!1)}})]})}function wee({shipmentId:e}){const[t,r]=I.useState([]),[n,i]=I.useState(!1),[a,o]=I.useState({});I.useEffect(()=>{c()},[e]);const c=async()=>{i(!0);try{const y=(await(await fetch(`/api/shipments/${e}/boxes`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json()).boxes||[];r(y);const w={},A=[];for(const N of y)if(N.rackId&&N.rack){const S=`${N.rack.code}|${N.rack.location||""}`;w[S]||(w[S]=[]),w[S].push(N)}else A.push(N);A.length>0&&(w["Unassigned|Pending Assignment"]=A),o(w)}catch(g){console.error("Failed to load boxes:",g)}finally{i(!1)}};if(n)return s.jsxs("div",{className:"border border-blue-200 bg-blue-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"text-xl mr-2",children:"📦"})," Box Distribution"]}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Loading box distribution..."})]});if(t.length===0)return null;const d=t.length,f=t.filter(g=>g.rackId).length,m=Object.keys(a).filter(g=>!g.startsWith("Unassigned")).length;return s.jsxs("div",{className:"border border-blue-200 bg-blue-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"text-xl mr-2",children:"📦"})," Box Distribution & Locations"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 p-3 bg-white rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d}),s.jsx("p",{className:"text-xs text-gray-600",children:"Total Boxes"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:f}),s.jsx("p",{className:"text-xs text-gray-600",children:"Assigned"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Rack",m!==1?"s":""]})]})]}),s.jsx("div",{className:"space-y-3",children:Object.entries(a).map(([g,b])=>{const[y,w]=g.split("|"),A=g.startsWith("Unassigned");return s.jsxs("div",{className:`p-3 rounded-lg border-2 ${A?"bg-yellow-50 border-yellow-300":"bg-white border-green-300"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:A?"⏳":"🗄️"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-gray-800",children:y}),w&&!A&&s.jsx("p",{className:"text-xs text-gray-600",children:w})]})]}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${A?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:[b.length," box",b.length!==1?"es":""]})]}),s.jsx("div",{className:"grid grid-cols-8 gap-1 mt-2",children:b.map(N=>s.jsx("div",{className:`aspect-square flex items-center justify-center text-xs font-bold rounded ${N.status==="IN_STORAGE"?"bg-green-500 text-white":N.status==="RELEASED"?"bg-gray-400 text-white":"bg-yellow-400 text-gray-800"}`,title:`Box #${N.boxNumber} - ${N.status}`,children:N.boxNumber},N.id))})]},g)})}),s.jsxs("div",{className:"mt-4 pt-3 border-t border-blue-200",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Status Legend:"}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-gray-600",children:"In Storage"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Pending"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Released"})]})]})]})]})}function Nee({isOpen:e,onClose:t,shipmentId:r}){const[n,i]=I.useState(null),[a,o]=I.useState([]),[c,d]=I.useState(!1),[f,m]=I.useState("");I.useEffect(()=>{e&&r&&(g(),b())},[e,r]);const g=async()=>{d(!0),m("");try{const w=await wc.getById(r);i(w.shipment)}catch(w){m("Failed to load shipment details"),console.error(w)}finally{d(!1)}},b=async()=>{try{const w=await fetch(`/api/custom-field-values/SHIPMENT/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(w.ok){const A=await w.json();o(A.customFieldValues||A.values||[])}}catch(w){console.error("Failed to load custom field values:",w)}},y=w=>{const A={PENDING:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",emoji:"🟡",text:"Pending"},IN_TRANSIT:{color:"bg-blue-100 text-blue-800 border-blue-300",emoji:"🚚",text:"In Transit"},IN_STORAGE:{color:"bg-green-100 text-green-800 border-green-300",emoji:"🟢",text:"In Storage"},RELEASED:{color:"bg-gray-100 text-gray-800 border-gray-300",emoji:"🔵",text:"Released"}},N=A[w]||A.PENDING;return s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold border ${N.color}`,children:[N.emoji," ",N.text]})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 flex justify-between items-center rounded-t-lg",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"📦 Shipment Details"}),s.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Reference: ",n==null?void 0:n.referenceId]})]}),s.jsx("button",{onClick:t,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6",children:c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading shipment details..."})]}):f?s.jsx("div",{className:"bg-red-50 border border-red-300 text-red-800 px-4 py-3 rounded",children:f}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:n.name}),s.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["QR Code: ",n.qrCode]})]}),y(n.status)]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Type"}),s.jsx("p",{className:"font-semibold text-gray-800",children:n.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Total Boxes"}),s.jsx("p",{className:"font-semibold text-gray-800",children:n.originalBoxCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Current Boxes"}),s.jsx("p",{className:"font-semibold text-gray-800",children:n.currentBoxCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Arrival Date"}),s.jsx("p",{className:"font-semibold text-gray-800",children:new Date(n.arrivalDate).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"text-xl mr-2",children:"👤"})," Client Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Name"}),s.jsx("p",{className:"font-semibold text-gray-800",children:n.clientName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Phone"}),s.jsx("p",{className:"font-semibold text-gray-800",children:n.clientPhone})]}),n.clientEmail&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Email"}),s.jsx("p",{className:"font-semibold text-gray-800",children:n.clientEmail})]}),n.estimatedValue&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Estimated Value"}),s.jsxs("p",{className:"font-semibold text-gray-800",children:["KWD ",n.estimatedValue.toFixed(3)]})]})]})]}),n.rack&&s.jsxs("div",{className:"border border-green-200 bg-green-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"text-xl mr-2",children:"🗄️"})," Primary Storage Location"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Rack Code"}),s.jsx("p",{className:"font-semibold text-gray-800",children:n.rack.code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Location"}),s.jsx("p",{className:"font-semibold text-gray-800",children:n.rack.location})]})]})]}),s.jsx(wee,{shipmentId:r}),(n.description||n.notes)&&s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"text-xl mr-2",children:"📝"})," Additional Information"]}),n.description&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Description"}),s.jsx("p",{className:"text-gray-800",children:n.description})]}),n.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Notes"}),s.jsx("p",{className:"text-gray-800",children:n.notes})]})]}),a.length>0&&s.jsxs("div",{className:"border border-purple-200 bg-purple-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"text-xl mr-2",children:"✨"})," Custom Fields"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:a.map(w=>s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:w.customField.fieldName}),s.jsx("p",{className:"font-semibold text-gray-800",children:w.customField.fieldType==="CHECKBOX"?w.fieldValue==="true"?"✅ Yes":"❌ No":w.fieldValue})]},w.id))})]}),n.withdrawals&&n.withdrawals.length>0&&s.jsxs("div",{className:"border border-orange-200 bg-orange-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"text-xl mr-2",children:"📤"})," Withdrawal History"]}),s.jsx("div",{className:"space-y-2",children:n.withdrawals.map(w=>s.jsxs("div",{className:"bg-white p-3 rounded border border-orange-200 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"font-semibold",children:[w.withdrawnBoxCount," boxes withdrawn"]}),s.jsx("span",{className:"text-gray-600",children:new Date(w.withdrawalDate).toLocaleDateString()})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Collected by: ",w.withdrawnBy]}),w.notes&&s.jsx("p",{className:"text-gray-600 text-xs mt-1",children:w.notes})]},w.id))})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"text-xl mr-2",children:"🕐"})," Audit Trail"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Created"}),s.jsx("p",{className:"font-semibold text-gray-800",children:new Date(n.createdAt).toLocaleString()}),n.createdBy&&s.jsxs("p",{className:"text-xs text-gray-500",children:["By: User ID ",n.createdBy]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Last Updated"}),s.jsx("p",{className:"font-semibold text-gray-800",children:new Date(n.updatedAt).toLocaleString()}),n.updatedBy&&s.jsxs("p",{className:"text-xs text-gray-500",children:["By: User ID ",n.updatedBy]})]}),n.releasedAt&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Released"}),s.jsx("p",{className:"font-semibold text-gray-800",children:new Date(n.releasedAt).toLocaleString()})]})]})]})]}):null}),s.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t rounded-b-lg",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Close"})})]})}):null}var Uu={},Aee=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},MI={},as={};let u3;const Cee=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];as.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};as.getSymbolTotalCodewords=function(t){return Cee[t]};as.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};as.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');u3=t};as.isKanjiModeEnabled=function(){return typeof u3<"u"};as.toSJIS=function(t){return u3(t)};var Vg={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(Vg);function BI(){this.buffer=[],this.length=0}BI.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var jee=BI;function w0(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}w0.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};w0.prototype.get=function(e,t){return this.data[e*this.size+t]};w0.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};w0.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var See=w0,FI={};(function(e){const t=as.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,c=[a-7];for(let d=1;d<i-1;d++)c[d]=c[d-1]-o;return c.push(6),c.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),o=a.length;for(let c=0;c<o;c++)for(let d=0;d<o;d++)c===0&&d===0||c===0&&d===o-1||c===o-1&&d===0||i.push([a[c],a[d]]);return i}})(FI);var UI={};const Eee=as.getSymbolSize,sC=7;UI.getPositions=function(t){const r=Eee(t);return[[0,0],[r-sC,0],[0,r-sC]]};var WI={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let o=0,c=0,d=0,f=null,m=null;for(let g=0;g<a;g++){c=d=0,f=m=null;for(let b=0;b<a;b++){let y=i.get(g,b);y===f?c++:(c>=5&&(o+=t.N1+(c-5)),f=y,c=1),y=i.get(b,g),y===m?d++:(d>=5&&(o+=t.N1+(d-5)),m=y,d=1)}c>=5&&(o+=t.N1+(c-5)),d>=5&&(o+=t.N1+(d-5))}return o},e.getPenaltyN2=function(i){const a=i.size;let o=0;for(let c=0;c<a-1;c++)for(let d=0;d<a-1;d++){const f=i.get(c,d)+i.get(c,d+1)+i.get(c+1,d)+i.get(c+1,d+1);(f===4||f===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const a=i.size;let o=0,c=0,d=0;for(let f=0;f<a;f++){c=d=0;for(let m=0;m<a;m++)c=c<<1&2047|i.get(f,m),m>=10&&(c===1488||c===93)&&o++,d=d<<1&2047|i.get(m,f),m>=10&&(d===1488||d===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let d=0;d<o;d++)a+=i.data[d];return Math.abs(Math.ceil(a*100/o/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const o=a.size;for(let c=0;c<o;c++)for(let d=0;d<o;d++)a.isReserved(d,c)||a.xor(d,c,r(i,d,c))},e.getBestMask=function(i,a){const o=Object.keys(e.Patterns).length;let c=0,d=1/0;for(let f=0;f<o;f++){a(f),e.applyMask(f,i);const m=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(f,i),m<d&&(d=m,c=f)}return c}})(WI);var Gg={};const lc=Vg,j1=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],S1=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Gg.getBlocksCount=function(t,r){switch(r){case lc.L:return j1[(t-1)*4+0];case lc.M:return j1[(t-1)*4+1];case lc.Q:return j1[(t-1)*4+2];case lc.H:return j1[(t-1)*4+3];default:return}};Gg.getTotalCodewordsCount=function(t,r){switch(r){case lc.L:return S1[(t-1)*4+0];case lc.M:return S1[(t-1)*4+1];case lc.Q:return S1[(t-1)*4+2];case lc.H:return S1[(t-1)*4+3];default:return}};var zI={},Kg={};const uh=new Uint8Array(512),bp=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)uh[r]=t,bp[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)uh[r]=uh[r-255]})();Kg.log=function(t){if(t<1)throw new Error("log("+t+")");return bp[t]};Kg.exp=function(t){return uh[t]};Kg.mul=function(t,r){return t===0||r===0?0:uh[bp[t]+bp[r]]};(function(e){const t=Kg;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let c=0;c<i.length;c++)a[o+c]^=t.mul(n[o],i[c]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let d=0;d<i.length;d++)a[d]^=t.mul(i[d],o);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(zI);const $I=zI;function d3(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}d3.prototype.initialize=function(t){this.degree=t,this.genPoly=$I.generateECPolynomial(this.degree)};d3.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=$I.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var kee=d3,qI={},Bc={},f3={};f3.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Lo={};const HI="[0-9]+",Tee="[A-Z $%*+\\-./:]+";let Xh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xh=Xh.replace(/u/g,"\\u");const _ee="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xh+`)(?:.|[\r
]))+`;Lo.KANJI=new RegExp(Xh,"g");Lo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Lo.BYTE=new RegExp(_ee,"g");Lo.NUMERIC=new RegExp(HI,"g");Lo.ALPHANUMERIC=new RegExp(Tee,"g");const Iee=new RegExp("^"+Xh+"$"),Pee=new RegExp("^"+HI+"$"),Oee=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Lo.testKanji=function(t){return Iee.test(t)};Lo.testNumeric=function(t){return Pee.test(t)};Lo.testAlphanumeric=function(t){return Oee.test(t)};(function(e){const t=f3,r=Lo;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,o){if(e.isValid(a))return a;try{return n(a)}catch{return o}}})(Bc);(function(e){const t=as,r=Gg,n=Vg,i=Bc,a=f3,o=7973,c=t.getBCHDigit(o);function d(b,y,w){for(let A=1;A<=40;A++)if(y<=e.getCapacity(A,w,b))return A}function f(b,y){return i.getCharCountIndicator(b,y)+4}function m(b,y){let w=0;return b.forEach(function(A){const N=f(A.mode,y);w+=N+A.getBitsLength()}),w}function g(b,y){for(let w=1;w<=40;w++)if(m(b,w)<=e.getCapacity(w,y,i.MIXED))return w}e.from=function(y,w){return a.isValid(y)?parseInt(y,10):w},e.getCapacity=function(y,w,A){if(!a.isValid(y))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=i.BYTE);const N=t.getSymbolTotalCodewords(y),S=r.getTotalCodewordsCount(y,w),E=(N-S)*8;if(A===i.MIXED)return E;const k=E-f(A,y);switch(A){case i.NUMERIC:return Math.floor(k/10*3);case i.ALPHANUMERIC:return Math.floor(k/11*2);case i.KANJI:return Math.floor(k/13);case i.BYTE:default:return Math.floor(k/8)}},e.getBestVersionForData=function(y,w){let A;const N=n.from(w,n.M);if(Array.isArray(y)){if(y.length>1)return g(y,N);if(y.length===0)return 1;A=y[0]}else A=y;return d(A.mode,A.getLength(),N)},e.getEncodedBits=function(y){if(!a.isValid(y)||y<7)throw new Error("Invalid QR Code version");let w=y<<12;for(;t.getBCHDigit(w)-c>=0;)w^=o<<t.getBCHDigit(w)-c;return y<<12|w}})(qI);var VI={};const qv=as,GI=1335,Ree=21522,oC=qv.getBCHDigit(GI);VI.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;qv.getBCHDigit(i)-oC>=0;)i^=GI<<qv.getBCHDigit(i)-oC;return(n<<10|i)^Ree};var KI={};const Dee=Bc;function Kd(e){this.mode=Dee.NUMERIC,this.data=e.toString()}Kd.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Kd.prototype.getLength=function(){return this.data.length};Kd.prototype.getBitsLength=function(){return Kd.getBitsLength(this.data.length)};Kd.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var Lee=Kd;const Mee=Bc,w2=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Xd(e){this.mode=Mee.ALPHANUMERIC,this.data=e}Xd.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Xd.prototype.getLength=function(){return this.data.length};Xd.prototype.getBitsLength=function(){return Xd.getBitsLength(this.data.length)};Xd.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=w2.indexOf(this.data[r])*45;n+=w2.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(w2.indexOf(this.data[r]),6)};var Bee=Xd;const Fee=Bc;function Yd(e){this.mode=Fee.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Yd.getBitsLength=function(t){return t*8};Yd.prototype.getLength=function(){return this.data.length};Yd.prototype.getBitsLength=function(){return Yd.getBitsLength(this.data.length)};Yd.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var Uee=Yd;const Wee=Bc,zee=as;function Zd(e){this.mode=Wee.KANJI,this.data=e}Zd.getBitsLength=function(t){return t*13};Zd.prototype.getLength=function(){return this.data.length};Zd.prototype.getBitsLength=function(){return Zd.getBitsLength(this.data.length)};Zd.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=zee.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var $ee=Zd,XI={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},o={};o[n]=0;var c=t.PriorityQueue.make();c.push(n,0);for(var d,f,m,g,b,y,w,A,N;!c.empty();){d=c.pop(),f=d.value,g=d.cost,b=r[f]||{};for(m in b)b.hasOwnProperty(m)&&(y=b[m],w=g+y,A=o[m],N=typeof o[m]>"u",(N||A>w)&&(o[m]=w,c.push(m,w),a[m]=f))}if(typeof i<"u"&&typeof o[i]>"u"){var S=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(S)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(XI);var qee=XI.exports;(function(e){const t=Bc,r=Lee,n=Bee,i=Uee,a=$ee,o=Lo,c=as,d=qee;function f(S){return unescape(encodeURIComponent(S)).length}function m(S,E,k){const P=[];let W;for(;(W=S.exec(k))!==null;)P.push({data:W[0],index:W.index,mode:E,length:W[0].length});return P}function g(S){const E=m(o.NUMERIC,t.NUMERIC,S),k=m(o.ALPHANUMERIC,t.ALPHANUMERIC,S);let P,W;return c.isKanjiModeEnabled()?(P=m(o.BYTE,t.BYTE,S),W=m(o.KANJI,t.KANJI,S)):(P=m(o.BYTE_KANJI,t.BYTE,S),W=[]),E.concat(k,P,W).sort(function($,F){return $.index-F.index}).map(function($){return{data:$.data,mode:$.mode,length:$.length}})}function b(S,E){switch(E){case t.NUMERIC:return r.getBitsLength(S);case t.ALPHANUMERIC:return n.getBitsLength(S);case t.KANJI:return a.getBitsLength(S);case t.BYTE:return i.getBitsLength(S)}}function y(S){return S.reduce(function(E,k){const P=E.length-1>=0?E[E.length-1]:null;return P&&P.mode===k.mode?(E[E.length-1].data+=k.data,E):(E.push(k),E)},[])}function w(S){const E=[];for(let k=0;k<S.length;k++){const P=S[k];switch(P.mode){case t.NUMERIC:E.push([P,{data:P.data,mode:t.ALPHANUMERIC,length:P.length},{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.ALPHANUMERIC:E.push([P,{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.KANJI:E.push([P,{data:P.data,mode:t.BYTE,length:f(P.data)}]);break;case t.BYTE:E.push([{data:P.data,mode:t.BYTE,length:f(P.data)}])}}return E}function A(S,E){const k={},P={start:{}};let W=["start"];for(let H=0;H<S.length;H++){const $=S[H],F=[];for(let L=0;L<$.length;L++){const J=$[L],M=""+H+L;F.push(M),k[M]={node:J,lastCount:0},P[M]={};for(let z=0;z<W.length;z++){const te=W[z];k[te]&&k[te].node.mode===J.mode?(P[te][M]=b(k[te].lastCount+J.length,J.mode)-b(k[te].lastCount,J.mode),k[te].lastCount+=J.length):(k[te]&&(k[te].lastCount=J.length),P[te][M]=b(J.length,J.mode)+4+t.getCharCountIndicator(J.mode,E))}}W=F}for(let H=0;H<W.length;H++)P[W[H]].end=0;return{map:P,table:k}}function N(S,E){let k;const P=t.getBestModeForData(S);if(k=t.from(E,P),k!==t.BYTE&&k.bit<P.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(k)+`.
 Suggested mode is: `+t.toString(P));switch(k===t.KANJI&&!c.isKanjiModeEnabled()&&(k=t.BYTE),k){case t.NUMERIC:return new r(S);case t.ALPHANUMERIC:return new n(S);case t.KANJI:return new a(S);case t.BYTE:return new i(S)}}e.fromArray=function(E){return E.reduce(function(k,P){return typeof P=="string"?k.push(N(P,null)):P.data&&k.push(N(P.data,P.mode)),k},[])},e.fromString=function(E,k){const P=g(E,c.isKanjiModeEnabled()),W=w(P),H=A(W,k),$=d.find_path(H.map,"start","end"),F=[];for(let L=1;L<$.length-1;L++)F.push(H.table[$[L]].node);return e.fromArray(y(F))},e.rawSplit=function(E){return e.fromArray(g(E,c.isKanjiModeEnabled()))}})(KI);const Xg=as,N2=Vg,Hee=jee,Vee=See,Gee=FI,Kee=UI,Hv=WI,Vv=Gg,Xee=kee,wp=qI,Yee=VI,Zee=Bc,A2=KI;function Jee(e,t){const r=e.size,n=Kee.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],o=n[i][1];for(let c=-1;c<=7;c++)if(!(a+c<=-1||r<=a+c))for(let d=-1;d<=7;d++)o+d<=-1||r<=o+d||(c>=0&&c<=6&&(d===0||d===6)||d>=0&&d<=6&&(c===0||c===6)||c>=2&&c<=4&&d>=2&&d<=4?e.set(a+c,o+d,!0,!0):e.set(a+c,o+d,!1,!0))}}function Qee(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function ete(e,t){const r=Gee.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let o=-2;o<=2;o++)for(let c=-2;c<=2;c++)o===-2||o===2||c===-2||c===2||o===0&&c===0?e.set(i+o,a+c,!0,!0):e.set(i+o,a+c,!1,!0)}}function tte(e,t){const r=e.size,n=wp.getEncodedBits(t);let i,a,o;for(let c=0;c<18;c++)i=Math.floor(c/3),a=c%3+r-8-3,o=(n>>c&1)===1,e.set(i,a,o,!0),e.set(a,i,o,!0)}function C2(e,t,r){const n=e.size,i=Yee.getEncodedBits(t,r);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?e.set(a,8,o,!0):a<8?e.set(a+1,8,o,!0):e.set(n-15+a,8,o,!0),a<8?e.set(8,n-a-1,o,!0):a<9?e.set(8,15-a-1+1,o,!0):e.set(8,15-a-1,o,!0);e.set(n-8,8,1,!0)}function rte(e,t){const r=e.size;let n=-1,i=r-1,a=7,o=0;for(let c=r-1;c>0;c-=2)for(c===6&&c--;;){for(let d=0;d<2;d++)if(!e.isReserved(i,c-d)){let f=!1;o<t.length&&(f=(t[o]>>>a&1)===1),e.set(i,c-d,f),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function nte(e,t,r){const n=new Hee;r.forEach(function(d){n.put(d.mode.bit,4),n.put(d.getLength(),Zee.getCharCountIndicator(d.mode,e)),d.write(n)});const i=Xg.getSymbolTotalCodewords(e),a=Vv.getTotalCodewordsCount(e,t),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const c=(o-n.getLengthInBits())/8;for(let d=0;d<c;d++)n.put(d%2?17:236,8);return ite(n,e,t)}function ite(e,t,r){const n=Xg.getSymbolTotalCodewords(t),i=Vv.getTotalCodewordsCount(t,r),a=n-i,o=Vv.getBlocksCount(t,r),c=n%o,d=o-c,f=Math.floor(n/o),m=Math.floor(a/o),g=m+1,b=f-m,y=new Xee(b);let w=0;const A=new Array(o),N=new Array(o);let S=0;const E=new Uint8Array(e.buffer);for(let $=0;$<o;$++){const F=$<d?m:g;A[$]=E.slice(w,w+F),N[$]=y.encode(A[$]),w+=F,S=Math.max(S,F)}const k=new Uint8Array(n);let P=0,W,H;for(W=0;W<S;W++)for(H=0;H<o;H++)W<A[H].length&&(k[P++]=A[H][W]);for(W=0;W<b;W++)for(H=0;H<o;H++)k[P++]=N[H][W];return k}function ate(e,t,r,n){let i;if(Array.isArray(e))i=A2.fromArray(e);else if(typeof e=="string"){let f=t;if(!f){const m=A2.rawSplit(e);f=wp.getBestVersionForData(m,r)}i=A2.fromString(e,f||40)}else throw new Error("Invalid data");const a=wp.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=nte(t,r,i),c=Xg.getSymbolSize(t),d=new Vee(c);return Jee(d,t),Qee(d),ete(d,t),C2(d,r,0),t>=7&&tte(d,t),rte(d,o),isNaN(n)&&(n=Hv.getBestMask(d,C2.bind(null,d,r))),Hv.applyMask(n,d),C2(d,r,n),{modules:d,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}MI.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=N2.M,i,a;return typeof r<"u"&&(n=N2.from(r.errorCorrectionLevel,N2.M),i=wp.from(r.version),a=Hv.from(r.maskPattern),r.toSJISFunc&&Xg.setToSJISFunction(r.toSJISFunc)),ate(t,i,n,a)};var YI={},h3={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const o=i.modules.size,c=i.modules.data,d=e.getScale(o,a),f=Math.floor((o+a.margin*2)*d),m=a.margin*d,g=[a.color.light,a.color.dark];for(let b=0;b<f;b++)for(let y=0;y<f;y++){let w=(b*f+y)*4,A=a.color.light;if(b>=m&&y>=m&&b<f-m&&y<f-m){const N=Math.floor((b-m)/d),S=Math.floor((y-m)/d);A=g[c[N*o+S]?1:0]}n[w++]=A.r,n[w++]=A.g,n[w++]=A.b,n[w]=A.a}}})(h3);(function(e){const t=h3;function r(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,o,c){let d=c,f=o;typeof d>"u"&&(!o||!o.getContext)&&(d=o,o=void 0),o||(f=n()),d=t.getOptions(d);const m=t.getImageWidth(a.modules.size,d),g=f.getContext("2d"),b=g.createImageData(m,m);return t.qrToImageData(b.data,a,d),r(g,f,m),g.putImageData(b,0,0),f},e.renderToDataURL=function(a,o,c){let d=c;typeof d>"u"&&(!o||!o.getContext)&&(d=o,o=void 0),d||(d={});const f=e.render(a,o,d),m=d.type||"image/png",g=d.rendererOpts||{};return f.toDataURL(m,g.quality)}})(YI);var ZI={};const ste=h3;function lC(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function j2(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function ote(e,t,r){let n="",i=0,a=!1,o=0;for(let c=0;c<e.length;c++){const d=Math.floor(c%t),f=Math.floor(c/t);!d&&!a&&(a=!0),e[c]?(o++,c>0&&d>0&&e[c-1]||(n+=a?j2("M",d+r,.5+f+r):j2("m",i,0),i=0,a=!1),d+1<t&&e[c+1]||(n+=j2("h",o),o=0)):i++}return n}ZI.render=function(t,r,n){const i=ste.getOptions(r),a=t.modules.size,o=t.modules.data,c=a+i.margin*2,d=i.color.light.a?"<path "+lC(i.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",f="<path "+lC(i.color.dark,"stroke")+' d="'+ote(o,a,i.margin)+'"/>',m='viewBox="0 0 '+c+" "+c+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+m+' shape-rendering="crispEdges">'+d+f+`</svg>
`;return typeof n=="function"&&n(null,b),b};const lte=Aee,Gv=MI,JI=YI,cte=ZI;function m3(e,t,r,n,i){const a=[].slice.call(arguments,1),o=a.length,c=typeof a[o-1]=="function";if(!c&&!lte())throw new Error("Callback required as last argument");if(c){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(d,f){try{const m=Gv.create(r,n);d(e(m,t,n))}catch(m){f(m)}})}try{const d=Gv.create(r,n);i(null,e(d,t,n))}catch(d){i(d)}}Uu.create=Gv.create;Uu.toCanvas=m3.bind(null,JI.render);Uu.toDataURL=m3.bind(null,JI.renderToDataURL);Uu.toString=m3.bind(null,function(e,t,r){return cte.render(e,r)});function ute({isOpen:e,onClose:t,shipmentId:r,shipmentRef:n}){const[i,a]=I.useState([]),[o,c]=I.useState({}),[d,f]=I.useState(!1),[m,g]=I.useState(null);I.useEffect(()=>{e&&r&&b()},[e,r]);const b=async()=>{f(!0),g(null);try{const A=await fetch(`/api/shipments/${r}/boxes`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(A.ok){const N=await A.json();if(!N.boxes||N.boxes.length===0){g("No boxes found for this shipment"),f(!1);return}a(N.boxes);const S={};for(const E of N.boxes)S[E.id]=await Uu.toDataURL(E.qrCode,{width:200});c(S)}}catch(A){console.error("Failed to load boxes:",A)}finally{f(!1)}},y=()=>{window.print()},w=A=>{const N={PENDING:"bg-yellow-100 text-yellow-800 border-yellow-300",IN_STORAGE:"bg-green-100 text-green-800 border-green-300",RELEASED:"bg-gray-100 text-gray-800 border-gray-300"};return N[A]||N.PENDING};return e?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-4 flex justify-between items-center rounded-t-lg print:hidden",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"📦 Individual Box QR Codes"}),s.jsxs("p",{className:"text-indigo-100 text-sm mt-1",children:["Shipment: ",n]})]}),s.jsx("button",{onClick:t,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6",children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading box QR codes..."})]}):m?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-5xl mb-4",children:"⚠️"}),s.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:m}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Boxes will be created when shipment is saved"})]}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:"📦"}),s.jsx("p",{className:"text-gray-500",children:"No boxes found for this shipment"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center print:hidden",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Total Boxes: ",i.length]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Each box has its own unique QR code for scanning"})]}),s.jsxs("button",{onClick:y,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print All QR Codes"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(A=>s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 text-center hover:border-indigo-400 transition print:border print:border-black print:break-inside-avoid",children:[s.jsxs("div",{className:"bg-indigo-100 text-indigo-800 font-bold text-lg rounded-md py-2 mb-3",children:["Box #",A.boxNumber]}),o[A.id]&&s.jsx("img",{src:o[A.id],alt:`Box ${A.boxNumber} QR`,className:"mx-auto mb-3"}),s.jsx("p",{className:"text-xs text-gray-600 font-mono break-all mb-2",children:A.qrCode}),s.jsx("div",{className:`text-xs font-semibold px-2 py-1 rounded border inline-block ${w(A.status)}`,children:A.status}),A.rack&&s.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["📍 ",A.rack.code," - ",A.rack.location]})]},A.id))}),i.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("p",{className:"text-lg font-semibold",children:"No boxes found"})]})]})}),s.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t rounded-b-lg print:hidden",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Close"})})]}),s.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .fixed, .fixed * {
            visibility: visible;
          }
          .fixed {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          .print\\:hidden {
            display: none !important;
          }
          .print\\:border {
            border: 1px solid #000 !important;
          }
          .print\\:break-inside-avoid {
            page-break-inside: avoid;
          }
        }
      `})]}):null}const dte=()=>{const[e,t]=I.useState(""),[r,n]=I.useState("all"),[i,a]=I.useState("all"),[o,c]=I.useState([]),[d,f]=I.useState({all:0,pending:0,in_storage:0,partial:0,released:0}),[m,g]=I.useState({all:0,regular:0,warehouse:0}),[b,y]=I.useState(!0),[w,A]=I.useState(""),[N,S]=I.useState(!1),[E,k]=I.useState(null),[P,W]=I.useState(!1),[H,$]=I.useState(!1),[F,L]=I.useState(!1),[J,M]=I.useState(!1),[z,te]=I.useState(!1),[V,Z]=I.useState(null);I.useEffect(()=>{ye()},[r,i,e]);const ye=async()=>{try{y(!0);const q=(await wc.getAll({})).shipments||[],oe={all:q.length,pending:q.filter(he=>he.status==="PENDING").length,in_storage:q.filter(he=>he.status==="IN_STORAGE"||he.status==="ACTIVE").length,partial:q.filter(he=>he.status==="PARTIAL").length,released:q.filter(he=>he.status==="RELEASED").length};f(oe);const ne={all:q.length,regular:q.filter(he=>!he.isWarehouseShipment).length,warehouse:q.filter(he=>he.isWarehouseShipment).length};g(ne);const ge={};r!=="all"&&(ge.status=r==="in_storage"?"IN_STORAGE":r.toUpperCase()),i==="regular"?ge.isWarehouseShipment=!1:i==="warehouse"&&(ge.isWarehouseShipment=!0),e&&(ge.search=e);const _e=(await wc.getAll(ge)).shipments||[];console.log("📦 Shipments loaded:",_e.map(he=>({id:he.referenceId,status:he.status,boxes:he.currentBoxCount}))),c(_e)}catch(je){A(je.message),console.error("Load shipments error:",je)}finally{y(!1)}},ve=async je=>{const q=o.find(ne=>ne.id===je),oe=`🚨 DELETE SHIPMENT

Reference: ${(q==null?void 0:q.referenceId)||"N/A"}
Client: ${(q==null?void 0:q.clientName)||"N/A"}
Boxes: ${(q==null?void 0:q.currentBoxCount)||0}

⚠️ This action CANNOT be undone!

Are you sure you want to delete this shipment?`;if(confirm(oe))try{await wc.delete(je),alert("✅ Shipment deleted successfully!"),ye()}catch(ne){alert("❌ Error deleting shipment: "+ne.message)}},me=je=>{k(je),S(!0)},Ne=je=>{const q=new Date(je.arrivalDate),oe=je.releasedAt?new Date(je.releasedAt):new Date;Math.ceil((oe.getTime()-q.getTime())/(1e3*60*60*24));const ne={shipment:je,invoice:null,releaseDate:je.releasedAt||new Date,releasedBy:"Admin User",collectorID:"N/A",releaseType:je.currentBoxCount===0?"FULL":"PARTIAL",boxesReleased:je.originalBoxCount-je.currentBoxCount};Z(ne),te(!0)},Ie=je=>{switch(je){case"PENDING":return{color:"bg-yellow-100 text-yellow-800",icon:"⏳",label:"Pending"};case"IN_STORAGE":return{color:"bg-green-100 text-green-800",icon:"✅",label:"In Storage"};case"ACTIVE":return{color:"bg-green-100 text-green-800",icon:"✅",label:"In Storage"};case"PARTIAL":return{color:"bg-orange-100 text-orange-800",icon:"⚠",label:"Partial"};case"RELEASED":return{color:"bg-blue-100 text-blue-800",icon:"🔵",label:"Released"};default:return{color:"bg-gray-100 text-gray-800",icon:"⚪",label:je}}};return b?s.jsx("div",{className:"p-6 flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading shipments..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"📦 Warehouse Shipments"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Complete warehouse management with intake, tracking, and release"})]}),s.jsxs("button",{onClick:()=>W(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md",children:[s.jsx(Cu,{className:"h-5 w-5 mr-2"}),"📦 New Shipment Intake"]})]}),w&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Dh,{className:"h-5 w-5 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Shipment Type"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i==="all"?"bg-primary-100 text-primary-700 border border-primary-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["All Types (",m.all,")"]}),s.jsxs("button",{onClick:()=>a("regular"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${i==="regular"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(Pm,{className:"h-4 w-4"}),"Regular Shipments (",m.regular,")"]}),s.jsxs("button",{onClick:()=>a("warehouse"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${i==="warehouse"?"bg-orange-100 text-orange-700 border border-orange-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(Qy,{className:"h-4 w-4"}),"Warehouse Shipments (",m.warehouse,")"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex -mb-px",children:[s.jsx("button",{onClick:()=>n("all"),className:`flex-1 py-4 px-6 text-center font-medium text-sm transition-colors ${r==="all"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"All Shipments"}),d.all>0&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:d.all})]})}),s.jsx("button",{onClick:()=>n("pending"),className:`flex-1 py-4 px-6 text-center font-medium text-sm transition-colors ${r==="pending"?"border-b-2 border-yellow-500 text-yellow-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"⏳ Pending"}),d.pending>0&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:d.pending})]})}),s.jsx("button",{onClick:()=>n("in_storage"),className:`flex-1 py-4 px-6 text-center font-medium text-sm transition-colors ${r==="in_storage"?"border-b-2 border-green-500 text-green-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"✅ In Storage"}),d.in_storage>0&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:d.in_storage})]})}),s.jsx("button",{onClick:()=>n("partial"),className:`flex-1 py-4 px-6 text-center font-medium text-sm transition-colors ${r==="partial"?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"� Partial"}),d.partial>0&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:d.partial})]})}),s.jsx("button",{onClick:()=>n("released"),className:`flex-1 py-4 px-6 text-center font-medium text-sm transition-colors ${r==="released"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"🔵 Released"}),d.released>0&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:d.released})]})})]})}),s.jsx("div",{className:"p-4 bg-gray-50",children:s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by client name, phone, or shipment ID...",value:e,onChange:je=>t(je.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barcode ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pieces"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rack"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Stored"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.map(je=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ko,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:je.referenceId})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.clientName}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(je.receivedDate).toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:je.clientPhone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["📦 ",je.currentBoxCount," / ",je.originalBoxCount," pieces"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center gap-2",children:je.isWarehouseShipment?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800",children:[s.jsx(Qy,{className:"h-3 w-3"}),"Warehouse"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:[s.jsx(Pm,{className:"h-3 w-3"}),"Regular"]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-primary-600",children:je.rackLocations||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("span",{className:"font-semibold",children:[je.receivedDate?Math.ceil((new Date().getTime()-new Date(je.receivedDate).getTime())/(1e3*3600*24)):0," days"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(()=>{const q=Ie(je.status);return s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${q.color}`,children:[s.jsx("span",{children:q.icon}),s.jsx("span",{children:q.label})]})})()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>{k(je),M(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"View QR Codes",children:s.jsx(ko,{className:"h-5 w-5"})}),(je.status==="IN_STORAGE"||je.status==="PARTIAL"||je.status==="ACTIVE"||je.status==="IN STORAGE")&&je.currentBoxCount>0&&s.jsx("button",{onClick:()=>{console.log("🔍 Release button clicked:",{status:je.status,boxes:je.currentBoxCount}),me(je)},className:"text-green-600 hover:text-green-900",title:`Generate Invoice & Release (Status: ${je.status})`,children:s.jsx(Jy,{className:"h-5 w-5"})}),je.status==="RELEASED"&&s.jsx("button",{onClick:()=>Ne(je),className:"text-purple-600 hover:text-purple-900",title:"Print Release Note",children:s.jsx(ju,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>{k(je),L(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:s.jsx(Yp,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>{k(je),$(!0)},className:"text-gray-600 hover:text-gray-900",title:"Edit Shipment",children:s.jsx(sf,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>ve(je.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Su,{className:"h-5 w-5"})})]})})]},je.id)),o.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:"No shipments found"})})]})]})})}),s.jsx(yee,{isOpen:P,onClose:()=>W(!1),onSuccess:ye}),s.jsx(bee,{isOpen:H,onClose:()=>$(!1),shipment:E,onSuccess:ye}),s.jsx(Nee,{isOpen:F,onClose:()=>L(!1),shipmentId:(E==null?void 0:E.id)||""}),s.jsx(xee,{isOpen:N,onClose:()=>S(!1),shipment:E,onSuccess:ye}),s.jsx(ute,{isOpen:J,onClose:()=>M(!1),shipmentId:(E==null?void 0:E.id)||"",shipmentRef:(E==null?void 0:E.referenceId)||""}),z&&V&&s.jsx(pee,{isOpen:z,onClose:()=>te(!1),releaseData:V})]})};function fte({isOpen:e,onClose:t,onSuccess:r}){const[n,i]=I.useState(!1),[a,o]=I.useState({code:"",location:"",rackType:"STORAGE",capacityTotal:100,status:"ACTIVE"}),[c,d]=I.useState(""),[f,m]=I.useState(""),[g,b]=I.useState("");I.useEffect(()=>{e&&(o({code:"",location:"",rackType:"STORAGE",capacityTotal:100,status:"ACTIVE"}),d(""),m(""),b(""))},[e]);const y=E=>{const{name:k,value:P}=E.target;o(W=>({...W,[k]:k==="capacityTotal"?Number(P):P}))},w=async E=>{try{const k=`RACK:${E}`,P=await Uu.toDataURL(k,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});d(P)}catch(k){console.error("QR generation error:",k)}},A=E=>{const k=E.target.value.toUpperCase();o(P=>({...P,code:k})),k.length>0?w(k):d("")},N=()=>{if(!c)return;const E=document.createElement("a");E.href=c,E.download=`rack-${a.code}-qr.png`,document.body.appendChild(E),E.click(),document.body.removeChild(E)},S=async E=>{E.preventDefault(),i(!0),m(""),b("");try{if(!a.code||!a.location)throw new Error("Rack code and location are required");if(a.capacityTotal<=0)throw new Error("Capacity must be greater than 0");const k=`RACK-${a.code}-${Date.now()}`,P={...a,qrCode:k,capacityUsed:0};await _o.create(P),b("Rack created successfully! ✅"),await w(a.code),setTimeout(()=>{r(),t()},2e3)}catch(k){m(k.message||"Failed to create rack")}finally{i(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-purple-600 text-white px-6 py-4 rounded-t-lg flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold",children:"🏪 Create New Rack"}),s.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl font-bold",disabled:n,children:"×"})]}),s.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[f&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:f}),g&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:g}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rack Code ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"code",value:a.code,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent uppercase",placeholder:"A1, B2, C3...",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use format like A1, A2, B1, etc."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"location",value:a.location,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Zone A, Floor 1, Section North...",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rack Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"rackType",value:a.rackType,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"STORAGE",children:"Storage"}),s.jsx("option",{value:"MATERIALS",children:"Materials"}),s.jsx("option",{value:"EQUIPMENT",children:"Equipment"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Capacity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"capacityTotal",value:a.capacityTotal,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"100",min:"1",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of items/boxes"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:a.status,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"ACTIVE",children:"Active"}),s.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),s.jsx("option",{value:"RESERVED",children:"Reserved"})]})]})]})]}),c&&s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"QR Code Preview"}),s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx("img",{src:c,alt:"QR Code",className:"border-2 border-gray-300 rounded p-2"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Scan this code to identify rack: ",s.jsx("span",{className:"font-bold",children:a.code})]}),g&&s.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200 font-medium text-sm",children:"📥 Download QR Code"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:n,children:n?"Creating...":"Create Rack"})]})]})]})}):null}function hte({isOpen:e,onClose:t,onSuccess:r,rack:n}){const[i,a]=I.useState(!1),[o,c]=I.useState({code:"",location:"",rackType:"STORAGE",capacityTotal:100,status:"ACTIVE"}),[d,f]=I.useState(""),[m,g]=I.useState(""),[b,y]=I.useState("");I.useEffect(()=>{e&&n&&(c({code:n.code||"",location:n.location||"",rackType:n.rackType||"STORAGE",capacityTotal:n.capacityTotal||100,status:n.status||"ACTIVE"}),n.code&&A(n.code),g(""),y(""))},[e,n]);const w=P=>{const{name:W,value:H}=P.target;c($=>({...$,[W]:W==="capacityTotal"?Number(H):H}))},A=async P=>{try{const W=`RACK:${P}`,H=await Uu.toDataURL(W,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});f(H)}catch(W){console.error("QR generation error:",W)}},N=P=>{const W=P.target.value.toUpperCase();c(H=>({...H,code:W})),W.length>0?A(W):f("")},S=()=>{if(!d)return;const P=document.createElement("a");P.href=d,P.download=`rack-${o.code}-qr.png`,document.body.appendChild(P),P.click(),document.body.removeChild(P)},E=async P=>{P.preventDefault(),a(!0),g(""),y("");try{if(!o.code||!o.location)throw new Error("Rack code and location are required");if(o.capacityTotal<=0)throw new Error("Capacity must be greater than 0");if(o.capacityTotal<n.capacityUsed)throw new Error(`Cannot reduce capacity below current usage (${n.capacityUsed})`);await _o.update(n.id,o),y("Rack updated successfully! ✅"),setTimeout(()=>{r(),t()},1500)}catch(W){g(W.message||"Failed to update rack")}finally{a(!1)}};if(!e||!n)return null;const k=Math.round(n.capacityUsed/n.capacityTotal*100);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-purple-600 text-white px-6 py-4 rounded-t-lg flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold",children:"✏️ Edit Rack"}),s.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl font-bold",disabled:i,children:"×"})]}),s.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[m&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:m}),b&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:b}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Current Usage"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-blue-700",children:[n.capacityUsed," / ",n.capacityTotal," items (",k,"%)"]}),s.jsx("div",{className:"w-32 bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-blue-600",style:{width:`${k}%`}})})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rack Code ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"code",value:o.code,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent uppercase",placeholder:"A1, B2, C3...",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use format like A1, A2, B1, etc."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"location",value:o.location,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Zone A, Floor 1, Section North...",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rack Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"rackType",value:o.rackType,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"STORAGE",children:"Storage"}),s.jsx("option",{value:"MATERIALS",children:"Materials"}),s.jsx("option",{value:"EQUIPMENT",children:"Equipment"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Capacity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"capacityTotal",value:o.capacityTotal,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"100",min:n.capacityUsed,required:!0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: ",n.capacityUsed," (current usage)"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:o.status,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"ACTIVE",children:"Active"}),s.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),s.jsx("option",{value:"RESERVED",children:"Reserved"})]})]})]})]}),d&&s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"QR Code"}),s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx("img",{src:d,alt:"QR Code",className:"border-2 border-gray-300 rounded p-2"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Scan this code to identify rack: ",s.jsx("span",{className:"font-bold",children:o.code})]}),s.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200 font-medium text-sm",children:"📥 Download QR Code"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",disabled:i,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:i,children:i?"Updating...":"Update Rack"})]})]})]})})}const mte=()=>{const[e,t]=I.useState("all"),[r,n]=I.useState([]),[i,a]=I.useState(!0),[o,c]=I.useState(!1),[d,f]=I.useState(!1),[m,g]=I.useState(null);I.useEffect(()=>{b()},[]);const b=async()=>{try{a(!0);const A=await _o.getAll();n(A.racks||[])}catch(A){console.error("Load racks error:",A)}finally{a(!1)}},y=e==="all"?r:r.filter(A=>A.code.startsWith(e)),w=A=>A>=90?"bg-red-500":A>=75?"bg-yellow-500":"bg-green-500";return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Warehouse Racks"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and manage warehouse storage racks"})]}),s.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[s.jsx(Cu,{className:"h-5 w-5 mr-2"}),"Add Rack"]})]}),i?s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Racks"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.length})]}),s.jsx(Cl,{className:"h-10 w-10 text-primary-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Capacity"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.reduce((A,N)=>A+N.capacityTotal,0)})]}),s.jsx(gw,{className:"h-10 w-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Occupied"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.reduce((A,N)=>A+N.capacityUsed,0)})]}),s.jsxs("div",{className:"text-green-600 text-sm font-medium",children:[r.length>0?Math.round(r.reduce((A,N)=>A+N.capacityUsed,0)/r.reduce((A,N)=>A+N.capacityTotal,0)*100):0,"%"]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.reduce((A,N)=>A+(N.capacityTotal-N.capacityUsed),0)})]}),s.jsxs("div",{className:"text-blue-600 text-sm font-medium",children:[r.length>0?Math.round(r.reduce((A,N)=>A+(N.capacityTotal-N.capacityUsed),0)/r.reduce((A,N)=>A+N.capacityTotal,0)*100):0,"%"]})]})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Sections"}),["A","B","C"].map(A=>s.jsxs("button",{onClick:()=>t(A),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===A?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Section ",A]},A))]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Warehouse Layout"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:y.map(A=>{var E;const N=A.utilization||Math.round(A.capacityUsed/A.capacityTotal*100),S=((E=A.inventory)==null?void 0:E.length)||0;return s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 hover:border-primary-500 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ko,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:A.code})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{g(A),f(!0)},className:"text-gray-500 hover:text-blue-600",title:"Edit Rack",children:s.jsx(sf,{className:"h-4 w-4"})}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${A.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.status})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Capacity"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[A.capacityUsed,"/",A.capacityTotal]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${w(N)}`,style:{width:`${N}%`}})}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:[S," shipments"]}),s.jsxs("span",{children:[N.toFixed(0),"%"]})]}),s.jsx("div",{className:"text-xs text-gray-400 mt-2",children:A.location||`Section ${A.code.charAt(0)}`})]})]},A.id)})})]}),s.jsx(fte,{isOpen:o,onClose:()=>c(!1),onSuccess:b}),s.jsx(hte,{isOpen:d,onClose:()=>f(!1),rack:m,onSuccess:b})]})};function pte({isOpen:e,onClose:t,onSuccess:r}){const[n,i]=I.useState(!1),[a,o]=I.useState({title:"",jobType:"LOCAL",clientName:"",clientPhone:"",fromAddress:"",toAddress:"",scheduledDate:"",estimatedHours:0,totalCost:0,status:"SCHEDULED"}),[c,d]=I.useState([]),[f,m]=I.useState({}),[g,b]=I.useState(""),[y,w]=I.useState("");I.useEffect(()=>{if(e){const E=new Date().toISOString().split("T")[0];o({title:"",jobType:"LOCAL",clientName:"",clientPhone:"",fromAddress:"",toAddress:"",scheduledDate:E,estimatedHours:0,totalCost:0,status:"SCHEDULED"}),b(""),w(""),A(),m({})}},[e]);const A=async()=>{try{const E=await fetch("/api/custom-fields?section=JOB",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(E.ok){const k=await E.json(),P=k.customFields||k,W=Array.isArray(P)?P.filter($=>$.isActive):[];d(W);const H={};W.forEach($=>{H[$.id]=""}),m(H)}}catch(E){console.error("Failed to load custom fields:",E)}},N=E=>{const{name:k,value:P}=E.target;o(W=>({...W,[k]:k==="estimatedHours"||k==="totalCost"?Number(P):P}))},S=async E=>{var k;E.preventDefault(),i(!0),b(""),w("");try{if(!a.title||!a.clientName||!a.clientPhone)throw new Error("Title, client name, and phone are required");if(!a.fromAddress)throw new Error("From address is required");if(!a.scheduledDate)throw new Error("Scheduled date is required");if(a.jobType==="INTERNATIONAL"&&!a.toAddress)throw new Error("To address is required for international moves");const P={...a,scheduledDate:new Date(a.scheduledDate).toISOString()},W=await pp.create(P),H=((k=W.job)==null?void 0:k.id)||W.id;if(c.length>0){const $=Object.entries(f).filter(([F,L])=>L!=="").map(([F,L])=>({customFieldId:F,fieldValue:L}));if($.length>0)try{await fetch(`/api/custom-field-values/JOB/${H}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({values:$})})}catch(F){console.error("Failed to save custom field values:",F)}}w("Moving job created successfully! ✅"),setTimeout(()=>{r(),t()},1500)}catch(P){b(P.message||"Failed to create moving job")}finally{i(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 rounded-t-lg flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold",children:"🚛 Create New Moving Job"}),s.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl font-bold",disabled:n,children:"×"})]}),s.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[g&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:g}),y&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:y}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Job Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Job Title ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"title",value:a.title,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Office Relocation - ABC Company",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Job Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"jobType",value:a.jobType,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"LOCAL",children:"Local Move"}),s.jsx("option",{value:"INTERNATIONAL",children:"International Move"}),s.jsx("option",{value:"PACKING_ONLY",children:"Packing Only"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:a.status,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"SCHEDULED",children:"Scheduled"}),s.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),s.jsx("option",{value:"COMPLETED",children:"Completed"}),s.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Scheduled Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"scheduledDate",value:a.scheduledDate,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Hours"}),s.jsx("input",{type:"number",name:"estimatedHours",value:a.estimatedHours,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.5"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Client Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"clientName",value:a.clientName,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"clientPhone",value:a.clientPhone,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+965 1234 5678",required:!0})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Location Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["From Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"fromAddress",value:a.fromAddress,onChange:N,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Full pickup address...",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["To Address ",a.jobType==="INTERNATIONAL"&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"toAddress",value:a.toAddress,onChange:N,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Full delivery address...",required:a.jobType==="INTERNATIONAL"}),a.jobType==="PACKING_ONLY"&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for packing-only jobs"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Cost Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost (KWD)"}),s.jsx("input",{type:"number",name:"totalCost",value:a.totalCost,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0.00",min:"0",step:"0.001"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional - Can be updated later after job completion"})]})]}),c.length>0&&s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"✨ Custom Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(E=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[E.fieldName,E.isRequired&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),E.fieldType==="TEXT"&&s.jsx("input",{type:"text",value:f[E.id]||"",onChange:k=>m(P=>({...P,[E.id]:k.target.value})),required:E.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:`Enter ${E.fieldName.toLowerCase()}`}),E.fieldType==="NUMBER"&&s.jsx("input",{type:"number",value:f[E.id]||"",onChange:k=>m(P=>({...P,[E.id]:k.target.value})),required:E.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:`Enter ${E.fieldName.toLowerCase()}`}),E.fieldType==="DATE"&&s.jsx("input",{type:"date",value:f[E.id]||"",onChange:k=>m(P=>({...P,[E.id]:k.target.value})),required:E.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent"}),E.fieldType==="DROPDOWN"&&E.fieldOptions&&s.jsxs("select",{value:f[E.id]||"",onChange:k=>m(P=>({...P,[E.id]:k.target.value})),required:E.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"-- Select --"}),(()=>{try{const k=JSON.parse(E.fieldOptions);return Array.isArray(k)?k.map(P=>s.jsx("option",{value:P,children:P},P)):[]}catch{return E.fieldOptions.split(",").map(k=>s.jsx("option",{value:k.trim(),children:k.trim()},k.trim()))}})()]}),E.fieldType==="CHECKBOX"&&s.jsxs("div",{className:"flex items-center h-10",children:[s.jsx("input",{type:"checkbox",checked:f[E.id]==="true",onChange:k=>m(P=>({...P,[E.id]:k.target.checked?"true":"false"})),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-2 focus:ring-green-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Yes"})]})]},E.id))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:n,children:n?"Creating...":"Create Job"})]})]})]})}):null}function gte({isOpen:e,onClose:t,onSuccess:r,job:n}){const[i,a]=I.useState(!1),[o,c]=I.useState({title:"",jobType:"LOCAL",clientName:"",clientPhone:"",fromAddress:"",toAddress:"",scheduledDate:"",estimatedHours:0,totalCost:0,status:"SCHEDULED"}),[d,f]=I.useState([]),[m,g]=I.useState({}),[b,y]=I.useState(""),[w,A]=I.useState("");I.useEffect(()=>{if(e&&n){const k=n.scheduledDate?new Date(n.scheduledDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];c({title:n.title||"",jobType:n.jobType||"LOCAL",clientName:n.clientName||"",clientPhone:n.clientPhone||"",fromAddress:n.fromAddress||"",toAddress:n.toAddress||"",scheduledDate:k,estimatedHours:n.estimatedHours||0,totalCost:n.totalCost||0,status:n.status||"SCHEDULED"}),y(""),A(""),N()}},[e,n]);const N=async()=>{if(n!=null&&n.id)try{const k=await fetch("/api/custom-fields?section=JOB",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(k.ok){const P=await k.json(),W=P.customFields||P,H=Array.isArray(W)?W.filter(F=>F.isActive):[];f(H);const $=await fetch(`/api/custom-field-values/JOB/${n.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if($.ok){const F=await $.json(),L=F.customFieldValues||F,J={};Array.isArray(L)&&L.forEach(M=>{J[M.customFieldId]=M.fieldValue}),g(J)}}}catch(k){console.error("Failed to load custom fields:",k)}},S=k=>{const{name:P,value:W}=k.target;c(H=>({...H,[P]:P==="estimatedHours"||P==="totalCost"?Number(W):W}))},E=async k=>{k.preventDefault(),a(!0),y(""),A("");try{if(!o.title||!o.clientName||!o.clientPhone)throw new Error("Title, client name, and phone are required");if(!o.fromAddress)throw new Error("From address is required");if(!o.scheduledDate)throw new Error("Scheduled date is required");if(o.jobType==="INTERNATIONAL"&&!o.toAddress)throw new Error("To address is required for international moves");const P={...o,scheduledDate:new Date(o.scheduledDate).toISOString()};if(await pp.update(n.id,P),d.length>0){const W=Object.entries(m).filter(([H,$])=>$!=="").map(([H,$])=>({customFieldId:H,fieldValue:$}));if(W.length>0)try{await fetch(`/api/custom-field-values/JOB/${n.id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({values:W})})}catch(H){console.error("Failed to save custom field values:",H)}}A("Moving job updated successfully! ✅"),setTimeout(()=>{r(),t()},1500)}catch(P){y(P.message||"Failed to update moving job")}finally{a(!1)}};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 rounded-t-lg flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold",children:"✏️ Edit Moving Job"}),s.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl font-bold",disabled:i,children:"×"})]}),s.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[b&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:b}),w&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:w}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Job Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Job Title ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"title",value:o.title,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Office Relocation - ABC Company",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Job Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"jobType",value:o.jobType,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"LOCAL",children:"Local Move"}),s.jsx("option",{value:"INTERNATIONAL",children:"International Move"}),s.jsx("option",{value:"PACKING_ONLY",children:"Packing Only"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:o.status,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"SCHEDULED",children:"Scheduled"}),s.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),s.jsx("option",{value:"COMPLETED",children:"Completed"}),s.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Scheduled Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"scheduledDate",value:o.scheduledDate,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Hours"}),s.jsx("input",{type:"number",name:"estimatedHours",value:o.estimatedHours,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.5"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Client Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"clientName",value:o.clientName,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"clientPhone",value:o.clientPhone,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+965 1234 5678",required:!0})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Location Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["From Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"fromAddress",value:o.fromAddress,onChange:S,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Full pickup address...",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["To Address ",o.jobType==="INTERNATIONAL"&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"toAddress",value:o.toAddress,onChange:S,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Full delivery address...",required:o.jobType==="INTERNATIONAL"}),o.jobType==="PACKING_ONLY"&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for packing-only jobs"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Cost Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost (KWD)"}),s.jsx("input",{type:"number",name:"totalCost",value:o.totalCost,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0.00",min:"0",step:"0.001"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Update cost after job completion or quote approval"})]})]}),d.length>0&&s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"✨ Custom Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(k=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[k.fieldName,k.isRequired&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),k.fieldType==="TEXT"&&s.jsx("input",{type:"text",value:m[k.id]||"",onChange:P=>g(W=>({...W,[k.id]:P.target.value})),required:k.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:`Enter ${k.fieldName.toLowerCase()}`}),k.fieldType==="NUMBER"&&s.jsx("input",{type:"number",value:m[k.id]||"",onChange:P=>g(W=>({...W,[k.id]:P.target.value})),required:k.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:`Enter ${k.fieldName.toLowerCase()}`}),k.fieldType==="DATE"&&s.jsx("input",{type:"date",value:m[k.id]||"",onChange:P=>g(W=>({...W,[k.id]:P.target.value})),required:k.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent"}),k.fieldType==="DROPDOWN"&&k.fieldOptions&&s.jsxs("select",{value:m[k.id]||"",onChange:P=>g(W=>({...W,[k.id]:P.target.value})),required:k.isRequired,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"-- Select --"}),(()=>{try{const P=JSON.parse(k.fieldOptions);return Array.isArray(P)?P.map(W=>s.jsx("option",{value:W,children:W},W)):[]}catch{return k.fieldOptions.split(",").map(P=>s.jsx("option",{value:P.trim(),children:P.trim()},P.trim()))}})()]}),k.fieldType==="CHECKBOX"&&s.jsxs("div",{className:"flex items-center h-10",children:[s.jsx("input",{type:"checkbox",checked:m[k.id]==="true",onChange:P=>g(W=>({...W,[k.id]:P.target.checked?"true":"false"})),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-2 focus:ring-green-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Yes"})]})]},k.id))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",disabled:i,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:i,children:i?"Updating...":"Update Job"})]})]})]})})}const xte=()=>{const[e,t]=I.useState("all"),[r,n]=I.useState([]),[i,a]=I.useState(!0),[o,c]=I.useState(!1),[d,f]=I.useState(!1),[m,g]=I.useState(null);I.useEffect(()=>{b()},[e]);const b=async()=>{try{a(!0);const A={};e!=="all"&&(A.status=e.toUpperCase().replace(" ","_"));const N=await pp.getAll(A);n(N.jobs||[])}catch(A){console.error("Load jobs error:",A)}finally{a(!1)}},y=A=>{switch(A){case"Scheduled":return"bg-blue-100 text-blue-800";case"In Progress":return"bg-green-100 text-green-800";case"Completed":return"bg-gray-100 text-gray-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=A=>{switch(A){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Moving Jobs"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage moving operations"})]}),s.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[s.jsx(Cu,{className:"h-5 w-5 mr-2"}),"New Job"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Jobs"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"24"})]}),s.jsx(vc,{className:"h-10 w-10 text-primary-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Progress"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:"3"})]})})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Scheduled"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:"8"})]})})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue"}),s.jsx("p",{className:"text-xl font-bold text-gray-900 mt-2",children:"12,500 KWD"})]})})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Jobs"}),s.jsx("button",{onClick:()=>t("scheduled"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="scheduled"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Scheduled"}),s.jsx("button",{onClick:()=>t("inprogress"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="inprogress"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>t("completed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="completed"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Completed"})]})}),i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading jobs..."})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(A=>{var N;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:A.title}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${y(A.status)}`,children:A.status})]}),s.jsx("p",{className:"text-gray-600 mt-1",children:A.clientName})]}),s.jsxs("div",{className:`text-sm font-semibold ${w(A.priority)}`,children:[A.priority," Priority"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(vc,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsx("span",{className:"font-medium",children:A.jobType})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(BE,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium",children:"From:"}),s.jsx("span",{className:"ml-2",children:A.fromAddress})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("span",{className:"font-medium",children:"To:"}),s.jsx("span",{className:"ml-2",children:A.toAddress})]})]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(uM,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsx("span",{children:new Date(A.scheduledDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Lh,{className:"h-5 w-5 mr-2 text-gray-400"}),s.jsx("div",{className:"flex items-center space-x-1",children:(N=A.assignments)==null?void 0:N.map(S=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:S.user.name},S.id))})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Estimated Cost"}),s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[A.totalCost||0," KWD"]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200 flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{g(A),f(!0)},className:"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 font-medium text-sm flex items-center justify-center gap-2",children:[s.jsx(sf,{className:"h-4 w-4"}),"Edit"]}),s.jsxs("button",{onClick:async()=>{if(confirm(`Delete job "${A.title}"?`))try{await pp.delete(A.id),b()}catch(S){console.error("Delete error:",S),alert("Failed to delete job")}},className:"flex-1 px-4 py-2 bg-red-50 text-red-600 rounded-md hover:bg-red-100 font-medium text-sm flex items-center justify-center gap-2",children:[s.jsx(Su,{className:"h-4 w-4"}),"Delete"]})]})]})]},A.id)})}),s.jsx(pte,{isOpen:o,onClose:()=>c(!1),onSuccess:b}),s.jsx(gte,{isOpen:d,onClose:()=>f(!1),job:m,onSuccess:b})]})},yte=[{name:"Indigo Purple",primary:"#4F46E5",secondary:"#7C3AED",accent:"#10B981"},{name:"Blue Cyan",primary:"#0EA5E9",secondary:"#06B6D4",accent:"#8B5CF6"},{name:"Green",primary:"#10B981",secondary:"#059669",accent:"#F59E0B"},{name:"Amber Red",primary:"#F59E0B",secondary:"#EF4444",accent:"#3B82F6"}],vte=()=>{const[e,t]=I.useState({name:"",email:"",phone:"",address:"",website:"",logo:null,primaryColor:"#4F46E5",secondaryColor:"#7C3AED",accentColor:"#10B981",showCompanyName:!0,logoSize:"medium"}),[r,n]=I.useState(!1),[i,a]=I.useState(!0),[o,c]=I.useState(null),[d,f]=I.useState(null),[m,g]=I.useState(null);I.useEffect(()=>{(async()=>{try{const E=(await JA.getInfo()).company;t({name:E.name||"",email:E.email||"",phone:E.phone||"",address:E.address||"",website:E.website||"",logo:E.logo||null,primaryColor:E.primaryColor||"#4F46E5",secondaryColor:E.secondaryColor||"#7C3AED",accentColor:E.accentColor||"#10B981",showCompanyName:E.showCompanyName!==!1,logoSize:E.logoSize||"medium"}),E.logo&&g(E.logo)}catch(S){console.error("Failed to load company data:",S),c({type:"error",text:"Failed to load company information"})}finally{a(!1)}})()},[]);const b=N=>{var E;const S=(E=N.target.files)==null?void 0:E[0];if(S){if(S.size>2*1024*1024){c({type:"error",text:"Logo file size must be less than 2MB"});return}f(S);const k=new FileReader;k.onloadend=()=>{g(k.result)},k.readAsDataURL(S)}},y=async()=>{if(!d)return null;try{const N=new FormData;N.append("logo",d);const S=localStorage.getItem("authToken"),E=await fetch("/api/upload/logo",{method:"POST",headers:{Authorization:`Bearer ${S}`},body:N});if(E.ok)return(await E.json()).logoUrl}catch(N){console.error("Failed to upload logo:",N)}return null},w=async()=>{n(!0),c(null);try{let N=e.logo;if(d){const S=await y();S&&(N=S)}await JA.updateInfo({name:e.name,email:e.email,phone:e.phone,website:e.website,address:e.address,logo:N,primaryColor:e.primaryColor,secondaryColor:e.secondaryColor,accentColor:e.accentColor,showCompanyName:e.showCompanyName,logoSize:e.logoSize}),c({type:"success",text:"Company settings saved successfully!"}),f(null),setTimeout(()=>{window.location.reload()},1500)}catch(N){c({type:"error",text:N.message||"Failed to save company information"})}finally{n(!1)}},A=N=>{t(S=>({...S,primaryColor:N.primary,secondaryColor:N.secondary,accentColor:N.accent}))};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading company information..."})]})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Company & Branding"}),s.jsx("p",{className:"text-gray-600",children:"Manage your company details, logo, and brand colors"})]}),s.jsx("button",{onClick:w,disabled:r,className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(bi,{className:"h-5 w-5"}),s.jsx("span",{children:"Save Changes"})]})})]}),o&&s.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-3 ${o.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[o.type==="success"?s.jsx(bi,{className:"h-6 w-6"}):s.jsx(to,{className:"h-6 w-6"}),s.jsx("span",{className:"font-medium",children:o.text})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(tv,{className:"h-6 w-6 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Company Logo"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[m?s.jsx("img",{src:m,alt:"Company Logo",className:"w-24 h-24 rounded-lg object-cover border-2 border-gray-200"}):s.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:s.jsx(X1,{className:"h-8 w-8 text-gray-400"})}),s.jsxs("label",{className:"absolute -bottom-2 -right-2 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors shadow-lg",children:[s.jsx(tv,{className:"h-4 w-4"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Upload Company Logo"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG, SVG up to 2MB. Recommended: 200x200px"}),d&&s.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["✓ New logo selected: ",d.name]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(X1,{className:"h-6 w-6 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Company Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:e.name,onChange:N=>t({...e,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Demo Warehouse Co."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[s.jsx(Xp,{className:"h-4 w-4"}),s.jsx("span",{children:"Email Address"})]}),s.jsx("input",{type:"email",value:e.email,onChange:N=>t({...e,email:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"contact@company.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[s.jsx(VM,{className:"h-4 w-4"}),s.jsx("span",{children:"Phone Number"})]}),s.jsx("input",{type:"tel",value:e.phone,onChange:N=>t({...e,phone:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"+965 1234 5678"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[s.jsx(DM,{className:"h-4 w-4"}),s.jsx("span",{children:"Website"})]}),s.jsx("input",{type:"url",value:e.website,onChange:N=>t({...e,website:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://company.com"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center space-x-2",children:[s.jsx(BE,{className:"h-4 w-4"}),s.jsx("span",{children:"Address"})]}),s.jsx("textarea",{value:e.address,onChange:N=>t({...e,address:N.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Kuwait City, Kuwait"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(Jp,{className:"h-6 w-6 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Brand Colors"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quick Presets"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:yte.map(N=>s.jsxs("button",{onClick:()=>A(N),className:"p-3 border-2 border-gray-200 rounded-lg hover:border-primary-500 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:N.primary}}),s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:N.secondary}}),s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:N.accent}})]}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:N.name})]},N.name))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"color",value:e.primaryColor,onChange:N=>t({...e,primaryColor:N.target.value}),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:e.primaryColor,onChange:N=>t({...e,primaryColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono",placeholder:"#4F46E5"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"color",value:e.secondaryColor,onChange:N=>t({...e,secondaryColor:N.target.value}),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:e.secondaryColor,onChange:N=>t({...e,secondaryColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono",placeholder:"#7C3AED"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"color",value:e.accentColor,onChange:N=>t({...e,accentColor:N.target.value}),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:e.accentColor,onChange:N=>t({...e,accentColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono",placeholder:"#10B981"})]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Show Company Name on Login"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Display company name below logo on login page"})]}),s.jsx("button",{onClick:()=>t({...e,showCompanyName:!e.showCompanyName}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${e.showCompanyName?"bg-primary-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.showCompanyName?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Size on Login Page"}),s.jsxs("select",{value:e.logoSize,onChange:N=>t({...e,logoSize:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"small",children:"Small (48px)"}),s.jsx("option",{value:"medium",children:"Medium (80px)"}),s.jsx("option",{value:"large",children:"Large (128px)"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Login Page Preview"}),s.jsx("div",{className:"relative h-64 rounded-lg overflow-hidden flex items-center justify-center",style:{background:`linear-gradient(135deg, ${e.primaryColor}15 0%, ${e.secondaryColor}15 100%)`},children:s.jsxs("div",{className:"text-center",children:[m?s.jsx("img",{src:m,alt:"Logo",className:"h-16 w-16 mx-auto mb-4 rounded-lg object-cover"}):s.jsx("div",{className:"h-16 w-16 mx-auto mb-4 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${e.primaryColor} 0%, ${e.secondaryColor} 100%)`},children:s.jsx(X1,{className:"h-8 w-8 text-white"})}),e.showCompanyName&&s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.name||"Company Name"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Sign in to access your account"})]})})]})]})},bte={ADMIN:"bg-red-100 text-red-800",MANAGER:"bg-blue-100 text-blue-800",WORKER:"bg-green-100 text-green-800"},wte={ACTIVE:"bg-green-100 text-green-800",INACTIVE:"bg-gray-100 text-gray-800"},Nte=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!0),[i,a]=I.useState(""),[o,c]=I.useState("ALL"),[d,f]=I.useState("ALL"),[m,g]=I.useState(!1),[b,y]=I.useState(null);I.useEffect(()=>{w()},[]);const w=async()=>{try{const E=(await MJ.getAll()).users.map(k=>({id:k.id,name:k.name,email:k.email,phone:k.phone||"",role:k.role,status:k.isActive?"ACTIVE":"INACTIVE",skills:k.skills?typeof k.skills=="string"?JSON.parse(k.skills):k.skills:[],joinedAt:k.createdAt?new Date(k.createdAt).toLocaleDateString():"",lastActive:new Date(k.updatedAt).toLocaleDateString(),avatar:k.avatar||void 0}));t(E)}catch(S){console.error("Failed to load users:",S)}finally{n(!1)}},A=e.filter(S=>{const E=S.name.toLowerCase().includes(i.toLowerCase())||S.email.toLowerCase().includes(i.toLowerCase()),k=o==="ALL"||S.role===o,P=d==="ALL"||S.status===d;return E&&k&&P}),N=S=>S.split(" ").map(E=>E[0]).join("").toUpperCase();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage team members, roles, and permissions"})]}),s.jsxs("button",{onClick:()=>g(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[s.jsx(b4,{className:"h-5 w-5"}),s.jsx("span",{children:"Add User"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lh,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(y4,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(S=>S.status==="ACTIVE").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Om,{className:"h-8 w-8 text-red-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Admins"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(S=>S.role==="ADMIN").length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(TM,{className:"h-8 w-8 text-yellow-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(S=>S.status==="INACTIVE").length})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Zp,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:i,onChange:S=>a(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dh,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:o,onChange:S=>c(S.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Roles"}),s.jsx("option",{value:"ADMIN",children:"Admin"}),s.jsx("option",{value:"MANAGER",children:"Manager"}),s.jsx("option",{value:"WORKER",children:"Worker"})]})]}),s.jsx("div",{children:s.jsxs("select",{value:d,onChange:S=>f(S.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"All Status"}),s.jsx("option",{value:"ACTIVE",children:"Active"}),s.jsx("option",{value:"INACTIVE",children:"Inactive"})]})})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role & Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Skills"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:S.avatar?s.jsx("img",{className:"h-10 w-10 rounded-full",src:S.avatar,alt:S.name}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary-600",children:N(S.name)})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name}),s.jsx("div",{className:"text-sm text-gray-500",children:S.email}),s.jsx("div",{className:"text-sm text-gray-500",children:S.phone})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${bte[S.role]}`,children:S.role}),s.jsx("br",{}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${wte[S.status]}`,children:S.status})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.skills.slice(0,2).map((E,k)=>s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:E},k)),S.skills.length>2&&s.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:["+",S.skills.length-2," more"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.lastActive}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>y(S),className:"text-primary-600 hover:text-primary-900",children:s.jsx(Yp,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(sf,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(Su,{className:"h-4 w-4"})})]})})]},S.id))})]})})}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Role Permissions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Om,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("h4",{className:"font-medium text-red-900",children:"Administrator"})]}),s.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[s.jsx("li",{children:"• Full system access"}),s.jsx("li",{children:"• User management"}),s.jsx("li",{children:"• Company settings"}),s.jsx("li",{children:"• Financial reports"}),s.jsx("li",{children:"• System configuration"})]})]}),s.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Lh,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsx("h4",{className:"font-medium text-blue-900",children:"Manager"})]}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Job scheduling"}),s.jsx("li",{children:"• Team management"}),s.jsx("li",{children:"• Inventory oversight"}),s.jsx("li",{children:"• Performance reports"}),s.jsx("li",{children:"• Expense approval"})]})]}),s.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(y4,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("h4",{className:"font-medium text-green-900",children:"Worker"})]}),s.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[s.jsx("li",{children:"• QR scanning operations"}),s.jsx("li",{children:"• Job execution"}),s.jsx("li",{children:"• Inventory updates"}),s.jsx("li",{children:"• Photo uploads"}),s.jsx("li",{children:"• Basic reporting"})]})]})]})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New User"}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:async S=>{S.preventDefault();const E=new FormData(S.currentTarget),k={name:E.get("name"),email:E.get("email"),password:E.get("password"),role:E.get("role")};try{const P=localStorage.getItem("authToken"),W=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify(k)}),H=await W.json();W.ok?(alert("User created successfully!"),g(!1),w(),S.currentTarget.reset()):alert(H.error||"Failed to create user")}catch(P){alert(P.message||"Failed to create user")}},children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"user@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),s.jsx("input",{type:"password",name:"password",required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Minimum 6 characters"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),s.jsxs("select",{name:"role",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a role"}),s.jsx("option",{value:"ADMIN",children:"Admin - Full system access"}),s.jsx("option",{value:"MANAGER",children:"Manager - Team & operations management"}),s.jsx("option",{value:"WORKER",children:"Worker - Daily operations"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[s.jsx(b4,{className:"h-5 w-5"}),s.jsx("span",{children:"Create User"})]})]})]})]})})]})},Ate=()=>{const[e,t]=I.useState({templateType:"MODERN",primaryColor:"#2563eb",secondaryColor:"#64748b",showLogo:!0,showCompanyAddress:!0,showClientDetails:!0,footerText:"Thank you for your business!",termsConditions:"",invoicePrefix:"INV",invoiceStartNumber:1001}),[r,n]=I.useState(!0),[i,a]=I.useState(!1),[o,c]=I.useState(null);I.useEffect(()=>{d()},[]);const d=async()=>{try{const b=(await QA.get()).settings;t({templateType:"MODERN",primaryColor:b.primaryColor||"#2563eb",secondaryColor:b.accentColor||"#64748b",showLogo:b.showLogo!==void 0?b.showLogo:!0,showCompanyAddress:!0,showClientDetails:!0,footerText:b.footerText||"Thank you for your business!",termsConditions:b.terms||"",invoicePrefix:b.prefix||"INV",invoiceStartNumber:b.nextNumber||1001})}catch(g){console.error("Failed to load invoice settings:",g),c({type:"error",text:"Failed to load invoice settings"})}finally{n(!1)}},f=async()=>{a(!0),c(null);try{await QA.update({prefix:e.invoicePrefix,nextNumber:e.invoiceStartNumber,primaryColor:e.primaryColor,accentColor:e.secondaryColor,showLogo:e.showLogo,footerText:e.footerText,terms:e.termsConditions}),c({type:"success",text:"Invoice settings saved successfully!"}),setTimeout(()=>c(null),3e3)}catch(g){c({type:"error",text:g.message||"Failed to save invoice settings"})}finally{a(!1)}};if(r)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading invoice settings..."})]})});const m=[{id:"MODERN",name:"Modern",preview:"📄"},{id:"CLASSIC",name:"Classic",preview:"📋"},{id:"MINIMAL",name:"Minimal",preview:"📝"}];return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Jp,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Advanced Template Configuration"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Access the full template customization system with 70+ configuration options for invoices and release notes"}),s.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 mb-4",children:[s.jsx("li",{children:"• Company branding & logo upload"}),s.jsx("li",{children:"• Invoice & release note layouts"}),s.jsx("li",{children:"• Custom colors, fonts & styling"}),s.jsx("li",{children:"• Print settings & localization"})]}),s.jsxs(Jf,{to:"/settings/templates",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:["Open Template Settings",s.jsx(eM,{className:"h-4 w-4"})]})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice & Templates"}),s.jsx("p",{className:"text-gray-600",children:"Customize invoice appearance and branding"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[o&&s.jsx("div",{className:`text-sm ${o.type==="success"?"text-green-600":"text-red-600"}`,children:o.text}),s.jsx("button",{onClick:f,disabled:i,className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Changes"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Template"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:m.map(g=>s.jsxs("div",{onClick:()=>t(b=>({...b,templateType:g.id})),className:`border-2 rounded-lg p-6 cursor-pointer transition-all ${e.templateType===g.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300"}`,children:[s.jsx("div",{className:"text-4xl text-center mb-2",children:g.preview}),s.jsx("div",{className:"text-center font-medium",children:g.name}),e.templateType===g.id&&s.jsx("div",{className:"text-center mt-2",children:s.jsx(bi,{className:"h-5 w-5 text-primary-600 mx-auto"})})]},g.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Brand Colors"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"color",value:e.primaryColor,onChange:g=>t(b=>({...b,primaryColor:g.target.value})),className:"h-10 w-20 rounded border border-gray-300"}),s.jsx("input",{type:"text",value:e.primaryColor,onChange:g=>t(b=>({...b,primaryColor:g.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"color",value:e.secondaryColor,onChange:g=>t(b=>({...b,secondaryColor:g.target.value})),className:"h-10 w-20 rounded border border-gray-300"}),s.jsx("input",{type:"text",value:e.secondaryColor,onChange:g=>t(b=>({...b,secondaryColor:g.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Prefix"}),s.jsx("input",{type:"text",value:e.invoicePrefix,onChange:g=>t(b=>({...b,invoicePrefix:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starting Number"}),s.jsx("input",{type:"number",value:e.invoiceStartNumber,onChange:g=>t(b=>({...b,invoiceStartNumber:parseInt(g.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:[{key:"showLogo",label:"Show Company Logo"},{key:"showCompanyAddress",label:"Show Company Address"},{key:"showClientDetails",label:"Show Client Details"}].map(g=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e[g.key],onChange:b=>t(y=>({...y,[g.key]:b.target.checked})),className:"h-4 w-4 text-primary-600 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:g.label})]},g.key))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Footer & Terms"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Footer Text"}),s.jsx("input",{type:"text",value:e.footerText,onChange:g=>t(b=>({...b,footerText:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Terms & Conditions"}),s.jsx("textarea",{value:e.termsConditions,onChange:g=>t(b=>({...b,termsConditions:g.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Enter your terms and conditions..."})]})]})]}),s.jsx("button",{className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700",children:"Save Invoice Settings"})]})},Cte=()=>{const[e,t]=I.useState("general"),[r,n]=I.useState(null),[i,a]=I.useState([]),[o,c]=I.useState(!0),[d,f]=I.useState(!1),[m,g]=I.useState(null);I.useEffect(()=>{b(),y()},[]);const b=async()=>{try{const N=await Io.getSettings();n(N)}catch(N){console.error("Failed to load billing settings:",N),g({type:"error",text:"Failed to load billing settings"})}finally{c(!1)}},y=async()=>{try{const N=await Io.getChargeTypes();a(N)}catch(N){console.error("Failed to load charge types:",N)}},w=async()=>{if(r){if(!r.currency||r.currency.trim()===""){g({type:"error",text:"Currency is required"});return}if(!r.invoicePrefix||r.invoicePrefix.trim()===""){g({type:"error",text:"Invoice prefix is required"});return}if(r.taxRate!==void 0&&(r.taxRate<0||r.taxRate>100)){g({type:"error",text:"Tax rate must be between 0 and 100"});return}if(r.invoiceDueDays!==void 0&&r.invoiceDueDays<0){g({type:"error",text:"Invoice due days must be positive"});return}if(r.gracePeriodDays!==void 0&&r.gracePeriodDays<0){g({type:"error",text:"Grace period days must be positive"});return}if(r.iban&&r.iban.trim()!==""&&!/^[A-Z]{2}[0-9]{2}[A-Z0-9]{1,30}$/.test(r.iban.replace(/\s/g,""))){g({type:"error",text:"Invalid IBAN format"});return}f(!0);try{await Io.updateSettings(r),g({type:"success",text:"Billing settings updated successfully!"}),setTimeout(()=>g(null),3e3)}catch(N){console.error("Failed to save settings:",N),g({type:"error",text:N.message||"Failed to save billing settings"})}finally{f(!1)}}},A=[{id:"general",name:"General Settings",icon:Eo},{id:"invoice",name:"Invoice Design",icon:Jp},{id:"bank",name:"Bank Details",icon:Rh},{id:"terms",name:"Terms & Conditions",icon:eo},{id:"charges",name:"Charge Types",icon:Eo}];return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Billing Settings"}),s.jsx("p",{className:"text-gray-600",children:"Configure storage charges, invoice customization, and payment details"})]}),m&&s.jsx("div",{className:`p-4 rounded-lg ${m.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center",children:[m.type==="success"?s.jsx(bi,{className:"h-5 w-5 mr-2"}):s.jsx(to,{className:"h-5 w-5 mr-2"}),m.text]})}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:A.map(N=>{const S=N.icon;return s.jsxs("button",{onClick:()=>t(N.id),className:`
                  py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2
                  ${e===N.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[s.jsx(S,{className:"h-5 w-5"}),N.name]},N.id)})})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e==="general"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"General Billing Settings"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),s.jsx("input",{type:"text",value:r.currency,onChange:N=>n({...r,currency:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"KWD"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Prefix"}),s.jsx("input",{type:"text",value:r.invoicePrefix,onChange:N=>n({...r,invoicePrefix:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"INV"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Rate (%)"}),s.jsx("input",{type:"number",step:"0.01",value:r.taxRate||"",onChange:N=>n({...r,taxRate:parseFloat(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"5.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Due Days"}),s.jsx("input",{type:"number",value:r.invoiceDueDays||"",onChange:N=>n({...r,invoiceDueDays:parseInt(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grace Period (Days)"}),s.jsx("input",{type:"number",value:r.gracePeriodDays||"",onChange:N=>n({...r,gracePeriodDays:parseInt(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"3"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Days before storage charges apply"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Storage Charge"}),s.jsx("input",{type:"number",step:"0.01",value:r.minimumStorageCharge||"",onChange:N=>n({...r,minimumStorageCharge:parseFloat(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"10.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Rate Type"}),s.jsxs("select",{value:r.storageRateType,onChange:N=>n({...r,storageRateType:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"PER_BOX",children:"Per Box"}),s.jsx("option",{value:"PER_CUBIC_M",children:"Per Cubic Meter"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Rate Per Box"}),s.jsx("input",{type:"number",step:"0.001",value:r.storageRatePerBox||"",onChange:N=>n({...r,storageRatePerBox:parseFloat(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0.500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Rate per box per day"})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:w,disabled:d,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:d?"Saving...":"Save Settings"})})]}),e==="invoice"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Design & Layout"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),s.jsx("input",{type:"text",value:r.logoUrl||"",onChange:N=>n({...r,logoUrl:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://example.com/logo.png"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Position"}),s.jsxs("select",{value:r.logoPosition,onChange:N=>n({...r,logoPosition:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"LEFT",children:"Left"}),s.jsx("option",{value:"CENTER",children:"Center"}),s.jsx("option",{value:"RIGHT",children:"Right"})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[s.jsx("input",{type:"checkbox",checked:r.showCompanyStamp,onChange:N=>n({...r,showCompanyStamp:N.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{children:"Show Company Stamp"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:r.primaryColor||"#1E40AF",onChange:N=>n({...r,primaryColor:N.target.value}),className:"h-10 w-20 rounded border border-gray-300"}),s.jsx("input",{type:"text",value:r.primaryColor||"",onChange:N=>n({...r,primaryColor:N.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"#1E40AF"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:r.secondaryColor||"#64748B",onChange:N=>n({...r,secondaryColor:N.target.value}),className:"h-10 w-20 rounded border border-gray-300"}),s.jsx("input",{type:"text",value:r.secondaryColor||"",onChange:N=>n({...r,secondaryColor:N.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"#64748B"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Registration No."}),s.jsx("input",{type:"text",value:r.taxRegistrationNo||"",onChange:N=>n({...r,taxRegistrationNo:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"123456789"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Registration No."}),s.jsx("input",{type:"text",value:r.companyRegistrationNo||"",onChange:N=>n({...r,companyRegistrationNo:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"CR-123456"})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:w,disabled:d,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:d?"Saving...":"Save Settings"})})]}),e==="bank"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bank Account Details"}),s.jsx("p",{className:"text-sm text-gray-600",children:"These details will be shown on invoices for customer payments"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),s.jsx("input",{type:"text",value:r.bankName||"",onChange:N=>n({...r,bankName:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"National Bank of Kuwait"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Name"}),s.jsx("input",{type:"text",value:r.branchName||"",onChange:N=>n({...r,branchName:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Salmiya Branch"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Name"}),s.jsx("input",{type:"text",value:r.accountName||"",onChange:N=>n({...r,accountName:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your Company Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),s.jsx("input",{type:"text",value:r.accountNumber||"",onChange:N=>n({...r,accountNumber:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"1234567890"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IBAN"}),s.jsx("input",{type:"text",value:r.iban||"",onChange:N=>n({...r,iban:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"KW81CBKU0000000000001234560101"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SWIFT Code"}),s.jsx("input",{type:"text",value:r.swiftCode||"",onChange:N=>n({...r,swiftCode:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"CBKUKWKW"})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:w,disabled:d,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:d?"Saving...":"Save Settings"})})]}),e==="terms"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Terms & Conditions"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Customize the text shown on your invoices"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Instructions"}),s.jsx("textarea",{value:r.paymentInstructions||"",onChange:N=>n({...r,paymentInstructions:N.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Please make payment within 10 days of invoice date..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Terms and Conditions"}),s.jsx("textarea",{value:r.termsAndConditions||"",onChange:N=>n({...r,termsAndConditions:N.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:`1. Payment is due within the specified period...
2. Late payments may incur additional charges...
3. All charges are in KWD unless otherwise stated...`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Footer Text"}),s.jsx("input",{type:"text",value:r.footerText||"",onChange:N=>n({...r,footerText:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Thank you for your business"})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:w,disabled:d,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:d?"Saving...":"Save Settings"})})]}),e==="charges"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Charge Types"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage custom charges for storage and release"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[s.jsx(Cu,{className:"h-5 w-5"}),"Add Charge Type"]})]}),s.jsx("div",{className:"space-y-3",children:i.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-primary-300",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:N.name}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N.category==="STORAGE"?"bg-blue-100 text-blue-700":N.category==="RELEASE"?"bg-green-100 text-green-700":N.category==="SERVICE"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:N.category}),N.isActive?s.jsx(bi,{className:"h-5 w-5 text-green-500"}):s.jsx(to,{className:"h-5 w-5 text-gray-400"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[s.jsxs("span",{className:"text-gray-700",children:[s.jsxs("strong",{children:[N.rate.toFixed(3)," ",r.currency]})," (",N.calculationType.replace("_"," ").toLowerCase(),")"]}),N.minCharge&&s.jsxs("span",{className:"text-gray-500",children:["Min: ",N.minCharge," ",r.currency]}),N.maxCharge&&s.jsxs("span",{className:"text-gray-500",children:["Max: ",N.maxCharge," ",r.currency]}),s.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${N.isTaxable?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:N.isTaxable?"Taxable":"Non-taxable"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:s.jsx(sf,{className:"h-5 w-5"})}),s.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(Su,{className:"h-5 w-5"})})]})]},N.id))}),i.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Eo,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{children:"No charge types configured yet"}),s.jsx("p",{className:"text-sm",children:"Add your first charge type to get started"})]})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-red-600",children:"Failed to load billing settings"})})},jte=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Integrations"}),s.jsx("p",{className:"text-gray-600",children:"Connect third-party services and APIs"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ME,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"WhatsApp Business API"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Send job updates and notifications via WhatsApp"})]})]}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Configure"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),s.jsx("input",{type:"password",placeholder:"Enter WhatsApp API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",placeholder:"+965 XXXX XXXX",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xp,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"SMTP configuration for email alerts"})]})]}),s.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Connected"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(mM,{className:"h-6 w-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"SMS Gateway"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Send SMS notifications to customers"})]})]}),s.jsx("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300",children:"Connect"})]})})]}),cC={STORAGE:"bg-blue-100 text-blue-800",MATERIALS:"bg-green-100 text-green-800",EQUIPMENT:"bg-purple-100 text-purple-800"},Ste={ACTIVE:"bg-green-100 text-green-800",MAINTENANCE:"bg-yellow-100 text-yellow-800",INACTIVE:"bg-red-100 text-red-800"},Ete=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[i,a]=I.useState(!0),[o,c]=I.useState(!1),[d,f]=I.useState(!1),[m,g]=I.useState(null),[b,y]=I.useState({code:"",location:"",rackType:"STORAGE",capacityTotal:100}),[w,A]=I.useState({fieldName:"",fieldType:"TEXT",fieldOptions:[""],isRequired:!1,section:"SHIPMENT"});I.useEffect(()=>{N()},[]);const N=async()=>{try{a(!0);const[V,Z]=await Promise.all([_o.getAll(),N1.getAll()]),ye=V.racks.map(Ie=>({id:Ie.id,code:Ie.code,location:Ie.location||"",type:Ie.rackType,capacity:Ie.capacityTotal,currentLoad:Ie.capacityUsed,qrCode:Ie.qrCode,status:Ie.status})),ve=Z.customFields||Z,Ne=(Array.isArray(ve)?ve:[]).map(Ie=>({id:Ie.id,name:Ie.fieldName,type:Ie.fieldType,options:Ie.fieldOptions||void 0,required:Ie.isRequired,section:Ie.section,order:1}));t(ye),n(Ne)}catch(V){console.error("Failed to load data:",V),alert("Failed to load racks and custom fields")}finally{a(!1)}},S=V=>Math.round(V.currentLoad/V.capacity*100),E=V=>V>=90?"bg-red-500":V>=70?"bg-yellow-500":"bg-green-500",k=async()=>{try{if(!b.code||!b.location){alert("Please fill in all required fields");return}const V=await _o.create(b),Z={id:V.rack.id,code:V.rack.code,location:V.rack.location||"",type:V.rack.rackType,capacity:V.rack.capacityTotal,currentLoad:V.rack.capacityUsed,qrCode:V.rack.qrCode,status:V.rack.status};t([...e,Z]),y({code:"",location:"",rackType:"STORAGE",capacityTotal:100}),c(!1)}catch(V){console.error("Failed to create rack:",V),alert(V.message||"Failed to create rack")}},P=async()=>{try{if(!w.fieldName){alert("Please provide a field name");return}const V={...w,fieldOptions:w.fieldType==="DROPDOWN"?w.fieldOptions.filter(ye=>ye.trim()):null};console.log("Creating field with data:",V);const Z=await N1.create(V);console.log("API Response:",Z),await N(),A({fieldName:"",fieldType:"TEXT",fieldOptions:[""],isRequired:!1,section:"SHIPMENT"}),f(!1),alert("Custom field added successfully!")}catch(V){console.error("Failed to create custom field:",V),alert(V.message||"Failed to create custom field")}},W=async V=>{if(confirm("Are you sure you want to delete this rack?"))try{await _o.delete(V),t(e.filter(Z=>Z.id!==V))}catch(Z){console.error("Failed to delete rack:",Z),alert(Z.message||"Failed to delete rack")}},H=async V=>{if(confirm("Are you sure you want to delete this custom field?"))try{await N1.delete(V),n(r.filter(Z=>Z.id!==V))}catch(Z){console.error("Failed to delete custom field:",Z),alert(Z.message||"Failed to delete custom field")}},$=V=>{g(V),A({fieldName:V.name,fieldType:V.type,fieldOptions:V.options||[""],isRequired:V.required,section:V.section}),f(!0)},F=async()=>{if(m)try{if(!w.fieldName){alert("Please provide a field name");return}const V={fieldName:w.fieldName,fieldType:w.fieldType,fieldOptions:w.fieldType==="DROPDOWN"?w.fieldOptions.filter(ye=>ye.trim()):null,isRequired:w.isRequired,section:w.section},Z=await N1.update(m.id,V);console.log("Update response:",Z),await N(),A({fieldName:"",fieldType:"TEXT",fieldOptions:[""],isRequired:!1,section:"SHIPMENT"}),g(null),f(!1),alert("Custom field updated successfully!")}catch(V){console.error("Failed to update custom field:",V),alert(V.message||"Failed to update custom field")}},L=()=>{g(null),A({fieldName:"",fieldType:"TEXT",fieldOptions:[""],isRequired:!1,section:"SHIPMENT"}),f(!1)},J=V=>{const Z={priority:{fieldName:"Priority Level",fieldType:"DROPDOWN",fieldOptions:["Low","Medium","High","Urgent"],isRequired:!1,section:"SHIPMENT"},insurance:{fieldName:"Insurance Value",fieldType:"NUMBER",fieldOptions:[""],isRequired:!0,section:"SHIPMENT"},customerType:{fieldName:"Customer Type",fieldType:"DROPDOWN",fieldOptions:["Individual","Corporate","Government"],isRequired:!1,section:"JOB"},deliveryInstructions:{fieldName:"Delivery Instructions",fieldType:"TEXT",fieldOptions:[""],isRequired:!1,section:"SHIPMENT"},fragile:{fieldName:"Fragile Item",fieldType:"CHECKBOX",fieldOptions:[""],isRequired:!1,section:"SHIPMENT"}};Z[V]&&A(Z[V])},M=()=>{A(V=>({...V,fieldOptions:[...V.fieldOptions,""]}))},z=(V,Z)=>{A(ye=>({...ye,fieldOptions:ye.fieldOptions.map((ve,me)=>me===V?Z:ve)}))},te=V=>{A(Z=>({...Z,fieldOptions:Z.fieldOptions.filter((ye,ve)=>ve!==V)}))};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading system settings..."})]})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Configuration"}),s.jsx("p",{className:"text-gray-600",children:"Configure racks, custom fields, and operational settings"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zM,{className:"h-6 w-6 text-primary-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Warehouse Layout"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Total Capacity: ",e.reduce((V,Z)=>V+Z.capacity,0)," units"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[e.map(V=>{const Z=S(V);return s.jsx("div",{className:`relative border-2 rounded-lg p-4 transition-all hover:shadow-md ${V.status==="ACTIVE"?"border-green-200 bg-green-50":V.status==="MAINTENANCE"?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg",children:V.code}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:V.location}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:V.currentLoad}),s.jsx("span",{children:V.capacity})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${E(Z)}`,style:{width:`${Z}%`}})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Z,"%"]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-2 ${cC[V.type]}`,children:V.type})]})},V.id)}),s.jsx("div",{onClick:()=>c(!0),className:"border-2 border-dashed border-gray-300 rounded-lg p-4 flex items-center justify-center cursor-pointer hover:border-primary-400 hover:bg-primary-50 transition-all",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Cu,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Add Rack"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Cl,{className:"h-6 w-6 text-primary-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Rack Management"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[s.jsx(ju,{className:"h-4 w-4"}),s.jsx("span",{children:"Print QR Codes"})]}),s.jsxs("button",{onClick:()=>c(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[s.jsx(Cu,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Rack"})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rack"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"QR Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"font-medium text-gray-900",children:V.code})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.location}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${cC[V.type]}`,children:V.type})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[V.currentLoad," / ",V.capacity]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ste[V.status]}`,children:V.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ko,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-500 font-mono",children:V.qrCode})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Print QR Code",children:s.jsx(ju,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>W(V.id),className:"text-red-600 hover:text-red-900",title:"Delete Rack",children:s.jsx(Su,{className:"h-4 w-4"})})]})})]},V.id))})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(QM,{className:"h-6 w-6 text-primary-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Custom Fields"})]}),s.jsxs("button",{onClick:()=>{g(null),f(!0)},className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[s.jsx(jM,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Field"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-primary-600",children:r.filter(V=>V.section==="SHIPMENT").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Shipment Fields"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(V=>V.section==="JOB").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Job Fields"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.filter(V=>V.section==="EXPENSE").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expense Fields"})]})]}),["SHIPMENT","JOB","EXPENSE"].map(V=>s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[V," Fields"]}),s.jsx("div",{className:"space-y-2",children:r.filter(Z=>Z.section===V).sort((Z,ye)=>Z.order-ye.order).map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"font-medium text-gray-900",children:Z.name}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",Z.type,")"]}),Z.required&&s.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Required"})]}),Z.options&&s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Options: ",Z.options.join(", ")]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>$(Z),className:"text-blue-600 hover:text-blue-900",title:"Edit Field",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>H(Z.id),className:"text-red-600 hover:text-red-900",title:"Delete Field",children:s.jsx(Su,{className:"h-4 w-4"})})]})]},Z.id))})]},V))]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Rack"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rack Code"}),s.jsx("input",{type:"text",value:b.code,onChange:V=>y(Z=>({...Z,code:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., A1, B2, C3"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),s.jsx("input",{type:"text",value:b.location,onChange:V=>y(Z=>({...Z,location:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Section A - Row 1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:b.rackType,onChange:V=>y(Z=>({...Z,rackType:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"STORAGE",children:"Storage"}),s.jsx("option",{value:"MATERIALS",children:"Materials"}),s.jsx("option",{value:"EQUIPMENT",children:"Equipment"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),s.jsx("input",{type:"number",value:b.capacityTotal,onChange:V=>y(Z=>({...Z,capacityTotal:parseInt(V.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",min:"1"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:k,className:"flex-1 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors",children:"Add Rack"}),s.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-96 overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m?"Edit Custom Field":"Add Custom Field"}),!m&&s.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick Templates:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>J("priority"),className:"text-xs bg-white px-2 py-1 rounded border border-blue-300 hover:bg-blue-100",children:"Priority Level"}),s.jsx("button",{onClick:()=>J("insurance"),className:"text-xs bg-white px-2 py-1 rounded border border-blue-300 hover:bg-blue-100",children:"Insurance Value"}),s.jsx("button",{onClick:()=>J("customerType"),className:"text-xs bg-white px-2 py-1 rounded border border-blue-300 hover:bg-blue-100",children:"Customer Type"}),s.jsx("button",{onClick:()=>J("deliveryInstructions"),className:"text-xs bg-white px-2 py-1 rounded border border-blue-300 hover:bg-blue-100",children:"Delivery Instructions"}),s.jsx("button",{onClick:()=>J("fragile"),className:"text-xs bg-white px-2 py-1 rounded border border-blue-300 hover:bg-blue-100",children:"Fragile Item"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Name"}),s.jsx("input",{type:"text",value:w.fieldName,onChange:V=>A(Z=>({...Z,fieldName:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Priority Level"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Type"}),s.jsxs("select",{value:w.fieldType,onChange:V=>A(Z=>({...Z,fieldType:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"TEXT",children:"Text"}),s.jsx("option",{value:"NUMBER",children:"Number"}),s.jsx("option",{value:"DATE",children:"Date"}),s.jsx("option",{value:"DROPDOWN",children:"Dropdown"}),s.jsx("option",{value:"CHECKBOX",children:"Checkbox"})]})]}),w.fieldType==="DROPDOWN"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Options"}),w.fieldOptions.map((V,Z)=>s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("input",{type:"text",value:V,onChange:ye=>z(Z,ye.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:`Option ${Z+1}`}),w.fieldOptions.length>1&&s.jsx("button",{onClick:()=>te(Z),className:"text-red-600 hover:text-red-800",children:s.jsx(Pc,{className:"h-4 w-4"})})]},Z)),s.jsx("button",{onClick:M,className:"text-primary-600 hover:text-primary-800 text-sm",children:"+ Add Option"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),s.jsxs("select",{value:w.section,onChange:V=>A(Z=>({...Z,section:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"SHIPMENT",children:"Shipment"}),s.jsx("option",{value:"JOB",children:"Moving Job"}),s.jsx("option",{value:"EXPENSE",children:"Expense"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"required",checked:w.isRequired,onChange:V=>A(Z=>({...Z,isRequired:V.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"required",className:"ml-2 text-sm text-gray-700",children:"Required field"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:m?F:P,className:"flex-1 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors",children:m?"Update Field":"Add Field"}),s.jsx("button",{onClick:L,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})})]})},kte=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security & Access"}),s.jsx("p",{className:"text-gray-600",children:"Manage authentication and security settings"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Password Policy"}),s.jsx("div",{className:"space-y-3",children:["Minimum 8 characters","Require uppercase letters","Require numbers","Require special characters"].map((e,t)=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-primary-600 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e})]},t))})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add an extra layer of security"})]}),s.jsx("button",{className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:"Enable"})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Management"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),s.jsx("input",{type:"number",defaultValue:30,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),Tte=()=>{const[e,t]=I.useState({email:{},sms:{},push:{}}),[r,n]=I.useState(!0),[i,a]=I.useState(!1),[o,c]=I.useState(null);I.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await eC.get();t(m.preferences)}catch(m){console.error("Failed to load preferences:",m),c({type:"error",text:"Failed to load notification preferences"})}finally{n(!1)}},f=async()=>{a(!0),c(null);try{await eC.update(e),c({type:"success",text:"Notification preferences saved successfully!"}),setTimeout(()=>c(null),3e3)}catch(m){c({type:"error",text:m.message||"Failed to save notification preferences"})}finally{a(!1)}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading notification settings..."})]})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"}),s.jsx("p",{className:"text-gray-600",children:"Configure how and when you receive notifications"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[o&&s.jsxs("div",{className:`flex items-center ${o.type==="success"?"text-green-600":"text-red-600"}`,children:[o.type==="success"&&s.jsx(bi,{className:"h-5 w-5 mr-2"}),s.jsx("span",{className:"text-sm",children:o.text})]}),s.jsx("button",{onClick:f,disabled:i,className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Preferences"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Notifications"}),s.jsx("div",{className:"space-y-3",children:[{label:"New shipment arrival",desc:"Get notified when new shipments arrive"},{label:"Job assignments",desc:"Notifications for new job assignments"},{label:"Expense approvals",desc:"Alerts for expense approval requests"},{label:"System updates",desc:"Important system updates and maintenance"}].map((m,g)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:m.label}),s.jsx("div",{className:"text-sm text-gray-500",children:m.desc})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]},g))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"WhatsApp Notifications"}),s.jsx("div",{className:"space-y-3",children:["Job updates","Schedule changes","Emergency alerts"].map((m,g)=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-primary-600 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:m})]},g))})]})]})},_te=()=>{const[e,t]=I.useState(null),[r,n]=I.useState(!0),[i,a]=I.useState(!1),[o,c]=I.useState(!1),[d,f]=I.useState(null);I.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const w=await fetch("/api/shipment-settings",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!w.ok)throw new Error("Failed to load settings");const A=await w.json();t(A.settings)}catch(w){f({type:"error",text:w.message})}finally{n(!1)}},g=async()=>{if(e){a(!0),f(null);try{const w=await fetch("/api/shipment-settings",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!w.ok)throw new Error("Failed to save settings");const A=await w.json();t(A.settings),f({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>f(null),3e3)}catch(w){f({type:"error",text:w.message})}finally{a(!1)}}},b=async()=>{if(confirm("Are you sure you want to reset all shipment settings to defaults? This cannot be undone.")){c(!0),f(null);try{const w=await fetch("/api/shipment-settings/reset",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!w.ok)throw new Error("Failed to reset settings");const A=await w.json();t(A.settings),f({type:"success",text:"Settings reset to defaults successfully!"}),setTimeout(()=>f(null),3e3)}catch(w){f({type:"error",text:w.message})}finally{c(!1)}}},y=(w,A)=>{e&&t({...e,[w]:A})};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Shipment Configuration"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure shipment intake, storage, and release workflows"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:b,disabled:o||i,className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Oh,{className:"h-5 w-5"}),o?"Resetting...":"Reset to Defaults"]}),s.jsxs("button",{onClick:g,disabled:i||o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5"}),i?"Saving...":"Save Changes"]})]})]}),d&&s.jsx("div",{className:`p-4 rounded-lg ${d.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[d.type==="success"?s.jsx(bi,{className:"h-5 w-5"}):s.jsx(to,{className:"h-5 w-5"}),s.jsx("span",{children:d.text})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(vc,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Intake Settings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure required fields during shipment creation"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Client Email"}),s.jsx("input",{type:"checkbox",checked:e.requireClientEmail,onChange:w=>y("requireClientEmail",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Client Phone"}),s.jsx("input",{type:"checkbox",checked:e.requireClientPhone,onChange:w=>y("requireClientPhone",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Estimated Value"}),s.jsx("input",{type:"checkbox",checked:e.requireEstimatedValue,onChange:w=>y("requireEstimatedValue",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Photos"}),s.jsx("input",{type:"checkbox",checked:e.requirePhotos,onChange:w=>y("requirePhotos",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Auto-generate QR Code"}),s.jsx("input",{type:"checkbox",checked:e.autoGenerateQR,onChange:w=>y("autoGenerateQR",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"QR Code Prefix"}),s.jsx("input",{type:"text",value:e.qrCodePrefix,onChange:w=>y("qrCodePrefix",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"SHP"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Storage Type"}),s.jsxs("select",{value:e.defaultStorageType,onChange:w=>y("defaultStorageType",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"PERSONAL",children:"Personal"}),s.jsx("option",{value:"COMMERCIAL",children:"Commercial"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(eo,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Intake Form Fields"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Customize which fields appear and are required in shipment intake form"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Basic Information Fields"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Client Address"}),s.jsx("input",{type:"checkbox",checked:e.showClientAddress!==!1,onChange:w=>y("showClientAddress",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]}),e.showClientAddress!==!1&&s.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:e.requireClientAddress===!0,onChange:w=>y("requireClientAddress",w.target.checked),className:"h-3 w-3 text-purple-600 rounded"}),"Make Required"]})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reference ID"}),s.jsx("input",{type:"checkbox",checked:e.showReferenceId!==!1,onChange:w=>y("showReferenceId",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]}),e.showReferenceId!==!1&&s.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:e.requireReferenceId===!0,onChange:w=>y("requireReferenceId",w.target.checked),className:"h-3 w-3 text-purple-600 rounded"}),"Make Required"]})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Description"}),s.jsx("input",{type:"checkbox",checked:e.showDescription!==!1,onChange:w=>y("showDescription",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]}),e.showDescription!==!1&&s.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:e.requireDescription===!0,onChange:w=>y("requireDescription",w.target.checked),className:"h-3 w-3 text-purple-600 rounded"}),"Make Required"]})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Notes"}),s.jsx("input",{type:"checkbox",checked:e.showNotes!==!1,onChange:w=>y("showNotes",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]}),e.showNotes!==!1&&s.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:e.requireNotes===!0,onChange:w=>y("requireNotes",w.target.checked),className:"h-3 w-3 text-purple-600 rounded"}),"Make Required"]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Warehouse Shipment Fields"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Warehouse Mode Toggle"}),s.jsx("input",{type:"checkbox",checked:e.showWarehouseMode!==!1,onChange:w=>y("showWarehouseMode",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]})}),s.jsx("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Shipper Details"}),s.jsx("input",{type:"checkbox",checked:e.showShipperDetails!==!1,onChange:w=>y("showShipperDetails",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]})}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weight"}),s.jsx("input",{type:"checkbox",checked:e.showWeight!==!1,onChange:w=>y("showWeight",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]}),e.showWeight!==!1&&s.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:e.requireWeight===!0,onChange:w=>y("requireWeight",w.target.checked),className:"h-3 w-3 text-purple-600 rounded"}),"Make Required"]})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Dimensions"}),s.jsx("input",{type:"checkbox",checked:e.showDimensions!==!1,onChange:w=>y("showDimensions",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]}),e.showDimensions!==!1&&s.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:e.requireDimensions===!0,onChange:w=>y("requireDimensions",w.target.checked),className:"h-3 w-3 text-purple-600 rounded"}),"Make Required"]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Storage Assignment Fields"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Storage Days"}),s.jsx("input",{type:"checkbox",checked:e.showEstimatedDays!==!1,onChange:w=>y("showEstimatedDays",w.target.checked),className:"h-4 w-4 text-purple-600 rounded"})]}),e.showEstimatedDays!==!1&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:e.requireEstimatedDays===!0,onChange:w=>y("requireEstimatedDays",w.target.checked),className:"h-3 w-3 text-purple-600 rounded"}),"Make Required"]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600",children:"Default Value (days)"}),s.jsx("input",{type:"number",value:e.defaultEstimatedDays||30,onChange:w=>y("defaultEstimatedDays",parseInt(w.target.value)),className:"w-full mt-1 px-2 py-1 text-sm border border-gray-300 rounded",min:"1"})]})]})]})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:s.jsx(LE,{className:"h-6 w-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Storage Settings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure rack assignment and capacity alerts"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Allow Multiple Racks"}),s.jsx("input",{type:"checkbox",checked:e.allowMultipleRacks,onChange:w=>y("allowMultipleRacks",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Rack Assignment"}),s.jsx("input",{type:"checkbox",checked:e.requireRackAssignment,onChange:w=>y("requireRackAssignment",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Auto-assign Rack"}),s.jsx("input",{type:"checkbox",checked:e.autoAssignRack,onChange:w=>y("autoAssignRack",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Low Capacity Alerts"}),s.jsx("input",{type:"checkbox",checked:e.notifyOnLowCapacity,onChange:w=>y("notifyOnLowCapacity",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Low Capacity Threshold: ",e.lowCapacityThreshold,"%"]}),s.jsx("input",{type:"range",min:"0",max:"100",value:e.lowCapacityThreshold,onChange:w=>y("lowCapacityThreshold",parseInt(w.target.value)),className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"0%"}),s.jsx("span",{children:"50%"}),s.jsx("span",{children:"100%"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(v4,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Release Settings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure release approval and documentation requirements"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Release Approval"}),s.jsx("input",{type:"checkbox",checked:e.requireReleaseApproval,onChange:w=>y("requireReleaseApproval",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approver Role"}),s.jsxs("select",{value:e.releaseApproverRole,onChange:w=>y("releaseApproverRole",w.target.value),disabled:!e.requireReleaseApproval,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[s.jsx("option",{value:"MANAGER",children:"Manager"}),s.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Release Photos"}),s.jsx("input",{type:"checkbox",checked:e.requireReleasePhotos,onChange:w=>y("requireReleasePhotos",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require ID Verification"}),s.jsx("input",{type:"checkbox",checked:e.requireIDVerification,onChange:w=>y("requireIDVerification",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Generate Release Invoice"}),s.jsx("input",{type:"checkbox",checked:e.generateReleaseInvoice,onChange:w=>y("generateReleaseInvoice",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Auto-send Invoice Email"}),s.jsx("input",{type:"checkbox",checked:e.autoSendInvoiceEmail,onChange:w=>y("autoSendInvoiceEmail",w.target.checked),disabled:!e.generateReleaseInvoice,className:"h-5 w-5 text-blue-600 rounded disabled:opacity-50"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Release Signature"}),s.jsx("input",{type:"checkbox",checked:e.requireReleaseSignature,onChange:w=>y("requireReleaseSignature",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Collector ID"}),s.jsx("input",{type:"checkbox",checked:e.requireCollectorID,onChange:w=>y("requireCollectorID",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Allow Proxy Collection"}),s.jsx("input",{type:"checkbox",checked:e.allowProxyCollection,onChange:w=>y("allowProxyCollection",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(Rh,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pricing Configuration"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure storage and release charges"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Rate per Day (KWD)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:e.storageRatePerDay,onChange:w=>y("storageRatePerDay",parseFloat(w.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Rate per Box (KWD)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:e.storageRatePerBox,onChange:w=>y("storageRatePerBox",parseFloat(w.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Charge Partial Day"}),s.jsx("input",{type:"checkbox",checked:e.chargePartialDay,onChange:w=>y("chargePartialDay",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Charge Days"}),s.jsx("input",{type:"number",min:"0",value:e.minimumChargeDays,onChange:w=>y("minimumChargeDays",parseInt(w.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Handling Fee (KWD)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:e.releaseHandlingFee,onChange:w=>y("releaseHandlingFee",parseFloat(w.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Per-Box Fee (KWD)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:e.releasePerBoxFee,onChange:w=>y("releasePerBoxFee",parseFloat(w.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Transport Fee (KWD)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:e.releaseTransportFee,onChange:w=>y("releaseTransportFee",parseFloat(w.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(v4,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Partial Release Settings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure partial release workflow"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Allow Partial Release"}),s.jsx("input",{type:"checkbox",checked:e.allowPartialRelease,onChange:w=>y("allowPartialRelease",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Boxes per Release"}),s.jsx("input",{type:"number",min:"1",value:e.partialReleaseMinBoxes,onChange:w=>y("partialReleaseMinBoxes",parseInt(w.target.value)),disabled:!e.allowPartialRelease,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Require Partial Approval"}),s.jsx("input",{type:"checkbox",checked:e.requirePartialApproval,onChange:w=>y("requirePartialApproval",w.target.checked),disabled:!e.allowPartialRelease,className:"h-5 w-5 text-blue-600 rounded disabled:opacity-50"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(pw,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notification Settings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure client and staff notifications"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Notify Client on Intake"}),s.jsx("input",{type:"checkbox",checked:e.notifyClientOnIntake,onChange:w=>y("notifyClientOnIntake",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Notify Client on Release"}),s.jsx("input",{type:"checkbox",checked:e.notifyClientOnRelease,onChange:w=>y("notifyClientOnRelease",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Storage Alert Notifications"}),s.jsx("input",{type:"checkbox",checked:e.notifyOnStorageAlert,onChange:w=>y("notifyOnStorageAlert",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Alert After (Days)"}),s.jsx("input",{type:"number",min:"1",value:e.storageAlertDays,onChange:w=>y("storageAlertDays",parseInt(w.target.value)),disabled:!e.notifyOnStorageAlert,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("span",{className:"text-gray-700",children:"Enable Custom Fields"}),s.jsx("input",{type:"checkbox",checked:e.enableCustomFields,onChange:w=>y("enableCustomFields",w.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 sticky bottom-0 bg-white p-4 border-t border-gray-200 -mx-6 -mb-6",children:[s.jsxs("button",{onClick:b,disabled:o||i,className:"px-6 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Oh,{className:"h-5 w-5"}),o?"Resetting...":"Reset to Defaults"]}),s.jsxs("button",{onClick:g,disabled:i||o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5"}),i?"Saving...":"Save Changes"]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(to,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Failed to load settings"}),s.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})},Ite=[{id:"company",name:"Company & Branding",icon:X1,path:"company",description:"Company details, logo, colors, and branding settings"},{id:"users",name:"User Management",icon:Lh,path:"users",description:"Manage team members, roles, and permissions"},{id:"invoice",name:"Invoice & Templates",icon:eo,path:"invoice",description:"Customize invoice templates, branding, and layouts"},{id:"billing",name:"Billing & Rates",icon:Eo,path:"billing",description:"Storage rates, payment methods, and subscription"},{id:"integrations",name:"Integrations",icon:ME,path:"integrations",description:"WhatsApp, SMS, email, and third-party connections"},{id:"shipment",name:"Shipment Configuration",icon:vc,path:"shipment",description:"Configure shipment intake, storage, release workflows, and pricing"},{id:"system",name:"System Configuration",icon:gw,path:"system",description:"Racks setup, custom fields, and operational settings"},{id:"security",name:"Security & Access",icon:Om,path:"security",description:"Authentication, permissions, and security policies"},{id:"notifications",name:"Notifications",icon:pw,path:"notifications",description:"Alert preferences, email notifications, and messaging"}],Pte=()=>{const[e,t]=I.useState("company");return s.jsxs("div",{className:"flex h-full bg-gray-50",children:[s.jsxs("div",{className:"w-80 bg-white shadow-lg border-r border-gray-200 overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:s.jsx(LE,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Configure your warehouse system"})]})]})}),s.jsx("nav",{className:"p-4 space-y-2",children:Ite.map(r=>{const n=r.icon,i=e===r.id;return s.jsx("button",{onClick:()=>t(r.id),className:`
                  w-full text-left p-4 rounded-lg transition-all duration-200
                  ${i?"bg-primary-50 border border-primary-200 text-primary-700":"hover:bg-gray-50 text-gray-700 border border-transparent"}
                `,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(n,{className:`h-5 w-5 mt-0.5 flex-shrink-0 ${i?"text-primary-600":"text-gray-400"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium ${i?"text-primary-900":"text-gray-900"}`,children:r.name}),s.jsx("p",{className:`text-sm mt-1 ${i?"text-primary-600":"text-gray-500"}`,children:r.description})]})]})},r.id)})}),s.jsxs("div",{className:"p-4 mt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Stats"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Total Users"}),s.jsx("span",{className:"font-medium text-gray-900",children:"12"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Active Racks"}),s.jsx("span",{className:"font-medium text-gray-900",children:"48"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Monthly Revenue"}),s.jsx("span",{className:"font-medium text-gray-900",children:"2,450 KWD"})]})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e==="company"&&s.jsx(vte,{}),e==="users"&&s.jsx(Nte,{}),e==="invoice"&&s.jsx(Ate,{}),e==="billing"&&s.jsx(Cte,{}),e==="integrations"&&s.jsx(jte,{}),e==="shipment"&&s.jsx(_te,{}),e==="system"&&s.jsx(Ete,{}),e==="security"&&s.jsx(kte,{}),e==="notifications"&&s.jsx(Tte,{})]})})]})};var xt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xt||(xt={}));var uC=new Map([[xt.QR_CODE,"QR_CODE"],[xt.AZTEC,"AZTEC"],[xt.CODABAR,"CODABAR"],[xt.CODE_39,"CODE_39"],[xt.CODE_93,"CODE_93"],[xt.CODE_128,"CODE_128"],[xt.DATA_MATRIX,"DATA_MATRIX"],[xt.MAXICODE,"MAXICODE"],[xt.ITF,"ITF"],[xt.EAN_13,"EAN_13"],[xt.EAN_8,"EAN_8"],[xt.PDF_417,"PDF_417"],[xt.RSS_14,"RSS_14"],[xt.RSS_EXPANDED,"RSS_EXPANDED"],[xt.UPC_A,"UPC_A"],[xt.UPC_E,"UPC_E"],[xt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),dC;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(dC||(dC={}));function Ote(e){return Object.values(xt).includes(e)}var Np;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Np||(Np={}));var Rte=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Np.SCAN_TYPE_CAMERA,Np.SCAN_TYPE_FILE],e}(),QI=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!uC.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,uC.get(t))},e}(),fC=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Kv;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Kv||(Kv={}));var Dte=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Kv.UNKWOWN_ERROR}},e}(),Lte=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ol(e){return typeof e>"u"||e===null}var gd=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),eP=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(t),c=0,d=o;c<d.length;c++){var f=d[c];if(a.has(f))return r.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e}(),Xv={exports:{}};(function(e,t){(function(r,n){n(t)})(Sf,function(r){function n(G){return G==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,l){G.__proto__=l}||function(G,l){for(var u in l)l.hasOwnProperty(u)&&(G[u]=l[u])};function a(G,l){i(G,l);function u(){this.constructor=G}G.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}function o(G,l){var u=Object.setPrototypeOf;u?u(G,l):G.__proto__=l}function c(G,l){l===void 0&&(l=G.constructor);var u=Error.captureStackTrace;u&&u(G,l)}var d=function(G){a(l,G);function l(u){var h=this.constructor,p=G.call(this,u)||this;return Object.defineProperty(p,"name",{value:h.name,enumerable:!1}),o(p,h.prototype),c(p),p}return l}(Error);class f extends d{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}f.kind="Exception";class m extends f{}m.kind="ArgumentException";class g extends f{}g.kind="IllegalArgumentException";class b{constructor(l){if(this.binarizer=l,l===null)throw new g("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,u){return this.binarizer.getBlackRow(l,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,u,h,p){const x=this.binarizer.getLuminanceSource().crop(l,u,h,p);return new b(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class y extends f{static getChecksumInstance(){return new y}}y.kind="ChecksumException";class w{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class A{static arraycopy(l,u,h,p,x){for(;x--;)h[p++]=l[u++]}static currentTimeMillis(){return Date.now()}}class N extends f{}N.kind="IndexOutOfBoundsException";class S extends N{constructor(l=void 0,u=void 0){super(u),this.index=l,this.message=u}}S.kind="ArrayIndexOutOfBoundsException";class E{static fill(l,u){for(let h=0,p=l.length;h<p;h++)l[h]=u}static fillWithin(l,u,h,p){E.rangeCheck(l.length,u,h);for(let x=u;x<h;x++)l[x]=p}static rangeCheck(l,u,h){if(u>h)throw new g("fromIndex("+u+") > toIndex("+h+")");if(u<0)throw new S(u);if(h>l)throw new S(h)}static asList(...l){return l}static create(l,u,h){return Array.from({length:l}).map(x=>Array.from({length:u}).fill(h))}static createInt32Array(l,u,h){return Array.from({length:l}).map(x=>Int32Array.from({length:u}).fill(h))}static equals(l,u){if(!l||!u||!l.length||!u.length||l.length!==u.length)return!1;for(let h=0,p=l.length;h<p;h++)if(l[h]!==u[h])return!1;return!0}static hashCode(l){if(l===null)return 0;let u=1;for(const h of l)u=31*u+h;return u}static fillUint8Array(l,u){for(let h=0;h!==l.length;h++)l[h]=u}static copyOf(l,u){return l.slice(0,u)}static copyOfUint8Array(l,u){if(l.length<=u){const h=new Uint8Array(u);return h.set(l),h}return l.slice(0,u)}static copyOfRange(l,u,h){const p=h-u,x=new Int32Array(p);return A.arraycopy(l,u,x,0,p),x}static binarySearch(l,u,h){h===void 0&&(h=E.numberComparator);let p=0,x=l.length-1;for(;p<=x;){const v=x+p>>1,j=h(u,l[v]);if(j>0)p=v+1;else if(j<0)x=v-1;else return v}return-p-1}static numberComparator(l,u){return l-u}}class k{static numberOfTrailingZeros(l){let u;if(l===0)return 32;let h=31;return u=l<<16,u!==0&&(h-=16,l=u),u=l<<8,u!==0&&(h-=8,l=u),u=l<<4,u!==0&&(h-=4,l=u),u=l<<2,u!==0&&(h-=2,l=u),h-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let u=1;return l>>>16||(u+=16,l<<=16),l>>>24||(u+=8,l<<=8),l>>>28||(u+=4,l<<=4),l>>>30||(u+=2,l<<=2),u-=l>>>31,u}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,u){return Math.trunc(l/u)}static parseInt(l,u=void 0){return parseInt(l,u)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(l,u){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,u==null?this.bits=P.makeArray(l):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const u=P.makeArray(l);A.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const u=this.size;if(l>=u)return u;const h=this.bits;let p=Math.floor(l/32),x=h[p];x&=~((1<<(l&31))-1);const v=h.length;for(;x===0;){if(++p===v)return u;x=h[p]}const j=p*32+k.numberOfTrailingZeros(x);return j>u?u:j}getNextUnset(l){const u=this.size;if(l>=u)return u;const h=this.bits;let p=Math.floor(l/32),x=~h[p];x&=~((1<<(l&31))-1);const v=h.length;for(;x===0;){if(++p===v)return u;x=~h[p]}const j=p*32+k.numberOfTrailingZeros(x);return j>u?u:j}setBulk(l,u){this.bits[Math.floor(l/32)]=u}setRange(l,u){if(u<l||l<0||u>this.size)throw new g;if(u===l)return;u--;const h=Math.floor(l/32),p=Math.floor(u/32),x=this.bits;for(let v=h;v<=p;v++){const j=v>h?0:l&31,R=(2<<(v<p?31:u&31))-(1<<j);x[v]|=R}}clear(){const l=this.bits.length,u=this.bits;for(let h=0;h<l;h++)u[h]=0}isRange(l,u,h){if(u<l||l<0||u>this.size)throw new g;if(u===l)return!0;u--;const p=Math.floor(l/32),x=Math.floor(u/32),v=this.bits;for(let j=p;j<=x;j++){const _=j>p?0:l&31,B=(2<<(j<x?31:u&31))-(1<<_)&4294967295;if((v[j]&B)!==(h?B:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,u){if(u<0||u>32)throw new g("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let h=u;h>0;h--)this.appendBit((l>>h-1&1)===1)}appendBitArray(l){const u=l.size;this.ensureCapacity(this.size+u);for(let h=0;h<u;h++)this.appendBit(l.get(h))}xor(l){if(this.size!==l.size)throw new g("Sizes don't match");const u=this.bits;for(let h=0,p=u.length;h<p;h++)u[h]^=l.bits[h]}toBytes(l,u,h,p){for(let x=0;x<p;x++){let v=0;for(let j=0;j<8;j++)this.get(l)&&(v|=1<<7-j),l++;u[h+x]=v}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),h=u+1,p=this.bits;for(let x=0;x<h;x++){let v=p[x];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,l[u-x]=v}if(this.size!==h*32){const x=h*32-this.size;let v=l[0]>>>x;for(let j=1;j<h;j++){const _=l[j];v|=_<<32-x,l[j-1]=v,v=_>>>x}l[h-1]=v}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof P))return!1;const u=l;return this.size===u.size&&E.equals(this.bits,u.bits)}hashCode(){return 31*this.size+E.hashCode(this.bits)}toString(){let l="";for(let u=0,h=this.size;u<h;u++)u&7||(l+=" "),l+=this.get(u)?"X":".";return l}clone(){return new P(this.size,this.bits.slice())}}var W;(function(G){G[G.OTHER=0]="OTHER",G[G.PURE_BARCODE=1]="PURE_BARCODE",G[G.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",G[G.TRY_HARDER=3]="TRY_HARDER",G[G.CHARACTER_SET=4]="CHARACTER_SET",G[G.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",G[G.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",G[G.ASSUME_GS1=7]="ASSUME_GS1",G[G.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",G[G.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",G[G.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var H=W;class $ extends f{static getFormatInstance(){return new $}}$.kind="FormatException";var F;(function(G){G[G.Cp437=0]="Cp437",G[G.ISO8859_1=1]="ISO8859_1",G[G.ISO8859_2=2]="ISO8859_2",G[G.ISO8859_3=3]="ISO8859_3",G[G.ISO8859_4=4]="ISO8859_4",G[G.ISO8859_5=5]="ISO8859_5",G[G.ISO8859_6=6]="ISO8859_6",G[G.ISO8859_7=7]="ISO8859_7",G[G.ISO8859_8=8]="ISO8859_8",G[G.ISO8859_9=9]="ISO8859_9",G[G.ISO8859_10=10]="ISO8859_10",G[G.ISO8859_11=11]="ISO8859_11",G[G.ISO8859_13=12]="ISO8859_13",G[G.ISO8859_14=13]="ISO8859_14",G[G.ISO8859_15=14]="ISO8859_15",G[G.ISO8859_16=15]="ISO8859_16",G[G.SJIS=16]="SJIS",G[G.Cp1250=17]="Cp1250",G[G.Cp1251=18]="Cp1251",G[G.Cp1252=19]="Cp1252",G[G.Cp1256=20]="Cp1256",G[G.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",G[G.UTF8=22]="UTF8",G[G.ASCII=23]="ASCII",G[G.Big5=24]="Big5",G[G.GB18030=25]="GB18030",G[G.EUC_KR=26]="EUC_KR"})(F||(F={}));class L{constructor(l,u,h,...p){this.valueIdentifier=l,this.name=h,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=p,L.VALUE_IDENTIFIER_TO_ECI.set(l,this),L.NAME_TO_ECI.set(h,this);const x=this.values;for(let v=0,j=x.length;v!==j;v++){const _=x[v];L.VALUES_TO_ECI.set(_,this)}for(const v of p)L.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new $("incorect value");const u=L.VALUES_TO_ECI.get(l);if(u===void 0)throw new $("incorect value");return u}static getCharacterSetECIByName(l){const u=L.NAME_TO_ECI.get(l);if(u===void 0)throw new $("incorect value");return u}equals(l){if(!(l instanceof L))return!1;const u=l;return this.getName()===u.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(F.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(F.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(F.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(F.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(F.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(F.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(F.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(F.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(F.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(F.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(F.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(F.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(F.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(F.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(F.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(F.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(F.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(F.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(F.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(F.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(F.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(F.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(F.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(F.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(F.Big5,28,"Big5"),L.GB18030=new L(F.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(F.EUC_KR,30,"EUC_KR","EUC-KR");class J extends f{}J.kind="UnsupportedOperationException";class M{static decode(l,u){const h=this.encodingName(u);return this.customDecoder?this.customDecoder(l,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(l,h):new TextDecoder(h).decode(l)}static shouldDecodeOnFallback(l){return!M.isBrowser()&&l==="ISO-8859-1"}static encode(l,u){const h=this.encodingName(u);return this.customEncoder?this.customEncoder(l,h):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof L?l:L.getCharacterSetECIByName(l)}static decodeFallback(l,u){const h=this.encodingCharacterSet(u);if(M.isDecodeFallbackSupported(h)){let p="";for(let x=0,v=l.length;x<v;x++){let j=l[x].toString(16);j.length<2&&(j="0"+j),p+="%"+j}return decodeURIComponent(p)}if(h.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new J(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(L.UTF8)||l.equals(L.ISO8859_1)||l.equals(L.ASCII)}static encodeFallback(l){const h=btoa(unescape(encodeURIComponent(l))).split(""),p=[];for(let x=0;x<h.length;x++)p.push(h[x].charCodeAt(0));return new Uint8Array(p)}}class z{static castAsNonUtf8Char(l,u=null){const h=u?u.getName():this.ISO88591;return M.decode(new Uint8Array([l]),h)}static guessEncoding(l,u){if(u!=null&&u.get(H.CHARACTER_SET)!==void 0)return u.get(H.CHARACTER_SET).toString();const h=l.length;let p=!0,x=!0,v=!0,j=0,_=0,R=0,B=0,K=0,Q=0,le=0,be=0,Ae=0,Oe=0,Fe=0;const Ye=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let et=0;et<h&&(p||x||v);et++){const Je=l[et]&255;v&&(j>0?Je&128?j--:v=!1:Je&128&&(Je&64?(j++,Je&32?(j++,Je&16?(j++,Je&8?v=!1:B++):R++):_++):v=!1)),p&&(Je>127&&Je<160?p=!1:Je>159&&(Je<192||Je===215||Je===247)&&Fe++),x&&(K>0?Je<64||Je===127||Je>252?x=!1:K--:Je===128||Je===160||Je>239?x=!1:Je>160&&Je<224?(Q++,be=0,le++,le>Ae&&(Ae=le)):Je>127?(K++,le=0,be++,be>Oe&&(Oe=be)):(le=0,be=0))}return v&&j>0&&(v=!1),x&&K>0&&(x=!1),v&&(Ye||_+R+B>0)?z.UTF8:x&&(z.ASSUME_SHIFT_JIS||Ae>=3||Oe>=3)?z.SHIFT_JIS:p&&x?Ae===2&&Q===2||Fe*10>=h?z.SHIFT_JIS:z.ISO88591:p?z.ISO88591:x?z.SHIFT_JIS:v?z.UTF8:z.PLATFORM_DEFAULT_ENCODING}static format(l,...u){let h=-1;function p(v,j,_,R,B,K){if(v==="%%")return"%";if(u[++h]===void 0)return;v=R?parseInt(R.substr(1)):void 0;let Q=B?parseInt(B.substr(1)):void 0,le;switch(K){case"s":le=u[h];break;case"c":le=u[h][0];break;case"f":le=parseFloat(u[h]).toFixed(v);break;case"p":le=parseFloat(u[h]).toPrecision(v);break;case"e":le=parseFloat(u[h]).toExponential(v);break;case"x":le=parseInt(u[h]).toString(Q||16);break;case"d":le=parseFloat(parseInt(u[h],Q||10).toPrecision(v)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(Q);let be=parseInt(_),Ae=_&&_[0]+""=="0"?"0":" ";for(;le.length<be;)le=j!==void 0?le+Ae:Ae+le;return le}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,p)}static getBytes(l,u){return M.encode(l,u)}static getCharCode(l,u=0){return l.charCodeAt(u)}static getCharAt(l){return String.fromCharCode(l)}}z.SHIFT_JIS=L.SJIS.getName(),z.GB2312="GB2312",z.ISO88591=L.ISO8859_1.getName(),z.EUC_JP="EUC_JP",z.UTF8=L.UTF8.getName(),z.PLATFORM_DEFAULT_ENCODING=z.UTF8,z.ASSUME_SHIFT_JIS=!1;class te{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=z.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,u,h){for(let p=u;u<u+h;p++)this.append(l[p]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,u){this.value=this.value.substr(0,l)+u+this.value.substr(l+1)}substring(l,u){return this.value.substring(l,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,u){this.value=this.value.substr(0,l)+u+this.value.substr(l+u.length)}}class V{constructor(l,u,h,p){if(this.width=l,this.height=u,this.rowSize=h,this.bits=p,u==null&&(u=l),this.height=u,l<1||u<1)throw new g("Both dimensions must be greater than 0");h==null&&(h=Math.floor((l+31)/32)),this.rowSize=h,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const u=l.length,h=l[0].length,p=new V(h,u);for(let x=0;x<u;x++){const v=l[x];for(let j=0;j<h;j++)v[j]&&p.set(j,x)}return p}static parseFromString(l,u,h){if(l===null)throw new g("stringRepresentation cannot be null");const p=new Array(l.length);let x=0,v=0,j=-1,_=0,R=0;for(;R<l.length;)if(l.charAt(R)===`
`||l.charAt(R)==="\r"){if(x>v){if(j===-1)j=x-v;else if(x-v!==j)throw new g("row lengths do not match");v=x,_++}R++}else if(l.substring(R,R+u.length)===u)R+=u.length,p[x]=!0,x++;else if(l.substring(R,R+h.length)===h)R+=h.length,p[x]=!1,x++;else throw new g("illegal character encountered: "+l.substring(R));if(x>v){if(j===-1)j=x-v;else if(x-v!==j)throw new g("row lengths do not match");_++}const B=new V(j,_);for(let K=0;K<x;K++)p[K]&&B.set(Math.floor(K%j),Math.floor(K/j));return B}get(l,u){const h=u*this.rowSize+Math.floor(l/32);return(this.bits[h]>>>(l&31)&1)!==0}set(l,u){const h=u*this.rowSize+Math.floor(l/32);this.bits[h]|=1<<(l&31)&4294967295}unset(l,u){const h=u*this.rowSize+Math.floor(l/32);this.bits[h]&=~(1<<(l&31)&4294967295)}flip(l,u){const h=u*this.rowSize+Math.floor(l/32);this.bits[h]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new g("input matrix dimensions do not match");const u=new P(Math.floor(this.width/32)+1),h=this.rowSize,p=this.bits;for(let x=0,v=this.height;x<v;x++){const j=x*h,_=l.getRow(x,u).getBitArray();for(let R=0;R<h;R++)p[j+R]^=_[R]}}clear(){const l=this.bits,u=l.length;for(let h=0;h<u;h++)l[h]=0}setRegion(l,u,h,p){if(u<0||l<0)throw new g("Left and top must be nonnegative");if(p<1||h<1)throw new g("Height and width must be at least 1");const x=l+h,v=u+p;if(v>this.height||x>this.width)throw new g("The region must fit inside the matrix");const j=this.rowSize,_=this.bits;for(let R=u;R<v;R++){const B=R*j;for(let K=l;K<x;K++)_[B+Math.floor(K/32)]|=1<<(K&31)&4294967295}}getRow(l,u){u==null||u.getSize()<this.width?u=new P(this.width):u.clear();const h=this.rowSize,p=this.bits,x=l*h;for(let v=0;v<h;v++)u.setBulk(v*32,p[x+v]);return u}setRow(l,u){A.arraycopy(u.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),u=this.getHeight();let h=new P(l),p=new P(l);for(let x=0,v=Math.floor((u+1)/2);x<v;x++)h=this.getRow(x,h),p=this.getRow(u-1-x,p),h.reverse(),p.reverse(),this.setRow(x,p),this.setRow(u-1-x,h)}getEnclosingRectangle(){const l=this.width,u=this.height,h=this.rowSize,p=this.bits;let x=l,v=u,j=-1,_=-1;for(let R=0;R<u;R++)for(let B=0;B<h;B++){const K=p[R*h+B];if(K!==0){if(R<v&&(v=R),R>_&&(_=R),B*32<x){let Q=0;for(;!(K<<31-Q&4294967295);)Q++;B*32+Q<x&&(x=B*32+Q)}if(B*32+31>j){let Q=31;for(;!(K>>>Q);)Q--;B*32+Q>j&&(j=B*32+Q)}}}return j<x||_<v?null:Int32Array.from([x,v,j-x+1,_-v+1])}getTopLeftOnBit(){const l=this.rowSize,u=this.bits;let h=0;for(;h<u.length&&u[h]===0;)h++;if(h===u.length)return null;const p=h/l;let x=h%l*32;const v=u[h];let j=0;for(;!(v<<31-j&4294967295);)j++;return x+=j,Int32Array.from([x,p])}getBottomRightOnBit(){const l=this.rowSize,u=this.bits;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;if(h<0)return null;const p=Math.floor(h/l);let x=Math.floor(h%l)*32;const v=u[h];let j=31;for(;!(v>>>j);)j--;return x+=j,Int32Array.from([x,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof V))return!1;const u=l;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&E.equals(this.bits,u.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+E.hashCode(this.bits),l}toString(l="X ",u="  ",h=`
`){return this.buildToString(l,u,h)}buildToString(l,u,h){let p=new te;for(let x=0,v=this.height;x<v;x++){for(let j=0,_=this.width;j<_;j++)p.append(this.get(j,x)?l:u);p.append(h)}return p.toString()}clone(){return new V(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends f{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class ye extends w{constructor(l){super(l),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(l,u){const h=this.getLuminanceSource(),p=h.getWidth();u==null||u.getSize()<p?u=new P(p):u.clear(),this.initArrays(p);const x=h.getRow(l,this.luminances),v=this.buckets;for(let _=0;_<p;_++)v[(x[_]&255)>>ye.LUMINANCE_SHIFT]++;const j=ye.estimateBlackPoint(v);if(p<3)for(let _=0;_<p;_++)(x[_]&255)<j&&u.set(_);else{let _=x[0]&255,R=x[1]&255;for(let B=1;B<p-1;B++){const K=x[B+1]&255;(R*4-_-K)/2<j&&u.set(B),_=R,R=K}}return u}getBlackMatrix(){const l=this.getLuminanceSource(),u=l.getWidth(),h=l.getHeight(),p=new V(u,h);this.initArrays(u);const x=this.buckets;for(let _=1;_<5;_++){const R=Math.floor(h*_/5),B=l.getRow(R,this.luminances),K=Math.floor(u*4/5);for(let Q=Math.floor(u/5);Q<K;Q++){const le=B[Q]&255;x[le>>ye.LUMINANCE_SHIFT]++}}const v=ye.estimateBlackPoint(x),j=l.getMatrix();for(let _=0;_<h;_++){const R=_*u;for(let B=0;B<u;B++)(j[R+B]&255)<v&&p.set(B,_)}return p}createBinarizer(l){return new ye(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const u=this.buckets;for(let h=0;h<ye.LUMINANCE_BUCKETS;h++)u[h]=0}static estimateBlackPoint(l){const u=l.length;let h=0,p=0,x=0;for(let B=0;B<u;B++)l[B]>x&&(p=B,x=l[B]),l[B]>h&&(h=l[B]);let v=0,j=0;for(let B=0;B<u;B++){const K=B-p,Q=l[B]*K*K;Q>j&&(v=B,j=Q)}if(p>v){const B=p;p=v,v=B}if(v-p<=u/16)throw new Z;let _=v-1,R=-1;for(let B=v-1;B>p;B--){const K=B-p,Q=K*K*(v-B)*(h-l[B]);Q>R&&(_=B,R=Q)}return _<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class ve extends ye{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),u=l.getWidth(),h=l.getHeight();if(u>=ve.MINIMUM_DIMENSION&&h>=ve.MINIMUM_DIMENSION){const p=l.getMatrix();let x=u>>ve.BLOCK_SIZE_POWER;u&ve.BLOCK_SIZE_MASK&&x++;let v=h>>ve.BLOCK_SIZE_POWER;h&ve.BLOCK_SIZE_MASK&&v++;const j=ve.calculateBlackPoints(p,x,v,u,h),_=new V(u,h);ve.calculateThresholdForBlock(p,x,v,u,h,j,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ve(l)}static calculateThresholdForBlock(l,u,h,p,x,v,j){const _=x-ve.BLOCK_SIZE,R=p-ve.BLOCK_SIZE;for(let B=0;B<h;B++){let K=B<<ve.BLOCK_SIZE_POWER;K>_&&(K=_);const Q=ve.cap(B,2,h-3);for(let le=0;le<u;le++){let be=le<<ve.BLOCK_SIZE_POWER;be>R&&(be=R);const Ae=ve.cap(le,2,u-3);let Oe=0;for(let Ye=-2;Ye<=2;Ye++){const et=v[Q+Ye];Oe+=et[Ae-2]+et[Ae-1]+et[Ae]+et[Ae+1]+et[Ae+2]}const Fe=Oe/25;ve.thresholdBlock(l,be,K,Fe,p,j)}}}static cap(l,u,h){return l<u?u:l>h?h:l}static thresholdBlock(l,u,h,p,x,v){for(let j=0,_=h*x+u;j<ve.BLOCK_SIZE;j++,_+=x)for(let R=0;R<ve.BLOCK_SIZE;R++)(l[_+R]&255)<=p&&v.set(u+R,h+j)}static calculateBlackPoints(l,u,h,p,x){const v=x-ve.BLOCK_SIZE,j=p-ve.BLOCK_SIZE,_=new Array(h);for(let R=0;R<h;R++){_[R]=new Int32Array(u);let B=R<<ve.BLOCK_SIZE_POWER;B>v&&(B=v);for(let K=0;K<u;K++){let Q=K<<ve.BLOCK_SIZE_POWER;Q>j&&(Q=j);let le=0,be=255,Ae=0;for(let Fe=0,Ye=B*p+Q;Fe<ve.BLOCK_SIZE;Fe++,Ye+=p){for(let et=0;et<ve.BLOCK_SIZE;et++){const Je=l[Ye+et]&255;le+=Je,Je<be&&(be=Je),Je>Ae&&(Ae=Je)}if(Ae-be>ve.MIN_DYNAMIC_RANGE)for(Fe++,Ye+=p;Fe<ve.BLOCK_SIZE;Fe++,Ye+=p)for(let et=0;et<ve.BLOCK_SIZE;et++)le+=l[Ye+et]&255}let Oe=le>>ve.BLOCK_SIZE_POWER*2;if(Ae-be<=ve.MIN_DYNAMIC_RANGE&&(Oe=be/2,R>0&&K>0)){const Fe=(_[R-1][K]+2*_[R][K-1]+_[R-1][K-1])/4;be<Fe&&(Oe=Fe)}_[R][K]=Oe}}return _}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class me{constructor(l,u){this.width=l,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,u,h,p){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let u=new te;for(let h=0;h<this.height;h++){const p=this.getRow(h,l);for(let x=0;x<this.width;x++){const v=p[x]&255;let j;v<64?j="#":v<128?j="+":v<192?j=".":j=" ",u.append(j)}u.append(`
`)}return u.toString()}}class Ne extends me{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,u){const h=this.delegate.getRow(l,u),p=this.getWidth();for(let x=0;x<p;x++)h[x]=255-(h[x]&255);return h}getMatrix(){const l=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(u);for(let p=0;p<u;p++)h[p]=255-(l[p]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(l,u,h,p){return new Ne(this.delegate.crop(l,u,h,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ne(this.delegate.rotateCounterClockwise45())}}class Ie extends me{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const u=l.getContext("2d").getImageData(0,0,l.width,l.height);return Ie.toGrayscaleBuffer(u.data,l.width,l.height)}static toGrayscaleBuffer(l,u,h){const p=new Uint8ClampedArray(u*h);for(let x=0,v=0,j=l.length;x<j;x+=4,v++){let _;if(l[x+3]===0)_=255;else{const B=l[x],K=l[x+1],Q=l[x+2];_=306*B+601*K+117*Q+512>>10}p[v]=_}return p}getRow(l,u){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const h=this.getWidth(),p=l*h;return u===null?u=this.buffer.slice(p,p+h):(u.length<h&&(u=new Uint8ClampedArray(h)),u.set(this.buffer.slice(p,p+h))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,u,h,p){return super.crop(l,u,h,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const u=this.getTempCanvasElement(),h=u.getContext("2d"),p=l*Ie.DEGREE_TO_RADIANS,x=this.canvas.width,v=this.canvas.height,j=Math.ceil(Math.abs(Math.cos(p))*x+Math.abs(Math.sin(p))*v),_=Math.ceil(Math.abs(Math.sin(p))*x+Math.abs(Math.cos(p))*v);return u.width=j,u.height=_,h.translate(j/2,_/2),h.rotate(p),h.drawImage(this.canvas,x/-2,v/-2),this.buffer=Ie.makeBufferFromCanvasImageData(u),this}invert(){return new Ne(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class je{constructor(l,u,h){this.deviceId=l,this.label=u,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var q=(globalThis||Sf||self||window||void 0)&&(globalThis||Sf||self||window||void 0).__awaiter||function(G,l,u,h){function p(x){return x instanceof u?x:new u(function(v){v(x)})}return new(u||(u=Promise))(function(x,v){function j(B){try{R(h.next(B))}catch(K){v(K)}}function _(B){try{R(h.throw(B))}catch(K){v(K)}}function R(B){B.done?x(B.value):p(B.value).then(j,_)}R((h=h.apply(G,l||[])).next())})};class oe{constructor(l,u=500,h){this.reader=l,this.timeBetweenScansMillis=u,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const h of l){const p=h.kind==="video"?"videoinput":h.kind;if(p!=="videoinput")continue;const x=h.deviceId||h.id,v=h.label||`Video device ${u.length+1}`,j=h.groupId,_={deviceId:x,label:v,kind:p,groupId:j};u.push(_)}return u})}getVideoInputDevices(){return q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new je(u.deviceId,u.label))})}findDeviceById(l){return q(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(h=>h.deviceId===l):null})}decodeFromInputVideoDevice(l,u){return q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,u)})}decodeOnceFromVideoDevice(l,u){return q(this,void 0,void 0,function*(){this.reset();let h;l?h={deviceId:{exact:l}}:h={facingMode:"environment"};const p={video:h};return yield this.decodeOnceFromConstraints(p,u)})}decodeOnceFromConstraints(l,u){return q(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(h,u)})}decodeOnceFromStream(l,u){return q(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(l,u);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(l,u,h){return q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,u,h)})}decodeFromVideoDevice(l,u,h){return q(this,void 0,void 0,function*(){let p;l?p={deviceId:{exact:l}}:p={facingMode:"environment"};const x={video:p};return yield this.decodeFromConstraints(x,u,h)})}decodeFromConstraints(l,u,h){return q(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(p,u,h)})}decodeFromStream(l,u,h){return q(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(l,u);return yield this.decodeContinuously(p,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,u){return q(this,void 0,void 0,function*(){const h=this.prepareVideoElement(u);return this.addVideoSource(h,l),this.videoElement=h,this.stream=l,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(l){return new Promise((u,h)=>this.playVideoOnLoad(l,()=>u()))}playVideoOnLoad(l,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",u),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return q(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,u){const h=document.getElementById(l);if(!h)throw new m(`element with id '${l}' not found`);if(h.nodeName.toLowerCase()!==u.toLowerCase())throw new m(`element with id '${l}' must be an ${u} element`);return h}decodeFromImage(l,u){if(!l&&!u)throw new m("either imageElement with a src set or an url must be provided");return u&&!l?this.decodeFromImageUrl(u):this.decodeFromImageElement(l)}decodeFromVideo(l,u){if(!l&&!u)throw new m("Either an element with a src set or an URL must be provided");return u&&!l?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,u,h){if(l===void 0&&u===void 0)throw new m("Either an element with a src set or an URL must be provided");return u&&!l?this.decodeFromVideoUrlContinuously(u,h):this.decodeFromVideoElementContinuously(l,h)}decodeFromImageElement(l){if(!l)throw new m("An image element must be provided.");this.reset();const u=this.prepareImageElement(l);this.imageElement=u;let h;return this.isImageLoaded(u)?h=this.decodeOnce(u,!1,!0):h=this._decodeOnLoadImage(u),h}decodeFromVideoElement(l){const u=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(l,u){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(h,u)}_decodeFromVideoElementSetup(l){if(!l)throw new m("A video element must be provided.");this.reset();const u=this.prepareVideoElement(l);return this.videoElement=u,u}decodeFromImageUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const h=this._decodeOnLoadImage(u);return u.src=l,h}decodeFromVideoUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElement(u);return u.src=l,h}decodeFromVideoUrlContinuously(l,u){if(!l)throw new m("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(h,u);return h.src=l,p}_decodeOnLoadImage(l){return new Promise((u,h)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(u,h),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,u){return q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,u)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let u;return typeof l>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof l=="string"&&(u=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(u=l),u}prepareVideoElement(l){let u;return!l&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof l=="string"&&(u=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(u=l),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(l,u=!0,h=!0){this._stopAsyncDecode=!1;const p=(x,v)=>{if(this._stopAsyncDecode){v(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const j=this.decode(l);x(j)}catch(j){const _=u&&j instanceof Z,B=(j instanceof y||j instanceof $)&&h;if(_||B)return setTimeout(p,this._timeBetweenDecodingAttempts,x,v);v(j)}};return new Promise((x,v)=>p(x,v))}decodeContinuously(l,u){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(l);u(p,null),setTimeout(h,this.timeBetweenScansMillis)}catch(p){u(null,p);const x=p instanceof y||p instanceof $,v=p instanceof Z;(x||v)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(l){const u=this.createBinaryBitmap(l);return this.decodeBitmap(u)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,u,h){u||(u={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(l,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(l,u,h=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(l,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const u=this.getCaptureCanvas(l),h=new Ie(u),p=new ve(h);return new b(p)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const u=this.createCaptureCanvas(l);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let h,p;return typeof l<"u"&&(l instanceof HTMLVideoElement?(h=l.videoWidth,p=l.videoHeight):l instanceof HTMLImageElement&&(h=l.naturalWidth||l.width,p=l.naturalHeight||l.height)),u.style.width=h+"px",u.style.height=p+"px",u.width=h,u.height=p,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,u){try{l.srcObject=u}catch{l.src=URL.createObjectURL(u)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class ne{constructor(l,u,h=u==null?0:8*u.length,p,x,v=A.currentTimeMillis()){this.text=l,this.rawBytes=u,this.numBits=h,this.resultPoints=p,this.format=x,this.timestamp=v,this.text=l,this.rawBytes=u,h==null?this.numBits=u==null?0:8*u.length:this.numBits=h,this.resultPoints=p,this.format=x,this.resultMetadata=null,v==null?this.timestamp=A.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,u)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const u=this.resultPoints;if(u===null)this.resultPoints=l;else if(l!==null&&l.length>0){const h=new Array(u.length+l.length);A.arraycopy(u,0,h,0,u.length),A.arraycopy(l,0,h,u.length,l.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ge;(function(G){G[G.AZTEC=0]="AZTEC",G[G.CODABAR=1]="CODABAR",G[G.CODE_39=2]="CODE_39",G[G.CODE_93=3]="CODE_93",G[G.CODE_128=4]="CODE_128",G[G.DATA_MATRIX=5]="DATA_MATRIX",G[G.EAN_8=6]="EAN_8",G[G.EAN_13=7]="EAN_13",G[G.ITF=8]="ITF",G[G.MAXICODE=9]="MAXICODE",G[G.PDF_417=10]="PDF_417",G[G.QR_CODE=11]="QR_CODE",G[G.RSS_14=12]="RSS_14",G[G.RSS_EXPANDED=13]="RSS_EXPANDED",G[G.UPC_A=14]="UPC_A",G[G.UPC_E=15]="UPC_E",G[G.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ge||(ge={}));var xe=ge,_e;(function(G){G[G.OTHER=0]="OTHER",G[G.ORIENTATION=1]="ORIENTATION",G[G.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",G[G.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",G[G.ISSUE_NUMBER=4]="ISSUE_NUMBER",G[G.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",G[G.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",G[G.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",G[G.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",G[G.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",G[G.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_e||(_e={}));var he=_e;class pe{constructor(l,u,h,p,x=-1,v=-1){this.rawBytes=l,this.text=u,this.byteSegments=h,this.ecLevel=p,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=v,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ce{exp(l){return this.expTable[l]}log(l){if(l===0)throw new g;return this.logTable[l]}static addOrSubtract(l,u){return l^u}}class Ee{constructor(l,u){if(u.length===0)throw new g;this.field=l;const h=u.length;if(h>1&&u[0]===0){let p=1;for(;p<h&&u[p]===0;)p++;p===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-p),A.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const u=this.coefficients;let h;if(l===1){h=0;for(let v=0,j=u.length;v!==j;v++){const _=u[v];h=Ce.addOrSubtract(h,_)}return h}h=u[0];const p=u.length,x=this.field;for(let v=1;v<p;v++)h=Ce.addOrSubtract(x.multiply(l,h),u[v]);return h}addOrSubtract(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let u=this.coefficients,h=l.coefficients;if(u.length>h.length){const v=u;u=h,h=v}let p=new Int32Array(h.length);const x=h.length-u.length;A.arraycopy(h,0,p,0,x);for(let v=x;v<h.length;v++)p[v]=Ce.addOrSubtract(u[v-x],h[v]);return new Ee(this.field,p)}multiply(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const u=this.coefficients,h=u.length,p=l.coefficients,x=p.length,v=new Int32Array(h+x-1),j=this.field;for(let _=0;_<h;_++){const R=u[_];for(let B=0;B<x;B++)v[_+B]=Ce.addOrSubtract(v[_+B],j.multiply(R,p[B]))}return new Ee(j,v)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const u=this.coefficients.length,h=this.field,p=new Int32Array(u),x=this.coefficients;for(let v=0;v<u;v++)p[v]=h.multiply(x[v],l);return new Ee(h,p)}multiplyByMonomial(l,u){if(l<0)throw new g;if(u===0)return this.field.getZero();const h=this.coefficients,p=h.length,x=new Int32Array(p+l),v=this.field;for(let j=0;j<p;j++)x[j]=v.multiply(h[j],u);return new Ee(v,x)}divide(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new g("Divide by 0");const u=this.field;let h=u.getZero(),p=this;const x=l.getCoefficient(l.getDegree()),v=u.inverse(x);for(;p.getDegree()>=l.getDegree()&&!p.isZero();){const j=p.getDegree()-l.getDegree(),_=u.multiply(p.getCoefficient(p.getDegree()),v),R=l.multiplyByMonomial(j,_),B=u.buildMonomial(j,_);h=h.addOrSubtract(B),p=p.addOrSubtract(R)}return[h,p]}toString(){let l="";for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);if(h!==0){if(h<0?(l+=" - ",h=-h):l.length>0&&(l+=" + "),u===0||h!==1){const p=this.field.log(h);p===0?l+="1":p===1?l+="a":(l+="a^",l+=p)}u!==0&&(u===1?l+="x":(l+="x^",l+=u))}}return l}}class Te extends f{}Te.kind="ArithmeticException";class ze extends Ce{constructor(l,u,h){super(),this.primitive=l,this.size=u,this.generatorBase=h;const p=new Int32Array(u);let x=1;for(let j=0;j<u;j++)p[j]=x,x*=2,x>=u&&(x^=l,x&=u-1);this.expTable=p;const v=new Int32Array(u);for(let j=0;j<u-1;j++)v[p[j]]=j;this.logTable=v,this.zero=new Ee(this,Int32Array.from([0])),this.one=new Ee(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,u){if(l<0)throw new g;if(u===0)return this.zero;const h=new Int32Array(l+1);return h[0]=u,new Ee(this,h)}inverse(l){if(l===0)throw new Te;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,u){return l===0||u===0?0:this.expTable[(this.logTable[l]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class Re extends f{}Re.kind="ReedSolomonException";class ce extends f{}ce.kind="IllegalStateException";class Ze{constructor(l){this.field=l}decode(l,u){const h=this.field,p=new Ee(h,l),x=new Int32Array(u);let v=!0;for(let le=0;le<u;le++){const be=p.evaluateAt(h.exp(le+h.getGeneratorBase()));x[x.length-1-le]=be,be!==0&&(v=!1)}if(v)return;const j=new Ee(h,x),_=this.runEuclideanAlgorithm(h.buildMonomial(u,1),j,u),R=_[0],B=_[1],K=this.findErrorLocations(R),Q=this.findErrorMagnitudes(B,K);for(let le=0;le<K.length;le++){const be=l.length-1-h.log(K[le]);if(be<0)throw new Re("Bad error location");l[be]=ze.addOrSubtract(l[be],Q[le])}}runEuclideanAlgorithm(l,u,h){if(l.getDegree()<u.getDegree()){const le=l;l=u,u=le}const p=this.field;let x=l,v=u,j=p.getZero(),_=p.getOne();for(;v.getDegree()>=(h/2|0);){let le=x,be=j;if(x=v,j=_,x.isZero())throw new Re("r_{i-1} was zero");v=le;let Ae=p.getZero();const Oe=x.getCoefficient(x.getDegree()),Fe=p.inverse(Oe);for(;v.getDegree()>=x.getDegree()&&!v.isZero();){const Ye=v.getDegree()-x.getDegree(),et=p.multiply(v.getCoefficient(v.getDegree()),Fe);Ae=Ae.addOrSubtract(p.buildMonomial(Ye,et)),v=v.addOrSubtract(x.multiplyByMonomial(Ye,et))}if(_=Ae.multiply(j).addOrSubtract(be),v.getDegree()>=x.getDegree())throw new ce("Division algorithm failed to reduce polynomial?")}const R=_.getCoefficient(0);if(R===0)throw new Re("sigmaTilde(0) was zero");const B=p.inverse(R),K=_.multiplyScalar(B),Q=v.multiplyScalar(B);return[K,Q]}findErrorLocations(l){const u=l.getDegree();if(u===1)return Int32Array.from([l.getCoefficient(1)]);const h=new Int32Array(u);let p=0;const x=this.field;for(let v=1;v<x.getSize()&&p<u;v++)l.evaluateAt(v)===0&&(h[p]=x.inverse(v),p++);if(p!==u)throw new Re("Error locator degree does not match number of roots");return h}findErrorMagnitudes(l,u){const h=u.length,p=new Int32Array(h),x=this.field;for(let v=0;v<h;v++){const j=x.inverse(u[v]);let _=1;for(let R=0;R<h;R++)if(v!==R){const B=x.multiply(u[R],j),K=B&1?B&-2:B|1;_=x.multiply(_,K)}p[v]=x.multiply(l.evaluateAt(j),x.inverse(_)),x.getGeneratorBase()!==0&&(p[v]=x.multiply(p[v],j))}return p}}var ot;(function(G){G[G.UPPER=0]="UPPER",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.DIGIT=3]="DIGIT",G[G.PUNCT=4]="PUNCT",G[G.BINARY=5]="BINARY"})(ot||(ot={}));class st{decode(l){this.ddata=l;let u=l.getBits(),h=this.extractBits(u),p=this.correctBits(h),x=st.convertBoolArrayToByteArray(p),v=st.getEncodedData(p),j=new pe(x,v,null,null);return j.setNumBits(p.length),j}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let u=l.length,h=ot.UPPER,p=ot.UPPER,x="",v=0;for(;v<u;)if(p===ot.BINARY){if(u-v<5)break;let j=st.readCode(l,v,5);if(v+=5,j===0){if(u-v<11)break;j=st.readCode(l,v,11)+31,v+=11}for(let _=0;_<j;_++){if(u-v<8){v=u;break}const R=st.readCode(l,v,8);x+=z.castAsNonUtf8Char(R),v+=8}p=h}else{let j=p===ot.DIGIT?4:5;if(u-v<j)break;let _=st.readCode(l,v,j);v+=j;let R=st.getCharacter(p,_);R.startsWith("CTRL_")?(h=p,p=st.getTable(R.charAt(5)),R.charAt(6)==="L"&&(h=p)):(x+=R,p=h)}return x}static getTable(l){switch(l){case"L":return ot.LOWER;case"P":return ot.PUNCT;case"M":return ot.MIXED;case"D":return ot.DIGIT;case"B":return ot.BINARY;case"U":default:return ot.UPPER}}static getCharacter(l,u){switch(l){case ot.UPPER:return st.UPPER_TABLE[u];case ot.LOWER:return st.LOWER_TABLE[u];case ot.MIXED:return st.MIXED_TABLE[u];case ot.PUNCT:return st.PUNCT_TABLE[u];case ot.DIGIT:return st.DIGIT_TABLE[u];default:throw new ce("Bad table")}}correctBits(l){let u,h;this.ddata.getNbLayers()<=2?(h=6,u=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,u=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,u=ze.AZTEC_DATA_10):(h=12,u=ze.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),x=l.length/h;if(x<p)throw new $;let v=l.length%h,j=new Int32Array(x);for(let Q=0;Q<x;Q++,v+=h)j[Q]=st.readCode(l,v,h);try{new Ze(u).decode(j,x-p)}catch(Q){throw new $(Q)}let _=(1<<h)-1,R=0;for(let Q=0;Q<p;Q++){let le=j[Q];if(le===0||le===_)throw new $;(le===1||le===_-1)&&R++}let B=new Array(p*h-R),K=0;for(let Q=0;Q<p;Q++){let le=j[Q];if(le===1||le===_-1)B.fill(le>1,K,K+h-1),K+=h-1;else for(let be=h-1;be>=0;--be)B[K++]=(le&1<<be)!==0}return B}extractBits(l){let u=this.ddata.isCompact(),h=this.ddata.getNbLayers(),p=(u?11:14)+h*4,x=new Int32Array(p),v=new Array(this.totalBitsInLayer(h,u));if(u)for(let j=0;j<x.length;j++)x[j]=j;else{let j=p+1+2*k.truncDivision(k.truncDivision(p,2)-1,15),_=p/2,R=k.truncDivision(j,2);for(let B=0;B<_;B++){let K=B+k.truncDivision(B,15);x[_-B-1]=R-K-1,x[_+B]=R+K+1}}for(let j=0,_=0;j<h;j++){let R=(h-j)*4+(u?9:12),B=j*2,K=p-1-B;for(let Q=0;Q<R;Q++){let le=Q*2;for(let be=0;be<2;be++)v[_+le+be]=l.get(x[B+be],x[B+Q]),v[_+2*R+le+be]=l.get(x[B+Q],x[K-be]),v[_+4*R+le+be]=l.get(x[K-be],x[K-Q]),v[_+6*R+le+be]=l.get(x[K-Q],x[B+be])}_+=R*8}return v}static readCode(l,u,h){let p=0;for(let x=u;x<u+h;x++)p<<=1,l[x]&&(p|=1);return p}static readByte(l,u){let h=l.length-u;return h>=8?st.readCode(l,u,8):st.readCode(l,u,h)<<8-h}static convertBoolArrayToByteArray(l){let u=new Uint8Array((l.length+7)/8);for(let h=0;h<u.length;h++)u[h]=st.readByte(l,8*h);return u}totalBitsInLayer(l,u){return((u?88:112)+16*l)*l}}st.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],st.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],st.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],st.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],st.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ve{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,u,h,p){const x=l-h,v=u-p;return Math.sqrt(x*x+v*v)}static sum(l){let u=0;for(let h=0,p=l.length;h!==p;h++){const x=l[h];u+=x}return u}}class Ct{static floatToIntBits(l){return l}}Ct.MAX_VALUE=Number.MAX_SAFE_INTEGER;class He{constructor(l,u){this.x=l,this.y=u}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof He){const u=l;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*Ct.floatToIntBits(this.x)+Ct.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const u=this.distance(l[0],l[1]),h=this.distance(l[1],l[2]),p=this.distance(l[0],l[2]);let x,v,j;if(h>=u&&h>=p?(v=l[0],x=l[1],j=l[2]):p>=h&&p>=u?(v=l[1],x=l[0],j=l[2]):(v=l[2],x=l[0],j=l[1]),this.crossProductZ(x,v,j)<0){const _=x;x=j,j=_}l[0]=x,l[1]=v,l[2]=j}static distance(l,u){return Ve.distance(l.x,l.y,u.x,u.y)}static crossProductZ(l,u,h){const p=u.x,x=u.y;return(h.x-p)*(l.y-x)-(h.y-x)*(l.x-p)}}class Gt{constructor(l,u){this.bits=l,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class It extends Gt{constructor(l,u,h,p,x){super(l,u),this.compact=h,this.nbDatablocks=p,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class rr{constructor(l,u,h,p){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),u==null&&(u=rr.INIT_SIZE),h==null&&(h=l.getWidth()/2|0),p==null&&(p=l.getHeight()/2|0);const x=u/2|0;if(this.leftInit=h-x,this.rightInit=h+x,this.upInit=p-x,this.downInit=p+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let l=this.leftInit,u=this.rightInit,h=this.upInit,p=this.downInit,x=!1,v=!0,j=!1,_=!1,R=!1,B=!1,K=!1;const Q=this.width,le=this.height;for(;v;){v=!1;let be=!0;for(;(be||!_)&&u<Q;)be=this.containsBlackPoint(h,p,u,!1),be?(u++,v=!0,_=!0):_||u++;if(u>=Q){x=!0;break}let Ae=!0;for(;(Ae||!R)&&p<le;)Ae=this.containsBlackPoint(l,u,p,!0),Ae?(p++,v=!0,R=!0):R||p++;if(p>=le){x=!0;break}let Oe=!0;for(;(Oe||!B)&&l>=0;)Oe=this.containsBlackPoint(h,p,l,!1),Oe?(l--,v=!0,B=!0):B||l--;if(l<0){x=!0;break}let Fe=!0;for(;(Fe||!K)&&h>=0;)Fe=this.containsBlackPoint(l,u,h,!0),Fe?(h--,v=!0,K=!0):K||h--;if(h<0){x=!0;break}v&&(j=!0)}if(!x&&j){const be=u-l;let Ae=null;for(let et=1;Ae===null&&et<be;et++)Ae=this.getBlackPointOnSegment(l,p-et,l+et,p);if(Ae==null)throw new Z;let Oe=null;for(let et=1;Oe===null&&et<be;et++)Oe=this.getBlackPointOnSegment(l,h+et,l+et,h);if(Oe==null)throw new Z;let Fe=null;for(let et=1;Fe===null&&et<be;et++)Fe=this.getBlackPointOnSegment(u,h+et,u-et,h);if(Fe==null)throw new Z;let Ye=null;for(let et=1;Ye===null&&et<be;et++)Ye=this.getBlackPointOnSegment(u,p-et,u-et,p);if(Ye==null)throw new Z;return this.centerEdges(Ye,Ae,Fe,Oe)}else throw new Z}getBlackPointOnSegment(l,u,h,p){const x=Ve.round(Ve.distance(l,u,h,p)),v=(h-l)/x,j=(p-u)/x,_=this.image;for(let R=0;R<x;R++){const B=Ve.round(l+R*v),K=Ve.round(u+R*j);if(_.get(B,K))return new He(B,K)}return null}centerEdges(l,u,h,p){const x=l.getX(),v=l.getY(),j=u.getX(),_=u.getY(),R=h.getX(),B=h.getY(),K=p.getX(),Q=p.getY(),le=rr.CORR;return x<this.width/2?[new He(K-le,Q+le),new He(j+le,_+le),new He(R-le,B-le),new He(x+le,v-le)]:[new He(K+le,Q+le),new He(j+le,_-le),new He(R-le,B+le),new He(x-le,v-le)]}containsBlackPoint(l,u,h,p){const x=this.image;if(p){for(let v=l;v<=u;v++)if(x.get(v,h))return!0}else for(let v=l;v<=u;v++)if(x.get(h,v))return!0;return!1}}rr.INIT_SIZE=10,rr.CORR=1;class Kt{static checkAndNudgePoints(l,u){const h=l.getWidth(),p=l.getHeight();let x=!0;for(let v=0;v<u.length&&x;v+=2){const j=Math.floor(u[v]),_=Math.floor(u[v+1]);if(j<-1||j>h||_<-1||_>p)throw new Z;x=!1,j===-1?(u[v]=0,x=!0):j===h&&(u[v]=h-1,x=!0),_===-1?(u[v+1]=0,x=!0):_===p&&(u[v+1]=p-1,x=!0)}x=!0;for(let v=u.length-2;v>=0&&x;v-=2){const j=Math.floor(u[v]),_=Math.floor(u[v+1]);if(j<-1||j>h||_<-1||_>p)throw new Z;x=!1,j===-1?(u[v]=0,x=!0):j===h&&(u[v]=h-1,x=!0),_===-1?(u[v+1]=0,x=!0):_===p&&(u[v+1]=p-1,x=!0)}}}class Rt{constructor(l,u,h,p,x,v,j,_,R){this.a11=l,this.a21=u,this.a31=h,this.a12=p,this.a22=x,this.a32=v,this.a13=j,this.a23=_,this.a33=R}static quadrilateralToQuadrilateral(l,u,h,p,x,v,j,_,R,B,K,Q,le,be,Ae,Oe){const Fe=Rt.quadrilateralToSquare(l,u,h,p,x,v,j,_);return Rt.squareToQuadrilateral(R,B,K,Q,le,be,Ae,Oe).times(Fe)}transformPoints(l){const u=l.length,h=this.a11,p=this.a12,x=this.a13,v=this.a21,j=this.a22,_=this.a23,R=this.a31,B=this.a32,K=this.a33;for(let Q=0;Q<u;Q+=2){const le=l[Q],be=l[Q+1],Ae=x*le+_*be+K;l[Q]=(h*le+v*be+R)/Ae,l[Q+1]=(p*le+j*be+B)/Ae}}transformPointsWithValues(l,u){const h=this.a11,p=this.a12,x=this.a13,v=this.a21,j=this.a22,_=this.a23,R=this.a31,B=this.a32,K=this.a33,Q=l.length;for(let le=0;le<Q;le++){const be=l[le],Ae=u[le],Oe=x*be+_*Ae+K;l[le]=(h*be+v*Ae+R)/Oe,u[le]=(p*be+j*Ae+B)/Oe}}static squareToQuadrilateral(l,u,h,p,x,v,j,_){const R=l-h+x-j,B=u-p+v-_;if(R===0&&B===0)return new Rt(h-l,x-h,l,p-u,v-p,u,0,0,1);{const K=h-x,Q=j-x,le=p-v,be=_-v,Ae=K*be-Q*le,Oe=(R*be-Q*B)/Ae,Fe=(K*B-R*le)/Ae;return new Rt(h-l+Oe*h,j-l+Fe*j,l,p-u+Oe*p,_-u+Fe*_,u,Oe,Fe,1)}}static quadrilateralToSquare(l,u,h,p,x,v,j,_){return Rt.squareToQuadrilateral(l,u,h,p,x,v,j,_).buildAdjoint()}buildAdjoint(){return new Rt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new Rt(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Cr extends Kt{sampleGrid(l,u,h,p,x,v,j,_,R,B,K,Q,le,be,Ae,Oe,Fe,Ye,et){const Je=Rt.quadrilateralToQuadrilateral(p,x,v,j,_,R,B,K,Q,le,be,Ae,Oe,Fe,Ye,et);return this.sampleGridWithTransform(l,u,h,Je)}sampleGridWithTransform(l,u,h,p){if(u<=0||h<=0)throw new Z;const x=new V(u,h),v=new Float32Array(2*u);for(let j=0;j<h;j++){const _=v.length,R=j+.5;for(let B=0;B<_;B+=2)v[B]=B/2+.5,v[B+1]=R;p.transformPoints(v),Kt.checkAndNudgePoints(l,v);try{for(let B=0;B<_;B+=2)l.get(Math.floor(v[B]),Math.floor(v[B+1]))&&x.set(B/2,j)}catch{throw new Z}}return x}}class Ut{static setGridSampler(l){Ut.gridSampler=l}static getInstance(){return Ut.gridSampler}}Ut.gridSampler=new Cr;class ht{constructor(l,u){this.x=l,this.y=u}toResultPoint(){return new He(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class zt{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let u=this.getMatrixCenter(),h=this.getBullsEyeCorners(u);if(l){let v=h[0];h[0]=h[2],h[2]=v}this.extractParameters(h);let p=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),x=this.getMatrixCornerPoints(h);return new It(p,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new Z;let u=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(l[0],l[1],u),this.sampleLine(l[1],l[2],u),this.sampleLine(l[2],l[3],u),this.sampleLine(l[3],l[0],u)]);this.shift=this.getRotation(h,u);let p=0;for(let v=0;v<4;v++){let j=h[(this.shift+v)%4];this.compact?(p<<=7,p+=j>>1&127):(p<<=10,p+=(j>>2&992)+(j>>1&31))}let x=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(l,u){let h=0;l.forEach((p,x,v)=>{let j=(p>>u-2<<1)+(p&1);h=(h<<3)+j}),h=((h&1)<<11)+(h>>1);for(let p=0;p<4;p++)if(k.bitCount(h^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new Z}getCorrectedParameterData(l,u){let h,p;u?(h=7,p=2):(h=10,p=4);let x=h-p,v=new Int32Array(h);for(let _=h-1;_>=0;--_)v[_]=l&15,l>>=4;try{new Ze(ze.AZTEC_PARAM).decode(v,x)}catch{throw new Z}let j=0;for(let _=0;_<p;_++)j=(j<<4)+v[_];return j}getBullsEyeCorners(l){let u=l,h=l,p=l,x=l,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let K=this.getFirstDifferent(u,v,1,-1),Q=this.getFirstDifferent(h,v,1,1),le=this.getFirstDifferent(p,v,-1,1),be=this.getFirstDifferent(x,v,-1,-1);if(this.nbCenterLayers>2){let Ae=this.distancePoint(be,K)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(Ae<.75||Ae>1.25||!this.isWhiteOrBlackRectangle(K,Q,le,be))break}u=K,h=Q,p=le,x=be,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let j=new He(u.getX()+.5,u.getY()-.5),_=new He(h.getX()+.5,h.getY()+.5),R=new He(p.getX()-.5,p.getY()+.5),B=new He(x.getX()-.5,x.getY()-.5);return this.expandSquare([j,_,R,B],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,u,h,p;try{let j=new rr(this.image).detect();l=j[0],u=j[1],h=j[2],p=j[3]}catch{let _=this.image.getWidth()/2,R=this.image.getHeight()/2;l=this.getFirstDifferent(new ht(_+7,R-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new ht(_+7,R+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new ht(_-7,R+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new ht(_-7,R-7),!1,-1,-1).toResultPoint()}let x=Ve.round((l.getX()+p.getX()+u.getX()+h.getX())/4),v=Ve.round((l.getY()+p.getY()+u.getY()+h.getY())/4);try{let j=new rr(this.image,15,x,v).detect();l=j[0],u=j[1],h=j[2],p=j[3]}catch{l=this.getFirstDifferent(new ht(x+7,v-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new ht(x+7,v+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new ht(x-7,v+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new ht(x-7,v-7),!1,-1,-1).toResultPoint()}return x=Ve.round((l.getX()+p.getX()+u.getX()+h.getX())/4),v=Ve.round((l.getY()+p.getY()+u.getY()+h.getY())/4),new ht(x,v)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,u,h,p,x){let v=Ut.getInstance(),j=this.getDimension(),_=j/2-this.nbCenterLayers,R=j/2+this.nbCenterLayers;return v.sampleGrid(l,j,j,_,_,R,_,R,R,_,R,u.getX(),u.getY(),h.getX(),h.getY(),p.getX(),p.getY(),x.getX(),x.getY())}sampleLine(l,u,h){let p=0,x=this.distanceResultPoint(l,u),v=x/h,j=l.getX(),_=l.getY(),R=v*(u.getX()-l.getX())/x,B=v*(u.getY()-l.getY())/x;for(let K=0;K<h;K++)this.image.get(Ve.round(j+K*R),Ve.round(_+K*B))&&(p|=1<<h-K-1);return p}isWhiteOrBlackRectangle(l,u,h,p){let x=3;l=new ht(l.getX()-x,l.getY()+x),u=new ht(u.getX()-x,u.getY()-x),h=new ht(h.getX()+x,h.getY()-x),p=new ht(p.getX()+x,p.getY()+x);let v=this.getColor(p,l);if(v===0)return!1;let j=this.getColor(l,u);return j!==v||(j=this.getColor(u,h),j!==v)?!1:(j=this.getColor(h,p),j===v)}getColor(l,u){let h=this.distancePoint(l,u),p=(u.getX()-l.getX())/h,x=(u.getY()-l.getY())/h,v=0,j=l.getX(),_=l.getY(),R=this.image.get(l.getX(),l.getY()),B=Math.ceil(h);for(let Q=0;Q<B;Q++)j+=p,_+=x,this.image.get(Ve.round(j),Ve.round(_))!==R&&v++;let K=v/h;return K>.1&&K<.9?0:K<=.1===R?1:-1}getFirstDifferent(l,u,h,p){let x=l.getX()+h,v=l.getY()+p;for(;this.isValid(x,v)&&this.image.get(x,v)===u;)x+=h,v+=p;for(x-=h,v-=p;this.isValid(x,v)&&this.image.get(x,v)===u;)x+=h;for(x-=h;this.isValid(x,v)&&this.image.get(x,v)===u;)v+=p;return v-=p,new ht(x,v)}expandSquare(l,u,h){let p=h/(2*u),x=l[0].getX()-l[2].getX(),v=l[0].getY()-l[2].getY(),j=(l[0].getX()+l[2].getX())/2,_=(l[0].getY()+l[2].getY())/2,R=new He(j+p*x,_+p*v),B=new He(j-p*x,_-p*v);x=l[1].getX()-l[3].getX(),v=l[1].getY()-l[3].getY(),j=(l[1].getX()+l[3].getX())/2,_=(l[1].getY()+l[3].getY())/2;let K=new He(j+p*x,_+p*v),Q=new He(j-p*x,_-p*v);return[R,K,B,Q]}isValid(l,u){return l>=0&&l<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(l){let u=Ve.round(l.getX()),h=Ve.round(l.getY());return this.isValid(u,h)}distancePoint(l,u){return Ve.distance(l.getX(),l.getY(),u.getX(),u.getY())}distanceResultPoint(l,u){return Ve.distance(l.getX(),l.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class Et{decode(l,u=null){let h=null,p=new zt(l.getBlackMatrix()),x=null,v=null;try{let B=p.detectMirror(!1);x=B.getPoints(),this.reportFoundResultPoints(u,x),v=new st().decode(B)}catch(B){h=B}if(v==null)try{let B=p.detectMirror(!0);x=B.getPoints(),this.reportFoundResultPoints(u,x),v=new st().decode(B)}catch(B){throw h??B}let j=new ne(v.getText(),v.getRawBytes(),v.getNumBits(),x,xe.AZTEC,A.currentTimeMillis()),_=v.getByteSegments();_!=null&&j.putMetadata(he.BYTE_SEGMENTS,_);let R=v.getECLevel();return R!=null&&j.putMetadata(he.ERROR_CORRECTION_LEVEL,R),j}reportFoundResultPoints(l,u){if(l!=null){let h=l.get(H.NEED_RESULT_POINT_CALLBACK);h!=null&&u.forEach((p,x,v)=>{h.foundPossibleResultPoint(p)})}}reset(){}}class Ur extends oe{constructor(l=500){super(new Et,l)}}class Bt{decode(l,u){try{return this.doDecode(l,u)}catch{if(u&&u.get(H.TRY_HARDER)===!0&&l.isRotateSupported()){const x=l.rotateCounterClockwise(),v=this.doDecode(x,u),j=v.getResultMetadata();let _=270;j!==null&&j.get(he.ORIENTATION)===!0&&(_=_+j.get(he.ORIENTATION)%360),v.putMetadata(he.ORIENTATION,_);const R=v.getResultPoints();if(R!==null){const B=x.getHeight();for(let K=0;K<R.length;K++)R[K]=new He(B-R[K].getY()-1,R[K].getX())}return v}else throw new Z}}reset(){}doDecode(l,u){const h=l.getWidth(),p=l.getHeight();let x=new P(h);const v=u&&u.get(H.TRY_HARDER)===!0,j=Math.max(1,p>>(v?8:5));let _;v?_=p:_=15;const R=Math.trunc(p/2);for(let B=0;B<_;B++){const K=Math.trunc((B+1)/2),Q=(B&1)===0,le=R+j*(Q?K:-K);if(le<0||le>=p)break;try{x=l.getBlackRow(le,x)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(x.reverse(),u&&u.get(H.NEED_RESULT_POINT_CALLBACK)===!0)){const Ae=new Map;u.forEach((Oe,Fe)=>Ae.set(Fe,Oe)),Ae.delete(H.NEED_RESULT_POINT_CALLBACK),u=Ae}try{const Ae=this.decodeRow(le,x,u);if(be===1){Ae.putMetadata(he.ORIENTATION,180);const Oe=Ae.getResultPoints();Oe!==null&&(Oe[0]=new He(h-Oe[0].getX()-1,Oe[0].getY()),Oe[1]=new He(h-Oe[1].getX()-1,Oe[1].getY()))}return Ae}catch{}}}throw new Z}static recordPattern(l,u,h){const p=h.length;for(let R=0;R<p;R++)h[R]=0;const x=l.getSize();if(u>=x)throw new Z;let v=!l.get(u),j=0,_=u;for(;_<x;){if(l.get(_)!==v)h[j]++;else{if(++j===p)break;h[j]=1,v=!v}_++}if(!(j===p||j===p-1&&_===x))throw new Z}static recordPatternInReverse(l,u,h){let p=h.length,x=l.get(u);for(;u>0&&p>=0;)l.get(--u)!==x&&(p--,x=!x);if(p>=0)throw new Z;Bt.recordPattern(l,u+1,h)}static patternMatchVariance(l,u,h){const p=l.length;let x=0,v=0;for(let R=0;R<p;R++)x+=l[R],v+=u[R];if(x<v)return Number.POSITIVE_INFINITY;const j=x/v;h*=j;let _=0;for(let R=0;R<p;R++){const B=l[R],K=u[R]*j,Q=B>K?B-K:K-B;if(Q>h)return Number.POSITIVE_INFINITY;_+=Q}return _/x}}class $e extends Bt{static findStartPattern(l){const u=l.getSize(),h=l.getNextSet(0);let p=0,x=Int32Array.from([0,0,0,0,0,0]),v=h,j=!1;const _=6;for(let R=h;R<u;R++)if(l.get(R)!==j)x[p]++;else{if(p===_-1){let B=$e.MAX_AVG_VARIANCE,K=-1;for(let Q=$e.CODE_START_A;Q<=$e.CODE_START_C;Q++){const le=Bt.patternMatchVariance(x,$e.CODE_PATTERNS[Q],$e.MAX_INDIVIDUAL_VARIANCE);le<B&&(B=le,K=Q)}if(K>=0&&l.isRange(Math.max(0,v-(R-v)/2),v,!1))return Int32Array.from([v,R,K]);v+=x[0]+x[1],x=x.slice(2,x.length-1),x[p-1]=0,x[p]=0,p--}else p++;x[p]=1,j=!j}throw new Z}static decodeCode(l,u,h){Bt.recordPattern(l,h,u);let p=$e.MAX_AVG_VARIANCE,x=-1;for(let v=0;v<$e.CODE_PATTERNS.length;v++){const j=$e.CODE_PATTERNS[v],_=this.patternMatchVariance(u,j,$e.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,x=v)}if(x>=0)return x;throw new Z}decodeRow(l,u,h){const p=h&&h.get(H.ASSUME_GS1)===!0,x=$e.findStartPattern(u),v=x[2];let j=0;const _=new Uint8Array(20);_[j++]=v;let R;switch(v){case $e.CODE_START_A:R=$e.CODE_CODE_A;break;case $e.CODE_START_B:R=$e.CODE_CODE_B;break;case $e.CODE_START_C:R=$e.CODE_CODE_C;break;default:throw new $}let B=!1,K=!1,Q="",le=x[0],be=x[1];const Ae=Int32Array.from([0,0,0,0,0,0]);let Oe=0,Fe=0,Ye=v,et=0,Je=!0,Ot=!1,Ft=!1;for(;!B;){const tl=K;switch(K=!1,Oe=Fe,Fe=$e.decodeCode(u,Ae,be),_[j++]=Fe,Fe!==$e.CODE_STOP&&(Je=!0),Fe!==$e.CODE_STOP&&(et++,Ye+=et*Fe),le=be,be+=Ae.reduce((E0,Vc)=>E0+Vc,0),Fe){case $e.CODE_START_A:case $e.CODE_START_B:case $e.CODE_START_C:throw new $}switch(R){case $e.CODE_CODE_A:if(Fe<64)Ft===Ot?Q+=String.fromCharCode(32+Fe):Q+=String.fromCharCode(32+Fe+128),Ft=!1;else if(Fe<96)Ft===Ot?Q+=String.fromCharCode(Fe-64):Q+=String.fromCharCode(Fe+64),Ft=!1;else switch(Fe!==$e.CODE_STOP&&(Je=!1),Fe){case $e.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case $e.CODE_FNC_2:case $e.CODE_FNC_3:break;case $e.CODE_FNC_4_A:!Ot&&Ft?(Ot=!0,Ft=!1):Ot&&Ft?(Ot=!1,Ft=!1):Ft=!0;break;case $e.CODE_SHIFT:K=!0,R=$e.CODE_CODE_B;break;case $e.CODE_CODE_B:R=$e.CODE_CODE_B;break;case $e.CODE_CODE_C:R=$e.CODE_CODE_C;break;case $e.CODE_STOP:B=!0;break}break;case $e.CODE_CODE_B:if(Fe<96)Ft===Ot?Q+=String.fromCharCode(32+Fe):Q+=String.fromCharCode(32+Fe+128),Ft=!1;else switch(Fe!==$e.CODE_STOP&&(Je=!1),Fe){case $e.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case $e.CODE_FNC_2:case $e.CODE_FNC_3:break;case $e.CODE_FNC_4_B:!Ot&&Ft?(Ot=!0,Ft=!1):Ot&&Ft?(Ot=!1,Ft=!1):Ft=!0;break;case $e.CODE_SHIFT:K=!0,R=$e.CODE_CODE_A;break;case $e.CODE_CODE_A:R=$e.CODE_CODE_A;break;case $e.CODE_CODE_C:R=$e.CODE_CODE_C;break;case $e.CODE_STOP:B=!0;break}break;case $e.CODE_CODE_C:if(Fe<100)Fe<10&&(Q+="0"),Q+=Fe;else switch(Fe!==$e.CODE_STOP&&(Je=!1),Fe){case $e.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case $e.CODE_CODE_A:R=$e.CODE_CODE_A;break;case $e.CODE_CODE_B:R=$e.CODE_CODE_B;break;case $e.CODE_STOP:B=!0;break}break}tl&&(R=R===$e.CODE_CODE_A?$e.CODE_CODE_B:$e.CODE_CODE_A)}const Kn=be-le;if(be=u.getNextUnset(be),!u.isRange(be,Math.min(u.getSize(),be+(be-le)/2),!1))throw new Z;if(Ye-=et*Oe,Ye%103!==Oe)throw new y;const pi=Q.length;if(pi===0)throw new Z;pi>0&&Je&&(R===$e.CODE_CODE_C?Q=Q.substring(0,pi-2):Q=Q.substring(0,pi-1));const ii=(x[1]+x[0])/2,_r=le+Kn/2,Xn=_.length,$i=new Uint8Array(Xn);for(let tl=0;tl<Xn;tl++)$i[tl]=_[tl];const el=[new He(ii,l),new He(_r,l)];return new ne(Q,$i,0,el,xe.CODE_128,new Date().getTime())}}$e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],$e.MAX_AVG_VARIANCE=.25,$e.MAX_INDIVIDUAL_VARIANCE=.7,$e.CODE_SHIFT=98,$e.CODE_CODE_C=99,$e.CODE_CODE_B=100,$e.CODE_CODE_A=101,$e.CODE_FNC_1=102,$e.CODE_FNC_2=97,$e.CODE_FNC_3=96,$e.CODE_FNC_4_A=101,$e.CODE_FNC_4_B=100,$e.CODE_START_A=103,$e.CODE_START_B=104,$e.CODE_START_C=105,$e.CODE_STOP=106;class At extends Bt{constructor(l=!1,u=!1){super(),this.usingCheckDigit=l,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,u,h){let p=this.counters;p.fill(0),this.decodeRowResult="";let x=At.findAsteriskPattern(u,p),v=u.getNextSet(x[1]),j=u.getSize(),_,R;do{At.recordPattern(u,v,p);let Ae=At.toNarrowWidePattern(p);if(Ae<0)throw new Z;_=At.patternToChar(Ae),this.decodeRowResult+=_,R=v;for(let Oe of p)v+=Oe;v=u.getNextSet(v)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let B=0;for(let Ae of p)B+=Ae;let K=v-R-B;if(v!==j&&K*2<B)throw new Z;if(this.usingCheckDigit){let Ae=this.decodeRowResult.length-1,Oe=0;for(let Fe=0;Fe<Ae;Fe++)Oe+=At.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Fe));if(this.decodeRowResult.charAt(Ae)!==At.ALPHABET_STRING.charAt(Oe%43))throw new y;this.decodeRowResult=this.decodeRowResult.substring(0,Ae)}if(this.decodeRowResult.length===0)throw new Z;let Q;this.extendedMode?Q=At.decodeExtended(this.decodeRowResult):Q=this.decodeRowResult;let le=(x[1]+x[0])/2,be=R+B/2;return new ne(Q,null,0,[new He(le,l),new He(be,l)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(l,u){let h=l.getSize(),p=l.getNextSet(0),x=0,v=p,j=!1,_=u.length;for(let R=p;R<h;R++)if(l.get(R)!==j)u[x]++;else{if(x===_-1){if(this.toNarrowWidePattern(u)===At.ASTERISK_ENCODING&&l.isRange(Math.max(0,v-Math.floor((R-v)/2)),v,!1))return[v,R];v+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,j=!j}throw new Z}static toNarrowWidePattern(l){let u=l.length,h=0,p;do{let x=2147483647;for(let _ of l)_<x&&_>h&&(x=_);h=x,p=0;let v=0,j=0;for(let _=0;_<u;_++){let R=l[_];R>h&&(j|=1<<u-1-_,p++,v+=R)}if(p===3){for(let _=0;_<u&&p>0;_++){let R=l[_];if(R>h&&(p--,R*2>=v))return-1}return j}}while(p>3);return-1}static patternToChar(l){for(let u=0;u<At.CHARACTER_ENCODINGS.length;u++)if(At.CHARACTER_ENCODINGS[u]===l)return At.ALPHABET_STRING.charAt(u);if(l===At.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(l){let u=l.length,h="";for(let p=0;p<u;p++){let x=l.charAt(p);if(x==="+"||x==="$"||x==="%"||x==="/"){let v=l.charAt(p+1),j="\0";switch(x){case"+":if(v>="A"&&v<="Z")j=String.fromCharCode(v.charCodeAt(0)+32);else throw new $;break;case"$":if(v>="A"&&v<="Z")j=String.fromCharCode(v.charCodeAt(0)-64);else throw new $;break;case"%":if(v>="A"&&v<="E")j=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")j=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")j=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")j=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")j="\0";else if(v==="V")j="@";else if(v==="W")j="`";else if(v==="X"||v==="Y"||v==="Z")j="";else throw new $;break;case"/":if(v>="A"&&v<="O")j=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")j=":";else throw new $;break}h+=j,p++}else h+=x}return h}}At.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",At.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],At.ASTERISK_ENCODING=148;class Dt extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,u,h){let p=this.decodeStart(u),x=this.decodeEnd(u),v=new te;Dt.decodeMiddle(u,p[1],x[0],v);let j=v.toString(),_=null;h!=null&&(_=h.get(H.ALLOWED_LENGTHS)),_==null&&(_=Dt.DEFAULT_ALLOWED_LENGTHS);let R=j.length,B=!1,K=0;for(let be of _){if(R===be){B=!0;break}be>K&&(K=be)}if(!B&&R>K&&(B=!0),!B)throw new $;const Q=[new He(p[1],l),new He(x[0],l)];return new ne(j,null,0,Q,xe.ITF,new Date().getTime())}static decodeMiddle(l,u,h,p){let x=new Int32Array(10),v=new Int32Array(5),j=new Int32Array(5);for(x.fill(0),v.fill(0),j.fill(0);u<h;){Bt.recordPattern(l,u,x);for(let R=0;R<5;R++){let B=2*R;v[R]=x[B],j[R]=x[B+1]}let _=Dt.decodeDigit(v);p.append(_.toString()),_=this.decodeDigit(j),p.append(_.toString()),x.forEach(function(R){u+=R})}}decodeStart(l){let u=Dt.skipWhiteSpace(l),h=Dt.findGuardPattern(l,u,Dt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(l,h[0]),h}validateQuietZone(l,u){let h=this.narrowLineWidth*10;h=h<u?h:u;for(let p=u-1;h>0&&p>=0&&!l.get(p);p--)h--;if(h!==0)throw new Z}static skipWhiteSpace(l){const u=l.getSize(),h=l.getNextSet(0);if(h===u)throw new Z;return h}decodeEnd(l){l.reverse();try{let u=Dt.skipWhiteSpace(l),h;try{h=Dt.findGuardPattern(l,u,Dt.END_PATTERN_REVERSED[0])}catch(x){x instanceof Z&&(h=Dt.findGuardPattern(l,u,Dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,h[0]);let p=h[0];return h[0]=l.getSize()-h[1],h[1]=l.getSize()-p,h}finally{l.reverse()}}static findGuardPattern(l,u,h){let p=h.length,x=new Int32Array(p),v=l.getSize(),j=!1,_=0,R=u;x.fill(0);for(let B=u;B<v;B++)if(l.get(B)!==j)x[_]++;else{if(_===p-1){if(Bt.patternMatchVariance(x,h,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return[R,B];R+=x[0]+x[1],A.arraycopy(x,2,x,0,_-1),x[_-1]=0,x[_]=0,_--}else _++;x[_]=1,j=!j}throw new Z}static decodeDigit(l){let u=Dt.MAX_AVG_VARIANCE,h=-1,p=Dt.PATTERNS.length;for(let x=0;x<p;x++){let v=Dt.PATTERNS[x],j=Bt.patternMatchVariance(l,v,Dt.MAX_INDIVIDUAL_VARIANCE);j<u?(u=j,h=x):j===u&&(h=-1)}if(h>=0)return h%10;throw new Z}}Dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Dt.MAX_AVG_VARIANCE=.38,Dt.MAX_INDIVIDUAL_VARIANCE=.5,Dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Dt.START_PATTERN=Int32Array.from([1,1,1,1]),Dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ft extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let u=!1,h,p=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),h=ft.findGuardPattern(l,p,!1,this.START_END_PATTERN,x);let v=h[0];p=h[1];let j=v-(p-v);j>=0&&(u=l.isRange(j,v,!1))}return h}static checkChecksum(l){return ft.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let u=l.length;if(u===0)return!1;let h=parseInt(l.charAt(u-1),10);return ft.getStandardUPCEANChecksum(l.substring(0,u-1))===h}static getStandardUPCEANChecksum(l){let u=l.length,h=0;for(let p=u-1;p>=0;p-=2){let x=l.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new $;h+=x}h*=3;for(let p=u-2;p>=0;p-=2){let x=l.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new $;h+=x}return(1e3-h)%10}static decodeEnd(l,u){return ft.findGuardPattern(l,u,!1,ft.START_END_PATTERN,new Int32Array(ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,u,h,p){return this.findGuardPattern(l,u,h,p,new Int32Array(p.length))}static findGuardPattern(l,u,h,p,x){let v=l.getSize();u=h?l.getNextUnset(u):l.getNextSet(u);let j=0,_=u,R=p.length,B=h;for(let K=u;K<v;K++)if(l.get(K)!==B)x[j]++;else{if(j===R-1){if(Bt.patternMatchVariance(x,p,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return Int32Array.from([_,K]);_+=x[0]+x[1];let Q=x.slice(2,x.length-1);for(let le=0;le<j-1;le++)x[le]=Q[le];x[j-1]=0,x[j]=0,j--}else j++;x[j]=1,B=!B}throw new Z}static decodeDigit(l,u,h,p){this.recordPattern(l,h,u);let x=this.MAX_AVG_VARIANCE,v=-1,j=p.length;for(let _=0;_<j;_++){let R=p[_],B=Bt.patternMatchVariance(u,R,ft.MAX_INDIVIDUAL_VARIANCE);B<x&&(x=B,v=_)}if(v>=0)return v;throw new Z}}ft.MAX_AVG_VARIANCE=.48,ft.MAX_INDIVIDUAL_VARIANCE=.7,ft.START_END_PATTERN=Int32Array.from([1,1,1]),ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class nr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,u,h){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,p),v=p.toString(),j=nr.parseExtensionString(v),_=[new He((h[0]+h[1])/2,l),new He(x,l)],R=new ne(v,null,0,_,xe.UPC_EAN_EXTENSION,new Date().getTime());return j!=null&&R.putAllMetadata(j),R}decodeMiddle(l,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=l.getSize(),v=u[1],j=0;for(let R=0;R<5&&v<x;R++){let B=ft.decodeDigit(l,p,v,ft.L_AND_G_PATTERNS);h+=String.fromCharCode(48+B%10);for(let K of p)v+=K;B>=10&&(j|=1<<4-R),R!==4&&(v=l.getNextSet(v),v=l.getNextUnset(v))}if(h.length!==5)throw new Z;let _=this.determineCheckDigit(j);if(nr.extensionChecksum(h.toString())!==_)throw new Z;return v}static extensionChecksum(l){let u=l.length,h=0;for(let p=u-2;p>=0;p-=2)h+=l.charAt(p).charCodeAt(0)-48;h*=3;for(let p=u-1;p>=0;p-=2)h+=l.charAt(p).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(l){for(let u=0;u<10;u++)if(l===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new Z}static parseExtensionString(l){if(l.length!==5)return null;let u=nr.parseExtension5String(l);return u==null?null:new Map([[he.SUGGESTED_PRICE,u]])}static parseExtension5String(l){let u;switch(l.charAt(0)){case"0":u="£";break;case"5":u="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let h=parseInt(l.substring(1)),p=(h/100).toString(),x=h%100,v=x<10?"0"+x:x.toString();return u+p+"."+v}}class Xt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,u,h){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,p),v=p.toString(),j=Xt.parseExtensionString(v),_=[new He((h[0]+h[1])/2,l),new He(x,l)],R=new ne(v,null,0,_,xe.UPC_EAN_EXTENSION,new Date().getTime());return j!=null&&R.putAllMetadata(j),R}decodeMiddle(l,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=l.getSize(),v=u[1],j=0;for(let _=0;_<2&&v<x;_++){let R=ft.decodeDigit(l,p,v,ft.L_AND_G_PATTERNS);h+=String.fromCharCode(48+R%10);for(let B of p)v+=B;R>=10&&(j|=1<<1-_),_!==1&&(v=l.getNextSet(v),v=l.getNextUnset(v))}if(h.length!==2)throw new Z;if(parseInt(h.toString())%4!==j)throw new Z;return v}static parseExtensionString(l){return l.length!==2?null:new Map([[he.ISSUE_NUMBER,parseInt(l)]])}}class cn{static decodeRow(l,u,h){let p=ft.findGuardPattern(u,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new nr().decodeRow(l,u,p)}catch{return new Xt().decodeRow(l,u,p)}}}cn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Wt extends ft{constructor(){super(),this.decodeRowStringBuffer="",Wt.L_AND_G_PATTERNS=Wt.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let u=Wt.L_PATTERNS[l-10],h=new Int32Array(u.length);for(let p=0;p<u.length;p++)h[p]=u[u.length-p-1];Wt.L_AND_G_PATTERNS[l]=h}}decodeRow(l,u,h){let p=Wt.findStartGuardPattern(u),x=h==null?null:h.get(H.NEED_RESULT_POINT_CALLBACK);if(x!=null){const Je=new He((p[0]+p[1])/2,l);x.foundPossibleResultPoint(Je)}let v=this.decodeMiddle(u,p,this.decodeRowStringBuffer),j=v.rowOffset,_=v.resultString;if(x!=null){const Je=new He(j,l);x.foundPossibleResultPoint(Je)}let R=this.decodeEnd(u,j);if(x!=null){const Je=new He((R[0]+R[1])/2,l);x.foundPossibleResultPoint(Je)}let B=R[1],K=B+(B-R[0]);if(K>=u.getSize()||!u.isRange(B,K,!1))throw new Z;let Q=_.toString();if(Q.length<8)throw new $;if(!Wt.checkChecksum(Q))throw new y;let le=(p[1]+p[0])/2,be=(R[1]+R[0])/2,Ae=this.getBarcodeFormat(),Oe=[new He(le,l),new He(be,l)],Fe=new ne(Q,null,0,Oe,Ae,new Date().getTime()),Ye=0;try{let Je=cn.decodeRow(l,u,R[1]);Fe.putMetadata(he.UPC_EAN_EXTENSION,Je.getText()),Fe.putAllMetadata(Je.getResultMetadata()),Fe.addResultPoints(Je.getResultPoints()),Ye=Je.getText().length}catch{}let et=h==null?null:h.get(H.ALLOWED_EAN_EXTENSIONS);if(et!=null){let Je=!1;for(let Ot in et)if(Ye.toString()===Ot){Je=!0;break}if(!Je)throw new Z}return Fe}decodeEnd(l,u){return Wt.findGuardPattern(l,u,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Wt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let u=l.length;if(u===0)return!1;let h=parseInt(l.charAt(u-1),10);return Wt.getStandardUPCEANChecksum(l.substring(0,u-1))===h}static getStandardUPCEANChecksum(l){let u=l.length,h=0;for(let p=u-1;p>=0;p-=2){let x=l.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new $;h+=x}h*=3;for(let p=u-2;p>=0;p-=2){let x=l.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new $;h+=x}return(1e3-h)%10}}class pr extends Wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=l.getSize(),v=u[1],j=0;for(let R=0;R<6&&v<x;R++){let B=Wt.decodeDigit(l,p,v,Wt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+B%10);for(let K of p)v+=K;B>=10&&(j|=1<<5-R)}h=pr.determineFirstDigit(h,j),v=Wt.findGuardPattern(l,v,!0,Wt.MIDDLE_PATTERN,new Int32Array(Wt.MIDDLE_PATTERN.length).fill(0))[1];for(let R=0;R<6&&v<x;R++){let B=Wt.decodeDigit(l,p,v,Wt.L_PATTERNS);h+=String.fromCharCode(48+B);for(let K of p)v+=K}return{rowOffset:v,resultString:h}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(l,u){for(let h=0;h<10;h++)if(u===this.FIRST_DIGIT_ENCODINGS[h])return l=String.fromCharCode(48+h)+l,l;throw new Z}}pr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ht extends Wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,u,h){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=l.getSize(),v=u[1];for(let _=0;_<4&&v<x;_++){let R=Wt.decodeDigit(l,p,v,Wt.L_PATTERNS);h+=String.fromCharCode(48+R);for(let B of p)v+=B}v=Wt.findGuardPattern(l,v,!0,Wt.MIDDLE_PATTERN,new Int32Array(Wt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&v<x;_++){let R=Wt.decodeDigit(l,p,v,Wt.L_PATTERNS);h+=String.fromCharCode(48+R);for(let B of p)v+=B}return{rowOffset:v,resultString:h}}getBarcodeFormat(){return xe.EAN_8}}class vr extends Wt{constructor(){super(...arguments),this.ean13Reader=new pr}getBarcodeFormat(){return xe.UPC_A}decode(l,u){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,u,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,u,h))}decodeMiddle(l,u,h){return this.ean13Reader.decodeMiddle(l,u,h)}maybeReturnResult(l){let u=l.getText();if(u.charAt(0)==="0"){let h=new ne(u.substring(1),null,null,l.getResultPoints(),xe.UPC_A);return l.getResultMetadata()!=null&&h.putAllMetadata(l.getResultMetadata()),h}else throw new Z}reset(){this.ean13Reader.reset()}}class ti extends Wt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,u,h){const p=this.decodeMiddleCounters.map(R=>R);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const x=l.getSize();let v=u[1],j=0;for(let R=0;R<6&&v<x;R++){const B=ti.decodeDigit(l,p,v,ti.L_AND_G_PATTERNS);h+=String.fromCharCode(48+B%10);for(let K of p)v+=K;B>=10&&(j|=1<<5-R)}let _=ti.determineNumSysAndCheckDigit(h,j);return{rowOffset:v,resultString:_}}decodeEnd(l,u){return ti.findGuardPatternWithoutCounters(l,u,!0,ti.MIDDLE_END_PATTERN)}checkChecksum(l){return Wt.checkChecksum(ti.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,u){for(let h=0;h<=1;h++)for(let p=0;p<10;p++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][p]){let x=String.fromCharCode(48+h),v=String.fromCharCode(48+p);return x+l+v}throw Z.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(l){const u=l.slice(1,7).split("").map(x=>x.charCodeAt(0)),h=new te;h.append(l.charAt(0));let p=u[5];switch(p){case 0:case 1:case 2:h.appendChars(u,0,2),h.append(p),h.append("0000"),h.appendChars(u,2,3);break;case 3:h.appendChars(u,0,3),h.append("00000"),h.appendChars(u,3,2);break;case 4:h.appendChars(u,0,4),h.append("00000"),h.append(u[4]);break;default:h.appendChars(u,0,5),h.append("0000"),h.append(p);break}return l.length>=8&&h.append(l.charAt(7)),h.toString()}}ti.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ti.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class $n extends Bt{constructor(l){super();let u=l==null?null:l.get(H.POSSIBLE_FORMATS),h=[];n(u)?(h.push(new pr),h.push(new vr),h.push(new Ht),h.push(new ti)):(u.indexOf(xe.EAN_13)>-1&&h.push(new pr),u.indexOf(xe.UPC_A)>-1&&h.push(new vr),u.indexOf(xe.EAN_8)>-1&&h.push(new Ht),u.indexOf(xe.UPC_E)>-1&&h.push(new ti)),this.readers=h}decodeRow(l,u,h){for(let p of this.readers)try{const x=p.decodeRow(l,u,h),v=x.getBarcodeFormat()===xe.EAN_13&&x.getText().charAt(0)==="0",j=h==null?null:h.get(H.POSSIBLE_FORMATS),_=j==null||j.includes(xe.UPC_A);if(v&&_){const R=x.getRawBytes(),B=new ne(x.getText().substring(1),R,R?R.length:null,x.getResultPoints(),xe.UPC_A);return B.putAllMetadata(x.getResultMetadata()),B}return x}catch{}throw new Z}reset(){for(let l of this.readers)l.reset()}}class Kr extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,u){for(let h=0;h<u.length;h++)if(Bt.patternMatchVariance(l,u[h],Kr.MAX_INDIVIDUAL_VARIANCE)<Kr.MAX_AVG_VARIANCE)return h;throw new Z}static count(l){return Ve.sum(new Int32Array(l))}static increment(l,u){let h=0,p=u[0];for(let x=1;x<l.length;x++)u[x]>p&&(p=u[x],h=x);l[h]++}static decrement(l,u){let h=0,p=u[0];for(let x=1;x<l.length;x++)u[x]<p&&(p=u[x],h=x);l[h]--}static isFinderPattern(l){let u=l[0]+l[1],h=u+l[2]+l[3],p=u/h;if(p>=Kr.MIN_FINDER_PATTERN_RATIO&&p<=Kr.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let j of l)j>v&&(v=j),j<x&&(x=j);return v<10*x}return!1}}Kr.MAX_AVG_VARIANCE=.2,Kr.MAX_INDIVIDUAL_VARIANCE=.45,Kr.MIN_FINDER_PATTERN_RATIO=9.5/12,Kr.MAX_FINDER_PATTERN_RATIO=12.5/14;class ji{constructor(l,u){this.value=l,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof ji))return!1;const u=l;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Lt{constructor(l,u,h,p,x){this.value=l,this.startEnd=u,this.value=l,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new He(h,x)),this.resultPoints.push(new He(p,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Lt))return!1;const u=l;return this.value===u.value}hashCode(){return this.value}}class qn{constructor(){}static getRSSvalue(l,u,h){let p=0;for(let _ of l)p+=_;let x=0,v=0,j=l.length;for(let _=0;_<j-1;_++){let R;for(R=1,v|=1<<_;R<l[_];R++,v&=~(1<<_)){let B=qn.combins(p-R-1,j-_-2);if(h&&v===0&&p-R-(j-_-1)>=j-_-1&&(B-=qn.combins(p-R-(j-_),j-_-2)),j-_-1>1){let K=0;for(let Q=p-R-(j-_-2);Q>u;Q--)K+=qn.combins(p-R-Q-1,j-_-3);B-=K*(j-1-_)}else p-R>u&&B--;x+=B}p-=R}return x}static combins(l,u){let h,p;l-u>u?(p=u,h=l-u):(p=l-u,h=u);let x=1,v=1;for(let j=l;j>h;j--)x*=j,v<=p&&(x/=v,v++);for(;v<=p;)x/=v,v++;return x}}class Ps{static buildBitArray(l){let u=l.length*2-1;l[l.length-1].getRightChar()==null&&(u-=1);let h=12*u,p=new P(h),x=0,j=l[0].getRightChar().getValue();for(let _=11;_>=0;--_)j&1<<_&&p.set(x),x++;for(let _=1;_<l.length;++_){let R=l[_],B=R.getLeftChar().getValue();for(let K=11;K>=0;--K)B&1<<K&&p.set(x),x++;if(R.getRightChar()!=null){let K=R.getRightChar().getValue();for(let Q=11;Q>=0;--Q)K&1<<Q&&p.set(x),x++}}return p}}class Hn{constructor(l,u){u?this.decodedInformation=null:(this.finished=l,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fi{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class ur extends Fi{constructor(l,u){super(l),this.value=u}getValue(){return this.value}isFNC1(){return this.value===ur.FNC1}}ur.FNC1="$";class Xr extends Fi{constructor(l,u,h){super(l),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Tr extends Fi{constructor(l,u,h){if(super(l),u<0||u>10||h<0||h>10)throw new $;this.firstDigit=u,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Tr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Tr.FNC1}isAnyFNC1(){return this.firstDigit===Tr.FNC1||this.secondDigit===Tr.FNC1}}Tr.FNC1=10;class dt{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new Z;let u=l.substring(0,2);for(let x of dt.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(2,x[2],l):dt.processFixedAI(2,x[1],l);if(l.length<3)throw new Z;let h=l.substring(0,3);for(let x of dt.THREE_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(3,x[2],l):dt.processFixedAI(3,x[1],l);for(let x of dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,x[2],l):dt.processFixedAI(4,x[1],l);if(l.length<4)throw new Z;let p=l.substring(0,4);for(let x of dt.FOUR_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,x[2],l):dt.processFixedAI(4,x[1],l);throw new Z}static processFixedAI(l,u,h){if(h.length<l)throw new Z;let p=h.substring(0,l);if(h.length<l+u)throw new Z;let x=h.substring(l,l+u),v=h.substring(l+u),j="("+p+")"+x,_=dt.parseFieldsInGeneralPurpose(v);return _==null?j:j+_}static processVariableAI(l,u,h){let p=h.substring(0,l),x;h.length<l+u?x=h.length:x=l+u;let v=h.substring(l,x),j=h.substring(x),_="("+p+")"+v,R=dt.parseFieldsInGeneralPurpose(j);return R==null?_:_+R}}dt.VARIABLE_LENGTH=[],dt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",dt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",dt.VARIABLE_LENGTH,20],["22",dt.VARIABLE_LENGTH,29],["30",dt.VARIABLE_LENGTH,8],["37",dt.VARIABLE_LENGTH,8],["90",dt.VARIABLE_LENGTH,30],["91",dt.VARIABLE_LENGTH,30],["92",dt.VARIABLE_LENGTH,30],["93",dt.VARIABLE_LENGTH,30],["94",dt.VARIABLE_LENGTH,30],["95",dt.VARIABLE_LENGTH,30],["96",dt.VARIABLE_LENGTH,30],["97",dt.VARIABLE_LENGTH,3],["98",dt.VARIABLE_LENGTH,30],["99",dt.VARIABLE_LENGTH,30]],dt.THREE_DIGIT_DATA_LENGTH=[["240",dt.VARIABLE_LENGTH,30],["241",dt.VARIABLE_LENGTH,30],["242",dt.VARIABLE_LENGTH,6],["250",dt.VARIABLE_LENGTH,30],["251",dt.VARIABLE_LENGTH,30],["253",dt.VARIABLE_LENGTH,17],["254",dt.VARIABLE_LENGTH,20],["400",dt.VARIABLE_LENGTH,30],["401",dt.VARIABLE_LENGTH,30],["402",17],["403",dt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",dt.VARIABLE_LENGTH,20],["421",dt.VARIABLE_LENGTH,15],["422",3],["423",dt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",dt.VARIABLE_LENGTH,15],["391",dt.VARIABLE_LENGTH,18],["392",dt.VARIABLE_LENGTH,15],["393",dt.VARIABLE_LENGTH,18],["703",dt.VARIABLE_LENGTH,30]],dt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",dt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",dt.VARIABLE_LENGTH,20],["8003",dt.VARIABLE_LENGTH,30],["8004",dt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",dt.VARIABLE_LENGTH,30],["8008",dt.VARIABLE_LENGTH,12],["8018",18],["8020",dt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",dt.VARIABLE_LENGTH,70],["8200",dt.VARIABLE_LENGTH,70]];class ta{constructor(l){this.buffer=new te,this.information=l}decodeAllCodes(l,u){let h=u,p=null;do{let x=this.decodeGeneralPurposeField(h,p),v=dt.parseFieldsInGeneralPurpose(x.getNewString());if(v!=null&&l.append(v),x.isRemaining()?p=""+x.getRemainingValue():p=null,h===x.getNewPosition())break;h=x.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let u=l;u<l+3;++u)if(this.information.get(u))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(l,4);return x===0?new Tr(this.information.getSize(),Tr.FNC1,Tr.FNC1):new Tr(this.information.getSize(),x-1,Tr.FNC1)}let u=this.extractNumericValueFromBitArray(l,7),h=(u-8)/11,p=(u-8)%11;return new Tr(l+7,h,p)}extractNumericValueFromBitArray(l,u){return ta.extractNumericValueFromBitArray(this.information,l,u)}static extractNumericValueFromBitArray(l,u,h){let p=0;for(let x=0;x<h;++x)l.get(u+x)&&(p|=1<<h-x-1);return p}decodeGeneralPurposeField(l,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(l);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new Xr(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new Xr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,u;do{let h=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),l=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),l=u.isFinished()):(u=this.parseNumericBlock(),l=u.isFinished()),!(h!==this.current.getPosition())&&!l)break}while(!l);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let u;return l.isSecondDigitFNC1()?u=new Xr(this.current.getPosition(),this.buffer.toString()):u=new Xr(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Hn(!0,u)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let u=new Xr(this.current.getPosition(),this.buffer.toString());return new Hn(!0,u)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let u=new Xr(this.current.getPosition(),this.buffer.toString());return new Hn(!0,u)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let u=new Xr(this.current.getPosition(),this.buffer.toString());return new Hn(!0,u)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hn(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(l,5);if(u>=5&&u<16)return!0;if(l+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,7);if(h>=64&&h<116)return!0;if(l+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,8);return p>=232&&p<253}decodeIsoIec646(l){let u=this.extractNumericValueFromBitArray(l,5);if(u===15)return new ur(l+5,ur.FNC1);if(u>=5&&u<15)return new ur(l+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(l,7);if(h>=64&&h<90)return new ur(l+7,""+(h+1));if(h>=90&&h<116)return new ur(l+7,""+(h+7));let p=this.extractNumericValueFromBitArray(l,8),x;switch(p){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new $}return new ur(l+8,x)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(l,5);if(u>=5&&u<16)return!0;if(l+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,6);return h>=16&&h<63}decodeAlphanumeric(l){let u=this.extractNumericValueFromBitArray(l,5);if(u===15)return new ur(l+5,ur.FNC1);if(u>=5&&u<15)return new ur(l+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(l,6);if(h>=32&&h<58)return new ur(l+6,""+(h+33));let p;switch(h){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new ce("Decoding invalid alphanumeric value: "+h)}return new ur(l+6,p)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let u=0;u<5&&u+l<this.information.getSize();++u)if(u===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+u))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let u=l;u<l+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let u=0;u<4&&u+l<this.information.getSize();++u)if(this.information.get(l+u))return!1;return!0}}class ra{constructor(l){this.information=l,this.generalDecoder=new ta(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class en extends ra{constructor(l){super(l)}encodeCompressedGtin(l,u){l.append("(01)");let h=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,u,h)}encodeCompressedGtinWithoutAI(l,u,h){for(let p=0;p<4;++p){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*p,10);x/100===0&&l.append("0"),x/10===0&&l.append("0"),l.append(x)}en.appendCheckDigit(l,h)}static appendCheckDigit(l,u){let h=0;for(let p=0;p<13;p++){let x=l.charAt(p+u).charCodeAt(0)-48;h+=p&1?x:3*x}h=10-h%10,h===10&&(h=0),l.append(h)}}en.GTIN_SIZE=40;class fi extends en{constructor(l){super(l)}parseInformation(){let l=new te;l.append("(01)");let u=l.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE,4);return l.append(h),this.encodeCompressedGtinWithoutAI(l,fi.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(l,fi.HEADER_SIZE+44)}}fi.HEADER_SIZE=4;class Ui extends ra{constructor(l){super(l)}parseInformation(){let l=new te;return this.getGeneralDecoder().decodeAllCodes(l,Ui.HEADER_SIZE)}}Ui.HEADER_SIZE=5;class Si extends en{constructor(l){super(l)}encodeCompressedWeight(l,u,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(u,h);this.addWeightCode(l,p);let x=this.checkWeight(p),v=1e5;for(let j=0;j<5;++j)x/v===0&&l.append("0"),v/=10;l.append(x)}}class hi extends Si{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=hi.HEADER_SIZE+Si.GTIN_SIZE+hi.WEIGHT_SIZE)throw new Z;let l=new te;return this.encodeCompressedGtin(l,hi.HEADER_SIZE),this.encodeCompressedWeight(l,hi.HEADER_SIZE+Si.GTIN_SIZE,hi.WEIGHT_SIZE),l.toString()}}hi.HEADER_SIZE=5,hi.WEIGHT_SIZE=15;class ss extends hi{constructor(l){super(l)}addWeightCode(l,u){l.append("(3103)")}checkWeight(l){return l}}class Bo extends hi{constructor(l){super(l)}addWeightCode(l,u){u<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class Ei extends en{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ei.HEADER_SIZE+en.GTIN_SIZE)throw new Z;let l=new te;this.encodeCompressedGtin(l,Ei.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Ei.HEADER_SIZE+en.GTIN_SIZE,Ei.LAST_DIGIT_SIZE);l.append("(392"),l.append(u),l.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Ei.HEADER_SIZE+en.GTIN_SIZE+Ei.LAST_DIGIT_SIZE,null);return l.append(h.getNewString()),l.toString()}}Ei.HEADER_SIZE=8,Ei.LAST_DIGIT_SIZE=2;class Cn extends en{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Cn.HEADER_SIZE+en.GTIN_SIZE)throw new Z;let l=new te;this.encodeCompressedGtin(l,Cn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Cn.HEADER_SIZE+en.GTIN_SIZE,Cn.LAST_DIGIT_SIZE);l.append("(393"),l.append(u),l.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Cn.HEADER_SIZE+en.GTIN_SIZE+Cn.LAST_DIGIT_SIZE,Cn.FIRST_THREE_DIGITS_SIZE);h/100==0&&l.append("0"),h/10==0&&l.append("0"),l.append(h);let p=this.getGeneralDecoder().decodeGeneralPurposeField(Cn.HEADER_SIZE+en.GTIN_SIZE+Cn.LAST_DIGIT_SIZE+Cn.FIRST_THREE_DIGITS_SIZE,null);return l.append(p.getNewString()),l.toString()}}Cn.HEADER_SIZE=8,Cn.LAST_DIGIT_SIZE=2,Cn.FIRST_THREE_DIGITS_SIZE=10;class jr extends Si{constructor(l,u,h){super(l),this.dateCode=h,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=jr.HEADER_SIZE+jr.GTIN_SIZE+jr.WEIGHT_SIZE+jr.DATE_SIZE)throw new Z;let l=new te;return this.encodeCompressedGtin(l,jr.HEADER_SIZE),this.encodeCompressedWeight(l,jr.HEADER_SIZE+jr.GTIN_SIZE,jr.WEIGHT_SIZE),this.encodeCompressedDate(l,jr.HEADER_SIZE+jr.GTIN_SIZE+jr.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(u,jr.DATE_SIZE);if(h==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let p=h%32;h/=32;let x=h%12+1;h/=12;let v=h;v/10==0&&l.append("0"),l.append(v),x/10==0&&l.append("0"),l.append(x),p/10==0&&l.append("0"),l.append(p)}addWeightCode(l,u){l.append("("),l.append(this.firstAIdigits),l.append(u/1e5),l.append(")")}checkWeight(l){return l%1e5}}jr.HEADER_SIZE=8,jr.WEIGHT_SIZE=20,jr.DATE_SIZE=16;function $u(G){try{if(G.get(1))return new fi(G);if(!G.get(2))return new Ui(G);switch(ta.extractNumericValueFromBitArray(G,1,4)){case 4:return new ss(G);case 5:return new Bo(G)}switch(ta.extractNumericValueFromBitArray(G,1,5)){case 12:return new Ei(G);case 13:return new Cn(G)}switch(ta.extractNumericValueFromBitArray(G,1,7)){case 56:return new jr(G,"310","11");case 57:return new jr(G,"320","11");case 58:return new jr(G,"310","13");case 59:return new jr(G,"320","13");case 60:return new jr(G,"310","15");case 61:return new jr(G,"320","15");case 62:return new jr(G,"310","17");case 63:return new jr(G,"320","17")}}catch(l){throw console.log(l),new ce("unknown decoder: "+G)}}class pa{constructor(l,u,h,p){this.leftchar=l,this.rightchar=u,this.finderpattern=h,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,u){return l instanceof pa?pa.equalsOrNull(l.leftchar,u.leftchar)&&pa.equalsOrNull(l.rightchar,u.rightchar)&&pa.equalsOrNull(l.finderpattern,u.finderpattern):!1}static equalsOrNull(l,u){return l===null?u===null:pa.equals(l,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ml{constructor(l,u,h){this.pairs=l,this.rowNumber=u,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,u){return l instanceof Ml?this.checkEqualitity(l,u)&&l.wasReversed===u.wasReversed:!1}checkEqualitity(l,u){if(!l||!u)return;let h;return l.forEach((p,x)=>{u.forEach(v=>{p.getLeftChar().getValue()===v.getLeftChar().getValue()&&p.getRightChar().getValue()===v.getRightChar().getValue()&&p.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(h=!0)})}),h}}class tt extends Kr{constructor(l){super(...arguments),this.pairs=new Array(tt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,u,h){this.pairs.length=0,this.startFromEven=!1;try{return tt.constructResult(this.decodeRow2pairs(l,u))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,tt.constructResult(this.decodeRow2pairs(l,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,u){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,l))}catch(x){if(x instanceof Z){if(!this.pairs.length)throw new Z;h=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(l,!1),p){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new Z}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return l&&(this.rows=this.rows.reverse()),u}checkRows(l,u){for(let h=u;h<this.rows.length;h++){let p=this.rows[h];this.pairs.length=0;for(let v of l)this.pairs.push(v.getPairs());if(this.pairs.push(p.getPairs()),!tt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(l);x.push(p);try{return this.checkRows(x,h+1)}catch(v){this.verbose&&console.log(v)}}throw new Z}static isValidSequence(l){for(let u of tt.FINDER_PATTERN_SEQUENCES){if(l.length>u.length)continue;let h=!0;for(let p=0;p<l.length;p++)if(l[p].getFinderPattern().getValue()!=u[p]){h=!1;break}if(h)return!0}return!1}storeRow(l,u){let h=0,p=!1,x=!1;for(;h<this.rows.length;){let v=this.rows[h];if(v.getRowNumber()>l){x=v.isEquivalent(this.pairs);break}p=v.isEquivalent(this.pairs),h++}x||p||tt.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new Ml(this.pairs,l,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,u){for(let h of u)if(h.getPairs().length!==l.length){for(let p of h.getPairs())for(let x of l)if(pa.equals(p,x))break}}static isPartialRow(l,u){for(let h of u){let p=!0;for(let x of l){let v=!1;for(let j of h.getPairs())if(x.equals(j)){v=!0;break}if(!v){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(l){let u=Ps.buildBitArray(l),p=$u(u).parseInformation(),x=l[0].getFinderPattern().getResultPoints(),v=l[l.length-1].getFinderPattern().getResultPoints(),j=[x[0],x[1],v[0],v[1]];return new ne(p,null,null,j,xe.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),u=l.getLeftChar(),h=l.getRightChar();if(h==null)return!1;let p=h.getChecksumPortion(),x=2;for(let j=1;j<this.pairs.size();++j){let _=this.pairs.get(j);p+=_.getLeftChar().getChecksumPortion(),x++;let R=_.getRightChar();R!=null&&(p+=R.getChecksumPortion(),x++)}return p%=211,211*(x-4)+p==u.getValue()}static getNextSecondBar(l,u){let h;return l.get(u)?(h=l.getNextUnset(u),h=l.getNextSet(h)):(h=l.getNextSet(u),h=l.getNextUnset(h)),h}retrieveNextPair(l,u,h){let p=u.length%2==0;this.startFromEven&&(p=!p);let x,v=!0,j=-1;do this.findNextPair(l,u,j),x=this.parseFoundFinderPattern(l,h,p),x==null?j=tt.getNextSecondBar(l,this.startEnd[0]):v=!1;while(v);let _=this.decodeDataCharacter(l,x,p,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new Z;let R;try{R=this.decodeDataCharacter(l,x,p,!1)}catch(B){R=null,this.verbose&&console.log(B)}return new pa(_,R,x,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,u,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=l.getSize(),v;h>=0?v=h:this.isEmptyPair(u)?v=0:v=u[u.length-1].getFinderPattern().getStartEnd()[1];let j=u.length%2!=0;this.startFromEven&&(j=!j);let _=!1;for(;v<x&&(_=!l.get(v),!!_);)v++;let R=0,B=v;for(let K=v;K<x;K++)if(l.get(K)!=_)p[R]++;else{if(R==3){if(j&&tt.reverseCounters(p),tt.isFinderPattern(p)){this.startEnd[0]=B,this.startEnd[1]=K;return}j&&tt.reverseCounters(p),B+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,R--}else R++;p[R]=1,_=!_}throw new Z}static reverseCounters(l){let u=l.length;for(let h=0;h<u/2;++h){let p=l[h];l[h]=l[u-h-1],l[u-h-1]=p}}parseFoundFinderPattern(l,u,h){let p,x,v;if(h){let R=this.startEnd[0]-1;for(;R>=0&&!l.get(R);)R--;R++,p=this.startEnd[0]-R,x=R,v=this.startEnd[1]}else x=this.startEnd[0],v=l.getNextUnset(this.startEnd[1]+1),p=v-this.startEnd[1];let j=this.getDecodeFinderCounters();A.arraycopy(j,0,j,1,j.length-1),j[0]=p;let _;try{_=this.parseFinderValue(j,tt.FINDER_PATTERNS)}catch{return null}return new Lt(_,[x,v],x,v,u)}decodeDataCharacter(l,u,h,p){let x=this.getDataCharacterCounters();for(let _r=0;_r<x.length;_r++)x[_r]=0;if(p)tt.recordPatternInReverse(l,u.getStartEnd()[0],x);else{tt.recordPattern(l,u.getStartEnd()[1],x);for(let _r=0,Xn=x.length-1;_r<Xn;_r++,Xn--){let $i=x[_r];x[_r]=x[Xn],x[Xn]=$i}}let v=17,j=Ve.sum(new Int32Array(x))/v,_=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(j-_)/_>.3)throw new Z;let R=this.getOddCounts(),B=this.getEvenCounts(),K=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let _r=0;_r<x.length;_r++){let Xn=1*x[_r]/j,$i=Xn+.5;if($i<1){if(Xn<.3)throw new Z;$i=1}else if($i>8){if(Xn>8.7)throw new Z;$i=8}let el=_r/2;_r&1?(B[el]=$i,Q[el]=Xn-$i):(R[el]=$i,K[el]=Xn-$i)}this.adjustOddEvenCounts(v);let le=4*u.getValue()+(h?0:2)+(p?0:1)-1,be=0,Ae=0;for(let _r=R.length-1;_r>=0;_r--){if(tt.isNotA1left(u,h,p)){let Xn=tt.WEIGHTS[le][2*_r];Ae+=R[_r]*Xn}be+=R[_r]}let Oe=0;for(let _r=B.length-1;_r>=0;_r--)if(tt.isNotA1left(u,h,p)){let Xn=tt.WEIGHTS[le][2*_r+1];Oe+=B[_r]*Xn}let Fe=Ae+Oe;if(be&1||be>13||be<4)throw new Z;let Ye=(13-be)/2,et=tt.SYMBOL_WIDEST[Ye],Je=9-et,Ot=qn.getRSSvalue(R,et,!0),Ft=qn.getRSSvalue(B,Je,!1),Kn=tt.EVEN_TOTAL_SUBSET[Ye],pi=tt.GSUM[Ye],ii=Ot*Kn+Ft+pi;return new ji(ii,Fe)}static isNotA1left(l,u,h){return!(l.getValue()==0&&u&&h)}adjustOddEvenCounts(l){let u=Ve.sum(new Int32Array(this.getOddCounts())),h=Ve.sum(new Int32Array(this.getEvenCounts())),p=!1,x=!1;u>13?x=!0:u<4&&(p=!0);let v=!1,j=!1;h>13?j=!0:h<4&&(v=!0);let _=u+h-l,R=(u&1)==1,B=(h&1)==0;if(_==1)if(R){if(B)throw new Z;x=!0}else{if(!B)throw new Z;j=!0}else if(_==-1)if(R){if(B)throw new Z;p=!0}else{if(!B)throw new Z;v=!0}else if(_==0){if(R){if(!B)throw new Z;u<h?(p=!0,j=!0):(x=!0,v=!0)}else if(B)throw new Z}else throw new Z;if(p){if(x)throw new Z;tt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&tt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(j)throw new Z;tt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}j&&tt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tt.SYMBOL_WIDEST=[7,5,4,3,1],tt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],tt.GSUM=[0,348,1388,2948,3988],tt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],tt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],tt.FINDER_PAT_A=0,tt.FINDER_PAT_B=1,tt.FINDER_PAT_C=2,tt.FINDER_PAT_D=3,tt.FINDER_PAT_E=4,tt.FINDER_PAT_F=5,tt.FINDER_PATTERN_SEQUENCES=[[tt.FINDER_PAT_A,tt.FINDER_PAT_A],[tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B],[tt.FINDER_PAT_A,tt.FINDER_PAT_C,tt.FINDER_PAT_B,tt.FINDER_PAT_D],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_C],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_D,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_D],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_E],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F]],tt.MAX_PAIRS=11;class ga extends ji{constructor(l,u,h){super(l,u),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Wr extends Kr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,u,h){const p=this.decodePair(u,!1,l,h);Wr.addOrTally(this.possibleLeftPairs,p),u.reverse();let x=this.decodePair(u,!0,l,h);Wr.addOrTally(this.possibleRightPairs,x),u.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let j of this.possibleRightPairs)if(j.getCount()>1&&Wr.checkChecksum(v,j))return Wr.constructResult(v,j)}throw new Z}static addOrTally(l,u){if(u==null)return;let h=!1;for(let p of l)if(p.getValue()===u.getValue()){p.incrementCount(),h=!0;break}h||l.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,u){let h=4537077*l.getValue()+u.getValue(),p=new String(h).toString(),x=new te;for(let R=13-p.length;R>0;R--)x.append("0");x.append(p);let v=0;for(let R=0;R<13;R++){let B=x.charAt(R).charCodeAt(0)-48;v+=R&1?B:3*B}v=10-v%10,v===10&&(v=0),x.append(v.toString());let j=l.getFinderPattern().getResultPoints(),_=u.getFinderPattern().getResultPoints();return new ne(x.toString(),null,0,[j[0],j[1],_[0],_[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(l,u){let h=(l.getChecksumPortion()+16*u.getChecksumPortion())%79,p=9*l.getFinderPattern().getValue()+u.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,h===p}decodePair(l,u,h,p){try{let x=this.findFinderPattern(l,u),v=this.parseFoundFinderPattern(l,h,u,x),j=p==null?null:p.get(H.NEED_RESULT_POINT_CALLBACK);if(j!=null){let B=(x[0]+x[1])/2;u&&(B=l.getSize()-1-B),j.foundPossibleResultPoint(new He(B,h))}let _=this.decodeDataCharacter(l,v,!0),R=this.decodeDataCharacter(l,v,!1);return new ga(1597*_.getValue()+R.getValue(),_.getChecksumPortion()+4*R.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(l,u,h){let p=this.getDataCharacterCounters();for(let Oe=0;Oe<p.length;Oe++)p[Oe]=0;if(h)Bt.recordPatternInReverse(l,u.getStartEnd()[0],p);else{Bt.recordPattern(l,u.getStartEnd()[1]+1,p);for(let Oe=0,Fe=p.length-1;Oe<Fe;Oe++,Fe--){let Ye=p[Oe];p[Oe]=p[Fe],p[Fe]=Ye}}let x=h?16:15,v=Ve.sum(new Int32Array(p))/x,j=this.getOddCounts(),_=this.getEvenCounts(),R=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let Oe=0;Oe<p.length;Oe++){let Fe=p[Oe]/v,Ye=Math.floor(Fe+.5);Ye<1?Ye=1:Ye>8&&(Ye=8);let et=Math.floor(Oe/2);Oe&1?(_[et]=Ye,B[et]=Fe-Ye):(j[et]=Ye,R[et]=Fe-Ye)}this.adjustOddEvenCounts(h,x);let K=0,Q=0;for(let Oe=j.length-1;Oe>=0;Oe--)Q*=9,Q+=j[Oe],K+=j[Oe];let le=0,be=0;for(let Oe=_.length-1;Oe>=0;Oe--)le*=9,le+=_[Oe],be+=_[Oe];let Ae=Q+3*le;if(h){if(K&1||K>12||K<4)throw new Z;let Oe=(12-K)/2,Fe=Wr.OUTSIDE_ODD_WIDEST[Oe],Ye=9-Fe,et=qn.getRSSvalue(j,Fe,!1),Je=qn.getRSSvalue(_,Ye,!0),Ot=Wr.OUTSIDE_EVEN_TOTAL_SUBSET[Oe],Ft=Wr.OUTSIDE_GSUM[Oe];return new ji(et*Ot+Je+Ft,Ae)}else{if(be&1||be>10||be<4)throw new Z;let Oe=(10-be)/2,Fe=Wr.INSIDE_ODD_WIDEST[Oe],Ye=9-Fe,et=qn.getRSSvalue(j,Fe,!0),Je=qn.getRSSvalue(_,Ye,!1),Ot=Wr.INSIDE_ODD_TOTAL_SUBSET[Oe],Ft=Wr.INSIDE_GSUM[Oe];return new ji(Je*Ot+et+Ft,Ae)}}findFinderPattern(l,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=l.getSize(),x=!1,v=0;for(;v<p&&(x=!l.get(v),u!==x);)v++;let j=0,_=v;for(let R=v;R<p;R++)if(l.get(R)!==x)h[j]++;else{if(j===3){if(Kr.isFinderPattern(h))return[_,R];_+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,j--}else j++;h[j]=1,x=!x}throw new Z}parseFoundFinderPattern(l,u,h,p){let x=l.get(p[0]),v=p[0]-1;for(;v>=0&&x!==l.get(v);)v--;v++;const j=p[0]-v,_=this.getDecodeFinderCounters(),R=new Int32Array(_.length);A.arraycopy(_,0,R,1,_.length-1),R[0]=j;const B=this.parseFinderValue(R,Wr.FINDER_PATTERNS);let K=v,Q=p[1];return h&&(K=l.getSize()-1-K,Q=l.getSize()-1-Q),new Lt(B,[v,p[1]],K,Q,u)}adjustOddEvenCounts(l,u){let h=Ve.sum(new Int32Array(this.getOddCounts())),p=Ve.sum(new Int32Array(this.getEvenCounts())),x=!1,v=!1,j=!1,_=!1;l?(h>12?v=!0:h<4&&(x=!0),p>12?_=!0:p<4&&(j=!0)):(h>11?v=!0:h<5&&(x=!0),p>10?_=!0:p<4&&(j=!0));let R=h+p-u,B=(h&1)===(l?1:0),K=(p&1)===1;if(R===1)if(B){if(K)throw new Z;v=!0}else{if(!K)throw new Z;_=!0}else if(R===-1)if(B){if(K)throw new Z;x=!0}else{if(!K)throw new Z;j=!0}else if(R===0){if(B){if(!K)throw new Z;h<p?(x=!0,_=!0):(v=!0,j=!0)}else if(K)throw new Z}else throw new Z;if(x){if(v)throw new Z;Kr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Kr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),j){if(_)throw new Z;Kr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&Kr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Wr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Wr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Wr.OUTSIDE_GSUM=[0,161,961,2015,2715],Wr.INSIDE_GSUM=[0,336,1036,1516],Wr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Wr.INSIDE_ODD_WIDEST=[2,4,6,8],Wr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Os extends Bt{constructor(l,u){super(),this.readers=[],this.verbose=u===!0;const h=l?l.get(H.POSSIBLE_FORMATS):null,p=l&&l.get(H.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(xe.EAN_13)||h.includes(xe.UPC_A)||h.includes(xe.EAN_8)||h.includes(xe.UPC_E))&&this.readers.push(new $n(l)),h.includes(xe.CODE_39)&&this.readers.push(new At(p)),h.includes(xe.CODE_128)&&this.readers.push(new $e),h.includes(xe.ITF)&&this.readers.push(new Dt),h.includes(xe.RSS_14)&&this.readers.push(new Wr),h.includes(xe.RSS_EXPANDED)&&this.readers.push(new tt(this.verbose))):(this.readers.push(new $n(l)),this.readers.push(new At),this.readers.push(new $n(l)),this.readers.push(new $e),this.readers.push(new Dt),this.readers.push(new Wr),this.readers.push(new tt(this.verbose)))}decodeRow(l,u,h){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(l,u,h)}catch{}throw new Z}reset(){this.readers.forEach(l=>l.reset())}}class Fc extends oe{constructor(l=500,u){super(new Os(u),l,u)}}class gr{constructor(l,u,h){this.ecCodewords=l,this.ecBlocks=[u],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class hr{constructor(l,u){this.count=l,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class sr{constructor(l,u,h,p,x,v){this.versionNumber=l,this.symbolSizeRows=u,this.symbolSizeColumns=h,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=x,this.ecBlocks=v;let j=0;const _=v.getECCodewords(),R=v.getECBlocks();for(let B of R)j+=B.getCount()*(B.getDataCodewords()+_);this.totalCodewords=j}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,u){if(l&1||u&1)throw new $;for(let h of sr.VERSIONS)if(h.symbolSizeRows===l&&h.symbolSizeColumns===u)return h;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new sr(1,10,10,8,8,new gr(5,new hr(1,3))),new sr(2,12,12,10,10,new gr(7,new hr(1,5))),new sr(3,14,14,12,12,new gr(10,new hr(1,8))),new sr(4,16,16,14,14,new gr(12,new hr(1,12))),new sr(5,18,18,16,16,new gr(14,new hr(1,18))),new sr(6,20,20,18,18,new gr(18,new hr(1,22))),new sr(7,22,22,20,20,new gr(20,new hr(1,30))),new sr(8,24,24,22,22,new gr(24,new hr(1,36))),new sr(9,26,26,24,24,new gr(28,new hr(1,44))),new sr(10,32,32,14,14,new gr(36,new hr(1,62))),new sr(11,36,36,16,16,new gr(42,new hr(1,86))),new sr(12,40,40,18,18,new gr(48,new hr(1,114))),new sr(13,44,44,20,20,new gr(56,new hr(1,144))),new sr(14,48,48,22,22,new gr(68,new hr(1,174))),new sr(15,52,52,24,24,new gr(42,new hr(2,102))),new sr(16,64,64,14,14,new gr(56,new hr(2,140))),new sr(17,72,72,16,16,new gr(36,new hr(4,92))),new sr(18,80,80,18,18,new gr(48,new hr(4,114))),new sr(19,88,88,20,20,new gr(56,new hr(4,144))),new sr(20,96,96,22,22,new gr(68,new hr(4,174))),new sr(21,104,104,24,24,new gr(56,new hr(6,136))),new sr(22,120,120,18,18,new gr(68,new hr(6,175))),new sr(23,132,132,20,20,new gr(62,new hr(8,163))),new sr(24,144,144,22,22,new gr(62,new hr(8,156),new hr(2,155))),new sr(25,8,18,6,16,new gr(7,new hr(1,5))),new sr(26,8,32,6,14,new gr(11,new hr(1,10))),new sr(27,12,26,10,24,new gr(14,new hr(1,16))),new sr(28,12,36,10,16,new gr(18,new hr(1,22))),new sr(29,16,36,14,16,new gr(24,new hr(1,32))),new sr(30,16,48,14,22,new gr(28,new hr(1,49)))]}}sr.VERSIONS=sr.buildVersions();class co{constructor(l){const u=l.getHeight();if(u<8||u>144||u&1)throw new $;this.version=co.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new V(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const u=l.getHeight(),h=l.getWidth();return sr.getVersionForDimensions(u,h)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let u=0,h=4,p=0;const x=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let j=!1,_=!1,R=!1,B=!1;do if(h===x&&p===0&&!j)l[u++]=this.readCorner1(x,v)&255,h-=2,p+=2,j=!0;else if(h===x-2&&p===0&&v&3&&!_)l[u++]=this.readCorner2(x,v)&255,h-=2,p+=2,_=!0;else if(h===x+4&&p===2&&!(v&7)&&!R)l[u++]=this.readCorner3(x,v)&255,h-=2,p+=2,R=!0;else if(h===x-2&&p===0&&(v&7)===4&&!B)l[u++]=this.readCorner4(x,v)&255,h-=2,p+=2,B=!0;else{do h<x&&p>=0&&!this.readMappingMatrix.get(p,h)&&(l[u++]=this.readUtah(h,p,x,v)&255),h-=2,p+=2;while(h>=0&&p<v);h+=1,p+=3;do h>=0&&p<v&&!this.readMappingMatrix.get(p,h)&&(l[u++]=this.readUtah(h,p,x,v)&255),h+=2,p-=2;while(h<x&&p>=0);h+=3,p+=1}while(h<x||p<v);if(u!==this.version.getTotalCodewords())throw new $;return l}readModule(l,u,h,p){return l<0&&(l+=h,u+=4-(h+4&7)),u<0&&(u+=p,l+=4-(p+4&7)),this.readMappingMatrix.set(u,l),this.mappingBitMatrix.get(u,l)}readUtah(l,u,h,p){let x=0;return this.readModule(l-2,u-2,h,p)&&(x|=1),x<<=1,this.readModule(l-2,u-1,h,p)&&(x|=1),x<<=1,this.readModule(l-1,u-2,h,p)&&(x|=1),x<<=1,this.readModule(l-1,u-1,h,p)&&(x|=1),x<<=1,this.readModule(l-1,u,h,p)&&(x|=1),x<<=1,this.readModule(l,u-2,h,p)&&(x|=1),x<<=1,this.readModule(l,u-1,h,p)&&(x|=1),x<<=1,this.readModule(l,u,h,p)&&(x|=1),x}readCorner1(l,u){let h=0;return this.readModule(l-1,0,l,u)&&(h|=1),h<<=1,this.readModule(l-1,1,l,u)&&(h|=1),h<<=1,this.readModule(l-1,2,l,u)&&(h|=1),h<<=1,this.readModule(0,u-2,l,u)&&(h|=1),h<<=1,this.readModule(0,u-1,l,u)&&(h|=1),h<<=1,this.readModule(1,u-1,l,u)&&(h|=1),h<<=1,this.readModule(2,u-1,l,u)&&(h|=1),h<<=1,this.readModule(3,u-1,l,u)&&(h|=1),h}readCorner2(l,u){let h=0;return this.readModule(l-3,0,l,u)&&(h|=1),h<<=1,this.readModule(l-2,0,l,u)&&(h|=1),h<<=1,this.readModule(l-1,0,l,u)&&(h|=1),h<<=1,this.readModule(0,u-4,l,u)&&(h|=1),h<<=1,this.readModule(0,u-3,l,u)&&(h|=1),h<<=1,this.readModule(0,u-2,l,u)&&(h|=1),h<<=1,this.readModule(0,u-1,l,u)&&(h|=1),h<<=1,this.readModule(1,u-1,l,u)&&(h|=1),h}readCorner3(l,u){let h=0;return this.readModule(l-1,0,l,u)&&(h|=1),h<<=1,this.readModule(l-1,u-1,l,u)&&(h|=1),h<<=1,this.readModule(0,u-3,l,u)&&(h|=1),h<<=1,this.readModule(0,u-2,l,u)&&(h|=1),h<<=1,this.readModule(0,u-1,l,u)&&(h|=1),h<<=1,this.readModule(1,u-3,l,u)&&(h|=1),h<<=1,this.readModule(1,u-2,l,u)&&(h|=1),h<<=1,this.readModule(1,u-1,l,u)&&(h|=1),h}readCorner4(l,u){let h=0;return this.readModule(l-3,0,l,u)&&(h|=1),h<<=1,this.readModule(l-2,0,l,u)&&(h|=1),h<<=1,this.readModule(l-1,0,l,u)&&(h|=1),h<<=1,this.readModule(0,u-2,l,u)&&(h|=1),h<<=1,this.readModule(0,u-1,l,u)&&(h|=1),h<<=1,this.readModule(1,u-1,l,u)&&(h|=1),h<<=1,this.readModule(2,u-1,l,u)&&(h|=1),h<<=1,this.readModule(3,u-1,l,u)&&(h|=1),h}extractDataRegion(l){const u=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(l.getHeight()!==u)throw new g("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),v=u/p|0,j=h/x|0,_=v*p,R=j*x,B=new V(R,_);for(let K=0;K<v;++K){const Q=K*p;for(let le=0;le<j;++le){const be=le*x;for(let Ae=0;Ae<p;++Ae){const Oe=K*(p+2)+1+Ae,Fe=Q+Ae;for(let Ye=0;Ye<x;++Ye){const et=le*(x+2)+1+Ye;if(l.get(et,Oe)){const Je=be+Ye;B.set(Je,Fe)}}}}}return B}}class Uc{constructor(l,u){this.numDataCodewords=l,this.codewords=u}static getDataBlocks(l,u){const h=u.getECBlocks();let p=0;const x=h.getECBlocks();for(let Ae of x)p+=Ae.getCount();const v=new Array(p);let j=0;for(let Ae of x)for(let Oe=0;Oe<Ae.getCount();Oe++){const Fe=Ae.getDataCodewords(),Ye=h.getECCodewords()+Fe;v[j++]=new Uc(Fe,new Uint8Array(Ye))}const R=v[0].codewords.length-h.getECCodewords(),B=R-1;let K=0;for(let Ae=0;Ae<B;Ae++)for(let Oe=0;Oe<j;Oe++)v[Oe].codewords[Ae]=l[K++];const Q=u.getVersionNumber()===24,le=Q?8:j;for(let Ae=0;Ae<le;Ae++)v[Ae].codewords[R-1]=l[K++];const be=v[0].codewords.length;for(let Ae=R;Ae<be;Ae++)for(let Oe=0;Oe<j;Oe++){const Fe=Q?(Oe+8)%j:Oe,Ye=Q&&Fe>7?Ae-1:Ae;v[Fe].codewords[Ye]=l[K++]}if(K!==l.length)throw new g;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class un{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new g(""+l);let u=0,h=this.bitOffset,p=this.byteOffset;const x=this.bytes;if(h>0){const v=8-h,j=l<v?l:v,_=v-j,R=255>>8-j<<_;u=(x[p]&R)>>_,l-=j,h+=j,h===8&&(h=0,p++)}if(l>0){for(;l>=8;)u=u<<8|x[p]&255,p++,l-=8;if(l>0){const v=8-l,j=255>>v<<v;u=u<<l|(x[p]&j)>>v,h+=l}}return this.bitOffset=h,this.byteOffset=p,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var dn;(function(G){G[G.PAD_ENCODE=0]="PAD_ENCODE",G[G.ASCII_ENCODE=1]="ASCII_ENCODE",G[G.C40_ENCODE=2]="C40_ENCODE",G[G.TEXT_ENCODE=3]="TEXT_ENCODE",G[G.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",G[G.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",G[G.BASE256_ENCODE=6]="BASE256_ENCODE"})(dn||(dn={}));class Pa{static decode(l){const u=new un(l),h=new te,p=new te,x=new Array;let v=dn.ASCII_ENCODE;do if(v===dn.ASCII_ENCODE)v=this.decodeAsciiSegment(u,h,p);else{switch(v){case dn.C40_ENCODE:this.decodeC40Segment(u,h);break;case dn.TEXT_ENCODE:this.decodeTextSegment(u,h);break;case dn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,h);break;case dn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,h);break;case dn.BASE256_ENCODE:this.decodeBase256Segment(u,h,x);break;default:throw new $}v=dn.ASCII_ENCODE}while(v!==dn.PAD_ENCODE&&u.available()>0);return p.length()>0&&h.append(p.toString()),new pe(l,h.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(l,u,h){let p=!1;do{let x=l.readBits(8);if(x===0)throw new $;if(x<=128)return p&&(x+=128),u.append(String.fromCharCode(x-1)),dn.ASCII_ENCODE;if(x===129)return dn.PAD_ENCODE;if(x<=229){const v=x-130;v<10&&u.append("0"),u.append(""+v)}else switch(x){case 230:return dn.C40_ENCODE;case 231:return dn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:u.append("[)>05"),h.insert(0,"");break;case 237:u.append("[)>06"),h.insert(0,"");break;case 238:return dn.ANSIX12_ENCODE;case 239:return dn.TEXT_ENCODE;case 240:return dn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||l.available()!==0)throw new $;break}}while(l.available()>0);return dn.ASCII_ENCODE}static decodeC40Segment(l,u){let h=!1;const p=[];let x=0;do{if(l.available()===8)return;const v=l.readBits(8);if(v===254)return;this.parseTwoBytes(v,l.readBits(8),p);for(let j=0;j<3;j++){const _=p[j];switch(x){case 0:if(_<3)x=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const R=this.C40_BASIC_SET_CHARS[_];h?(u.append(String.fromCharCode(R.charCodeAt(0)+128)),h=!1):u.append(R)}else throw new $;break;case 1:h?(u.append(String.fromCharCode(_+128)),h=!1):u.append(String.fromCharCode(_)),x=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const R=this.C40_SHIFT2_SET_CHARS[_];h?(u.append(String.fromCharCode(R.charCodeAt(0)+128)),h=!1):u.append(R)}else switch(_){case 27:u.append("");break;case 30:h=!0;break;default:throw new $}x=0;break;case 3:h?(u.append(String.fromCharCode(_+224)),h=!1):u.append(String.fromCharCode(_+96)),x=0;break;default:throw new $}}}while(l.available()>0)}static decodeTextSegment(l,u){let h=!1,p=[],x=0;do{if(l.available()===8)return;const v=l.readBits(8);if(v===254)return;this.parseTwoBytes(v,l.readBits(8),p);for(let j=0;j<3;j++){const _=p[j];switch(x){case 0:if(_<3)x=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const R=this.TEXT_BASIC_SET_CHARS[_];h?(u.append(String.fromCharCode(R.charCodeAt(0)+128)),h=!1):u.append(R)}else throw new $;break;case 1:h?(u.append(String.fromCharCode(_+128)),h=!1):u.append(String.fromCharCode(_)),x=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const R=this.TEXT_SHIFT2_SET_CHARS[_];h?(u.append(String.fromCharCode(R.charCodeAt(0)+128)),h=!1):u.append(R)}else switch(_){case 27:u.append("");break;case 30:h=!0;break;default:throw new $}x=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const R=this.TEXT_SHIFT3_SET_CHARS[_];h?(u.append(String.fromCharCode(R.charCodeAt(0)+128)),h=!1):u.append(R),x=0}else throw new $;break;default:throw new $}}}while(l.available()>0)}static decodeAnsiX12Segment(l,u){const h=[];do{if(l.available()===8)return;const p=l.readBits(8);if(p===254)return;this.parseTwoBytes(p,l.readBits(8),h);for(let x=0;x<3;x++){const v=h[x];switch(v){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(v<14)u.append(String.fromCharCode(v+44));else if(v<40)u.append(String.fromCharCode(v+51));else throw new $;break}}}while(l.available()>0)}static parseTwoBytes(l,u,h){let p=(l<<8)+u-1,x=Math.floor(p/1600);h[0]=x,p-=x*1600,x=Math.floor(p/40),h[1]=x,h[2]=p-x*40}static decodeEdifactSegment(l,u){do{if(l.available()<=16)return;for(let h=0;h<4;h++){let p=l.readBits(6);if(p===31){const x=8-l.getBitOffset();x!==8&&l.readBits(x);return}p&32||(p|=64),u.append(String.fromCharCode(p))}}while(l.available()>0)}static decodeBase256Segment(l,u,h){let p=1+l.getByteOffset();const x=this.unrandomize255State(l.readBits(8),p++);let v;if(x===0?v=l.available()/8|0:x<250?v=x:v=250*(x-249)+this.unrandomize255State(l.readBits(8),p++),v<0)throw new $;const j=new Uint8Array(v);for(let _=0;_<v;_++){if(l.available()<8)throw new $;j[_]=this.unrandomize255State(l.readBits(8),p++)}h.push(j);try{u.append(M.decode(j,z.ISO88591))}catch(_){throw new ce("Platform does not support required encoding: "+_.message)}}static unrandomize255State(l,u){const h=149*u%255+1,p=l-h;return p>=0?p:p+256}}Pa.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pa.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pa.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pa.TEXT_SHIFT2_SET_CHARS=Pa.C40_SHIFT2_SET_CHARS,Pa.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Rs{constructor(){this.rsDecoder=new Ze(ze.DATA_MATRIX_FIELD_256)}decode(l){const u=new co(l),h=u.getVersion(),p=u.readCodewords(),x=Uc.getDataBlocks(p,h);let v=0;for(let R of x)v+=R.getNumDataCodewords();const j=new Uint8Array(v),_=x.length;for(let R=0;R<_;R++){const B=x[R],K=B.getCodewords(),Q=B.getNumDataCodewords();this.correctErrors(K,Q);for(let le=0;le<Q;le++)j[le*_+R]=K[le]}return Pa.decode(j)}correctErrors(l,u){const h=new Int32Array(l);try{this.rsDecoder.decode(h,l.length-u)}catch{throw new y}for(let p=0;p<u;p++)l[p]=h[p]}}class Ir{constructor(l){this.image=l,this.rectangleDetector=new rr(this.image)}detect(){const l=this.rectangleDetector.detect();let u=this.detectSolid1(l);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new Z;u=this.shiftToModuleCenter(u);const h=u[0],p=u[1],x=u[2],v=u[3];let j=this.transitionsBetween(h,v)+1,_=this.transitionsBetween(x,v)+1;(j&1)===1&&(j+=1),(_&1)===1&&(_+=1),4*j<7*_&&4*_<7*j&&(j=_=Math.max(j,_));let R=Ir.sampleGrid(this.image,h,p,x,v,j,_);return new Gt(R,[h,p,x,v])}static shiftPoint(l,u,h){let p=(u.getX()-l.getX())/(h+1),x=(u.getY()-l.getY())/(h+1);return new He(l.getX()+p,l.getY()+x)}static moveAway(l,u,h){let p=l.getX(),x=l.getY();return p<u?p-=1:p+=1,x<h?x-=1:x+=1,new He(p,x)}detectSolid1(l){let u=l[0],h=l[1],p=l[3],x=l[2],v=this.transitionsBetween(u,h),j=this.transitionsBetween(h,p),_=this.transitionsBetween(p,x),R=this.transitionsBetween(x,u),B=v,K=[x,u,h,p];return B>j&&(B=j,K[0]=u,K[1]=h,K[2]=p,K[3]=x),B>_&&(B=_,K[0]=h,K[1]=p,K[2]=x,K[3]=u),B>R&&(K[0]=p,K[1]=x,K[2]=u,K[3]=h),K}detectSolid2(l){let u=l[0],h=l[1],p=l[2],x=l[3],v=this.transitionsBetween(u,x),j=Ir.shiftPoint(h,p,(v+1)*4),_=Ir.shiftPoint(p,h,(v+1)*4),R=this.transitionsBetween(j,u),B=this.transitionsBetween(_,x);return R<B?(l[0]=u,l[1]=h,l[2]=p,l[3]=x):(l[0]=h,l[1]=p,l[2]=x,l[3]=u),l}correctTopRight(l){let u=l[0],h=l[1],p=l[2],x=l[3],v=this.transitionsBetween(u,x),j=this.transitionsBetween(h,x),_=Ir.shiftPoint(u,h,(j+1)*4),R=Ir.shiftPoint(p,h,(v+1)*4);v=this.transitionsBetween(_,x),j=this.transitionsBetween(R,x);let B=new He(x.getX()+(p.getX()-h.getX())/(v+1),x.getY()+(p.getY()-h.getY())/(v+1)),K=new He(x.getX()+(u.getX()-h.getX())/(j+1),x.getY()+(u.getY()-h.getY())/(j+1));if(!this.isValid(B))return this.isValid(K)?K:null;if(!this.isValid(K))return B;let Q=this.transitionsBetween(_,B)+this.transitionsBetween(R,B),le=this.transitionsBetween(_,K)+this.transitionsBetween(R,K);return Q>le?B:K}shiftToModuleCenter(l){let u=l[0],h=l[1],p=l[2],x=l[3],v=this.transitionsBetween(u,x)+1,j=this.transitionsBetween(p,x)+1,_=Ir.shiftPoint(u,h,j*4),R=Ir.shiftPoint(p,h,v*4);v=this.transitionsBetween(_,x)+1,j=this.transitionsBetween(R,x)+1,(v&1)===1&&(v+=1),(j&1)===1&&(j+=1);let B=(u.getX()+h.getX()+p.getX()+x.getX())/4,K=(u.getY()+h.getY()+p.getY()+x.getY())/4;u=Ir.moveAway(u,B,K),h=Ir.moveAway(h,B,K),p=Ir.moveAway(p,B,K),x=Ir.moveAway(x,B,K);let Q,le;return _=Ir.shiftPoint(u,h,j*4),_=Ir.shiftPoint(_,x,v*4),Q=Ir.shiftPoint(h,u,j*4),Q=Ir.shiftPoint(Q,p,v*4),R=Ir.shiftPoint(p,x,j*4),R=Ir.shiftPoint(R,h,v*4),le=Ir.shiftPoint(x,p,j*4),le=Ir.shiftPoint(le,u,v*4),[_,Q,R,le]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,u,h,p,x,v,j){return Ut.getInstance().sampleGrid(l,v,j,.5,.5,v-.5,.5,v-.5,j-.5,.5,j-.5,u.getX(),u.getY(),x.getX(),x.getY(),p.getX(),p.getY(),h.getX(),h.getY())}transitionsBetween(l,u){let h=Math.trunc(l.getX()),p=Math.trunc(l.getY()),x=Math.trunc(u.getX()),v=Math.trunc(u.getY()),j=Math.abs(v-p)>Math.abs(x-h);if(j){let Ae=h;h=p,p=Ae,Ae=x,x=v,v=Ae}let _=Math.abs(x-h),R=Math.abs(v-p),B=-_/2,K=p<v?1:-1,Q=h<x?1:-1,le=0,be=this.image.get(j?p:h,j?h:p);for(let Ae=h,Oe=p;Ae!==x;Ae+=Q){let Fe=this.image.get(j?Oe:Ae,j?Ae:Oe);if(Fe!==be&&(le++,be=Fe),B+=R,B>0){if(Oe===v)break;Oe+=K,B-=_}}return le}}class Vn{constructor(){this.decoder=new Rs}decode(l,u=null){let h,p;if(u!=null&&u.has(H.PURE_BARCODE)){const R=Vn.extractPureBits(l.getBlackMatrix());h=this.decoder.decode(R),p=Vn.NO_POINTS}else{const R=new Ir(l.getBlackMatrix()).detect();h=this.decoder.decode(R.getBits()),p=R.getPoints()}const x=h.getRawBytes(),v=new ne(h.getText(),x,8*x.length,p,xe.DATA_MATRIX,A.currentTimeMillis()),j=h.getByteSegments();j!=null&&v.putMetadata(he.BYTE_SEGMENTS,j);const _=h.getECLevel();return _!=null&&v.putMetadata(he.ERROR_CORRECTION_LEVEL,_),v}reset(){}static extractPureBits(l){const u=l.getTopLeftOnBit(),h=l.getBottomRightOnBit();if(u==null||h==null)throw new Z;const p=this.moduleSize(u,l);let x=u[1];const v=h[1];let j=u[0];const R=(h[0]-j+1)/p,B=(v-x+1)/p;if(R<=0||B<=0)throw new Z;const K=p/2;x+=K,j+=K;const Q=new V(R,B);for(let le=0;le<B;le++){const be=x+le*p;for(let Ae=0;Ae<R;Ae++)l.get(j+Ae*p,be)&&Q.set(Ae,le)}return Q}static moduleSize(l,u){const h=u.getWidth();let p=l[0];const x=l[1];for(;p<h&&u.get(p,x);)p++;if(p===h)throw new Z;const v=p-l[0];if(v===0)throw new Z;return v}}Vn.NO_POINTS=[];class Fo extends oe{constructor(l=500){super(new Vn,l)}}var zr;(function(G){G[G.L=0]="L",G[G.M=1]="M",G[G.Q=2]="Q",G[G.H=3]="H"})(zr||(zr={}));class Nr{constructor(l,u,h){this.value=l,this.stringValue=u,this.bits=h,Nr.FOR_BITS.set(h,this),Nr.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Nr.L;case"M":return Nr.M;case"Q":return Nr.Q;case"H":return Nr.H;default:throw new m(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Nr))return!1;const u=l;return this.value===u.value}static forBits(l){if(l<0||l>=Nr.FOR_BITS.size)throw new g;return Nr.FOR_BITS.get(l)}}Nr.FOR_BITS=new Map,Nr.FOR_VALUE=new Map,Nr.L=new Nr(zr.L,"L",1),Nr.M=new Nr(zr.M,"M",0),Nr.Q=new Nr(zr.Q,"Q",3),Nr.H=new Nr(zr.H,"H",2);class Gn{constructor(l){this.errorCorrectionLevel=Nr.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,u){return k.bitCount(l^u)}static decodeFormatInformation(l,u){const h=Gn.doDecodeFormatInformation(l,u);return h!==null?h:Gn.doDecodeFormatInformation(l^Gn.FORMAT_INFO_MASK_QR,u^Gn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,u){let h=Number.MAX_SAFE_INTEGER,p=0;for(const x of Gn.FORMAT_INFO_DECODE_LOOKUP){const v=x[0];if(v===l||v===u)return new Gn(x[1]);let j=Gn.numBitsDiffering(l,v);j<h&&(p=x[1],h=j),l!==u&&(j=Gn.numBitsDiffering(u,v),j<h&&(p=x[1],h=j))}return h<=3?new Gn(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Gn))return!1;const u=l;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}Gn.FORMAT_INFO_MASK_QR=21522,Gn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Le{constructor(l,...u){this.ecCodewordsPerBlock=l,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const u=this.ecBlocks;for(const h of u)l+=h.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class se{constructor(l,u){this.count=l,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mt{constructor(l,u,...h){this.versionNumber=l,this.alignmentPatternCenters=u,this.ecBlocks=h;let p=0;const x=h[0].getECCodewordsPerBlock(),v=h[0].getECBlocks();for(const j of v)p+=j.getCount()*(j.getDataCodewords()+x);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new $;try{return this.getVersionForNumber((l-17)/4)}catch{throw new $}}static getVersionForNumber(l){if(l<1||l>40)throw new g;return mt.VERSIONS[l-1]}static decodeVersionInformation(l){let u=Number.MAX_SAFE_INTEGER,h=0;for(let p=0;p<mt.VERSION_DECODE_INFO.length;p++){const x=mt.VERSION_DECODE_INFO[p];if(x===l)return mt.getVersionForNumber(p+7);const v=Gn.numBitsDiffering(l,x);v<u&&(h=p+7,u=v)}return u<=3?mt.getVersionForNumber(h):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),u=new V(l);u.setRegion(0,0,9,9),u.setRegion(l-8,0,8,9),u.setRegion(0,l-8,9,8);const h=this.alignmentPatternCenters.length;for(let p=0;p<h;p++){const x=this.alignmentPatternCenters[p]-2;for(let v=0;v<h;v++)p===0&&(v===0||v===h-1)||p===h-1&&v===0||u.setRegion(this.alignmentPatternCenters[v]-2,x,5,5)}return u.setRegion(6,9,1,l-17),u.setRegion(9,6,l-17,1),this.versionNumber>6&&(u.setRegion(l-11,0,3,6),u.setRegion(0,l-11,6,3)),u}toString(){return""+this.versionNumber}}mt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),mt.VERSIONS=[new mt(1,new Int32Array(0),new Le(7,new se(1,19)),new Le(10,new se(1,16)),new Le(13,new se(1,13)),new Le(17,new se(1,9))),new mt(2,Int32Array.from([6,18]),new Le(10,new se(1,34)),new Le(16,new se(1,28)),new Le(22,new se(1,22)),new Le(28,new se(1,16))),new mt(3,Int32Array.from([6,22]),new Le(15,new se(1,55)),new Le(26,new se(1,44)),new Le(18,new se(2,17)),new Le(22,new se(2,13))),new mt(4,Int32Array.from([6,26]),new Le(20,new se(1,80)),new Le(18,new se(2,32)),new Le(26,new se(2,24)),new Le(16,new se(4,9))),new mt(5,Int32Array.from([6,30]),new Le(26,new se(1,108)),new Le(24,new se(2,43)),new Le(18,new se(2,15),new se(2,16)),new Le(22,new se(2,11),new se(2,12))),new mt(6,Int32Array.from([6,34]),new Le(18,new se(2,68)),new Le(16,new se(4,27)),new Le(24,new se(4,19)),new Le(28,new se(4,15))),new mt(7,Int32Array.from([6,22,38]),new Le(20,new se(2,78)),new Le(18,new se(4,31)),new Le(18,new se(2,14),new se(4,15)),new Le(26,new se(4,13),new se(1,14))),new mt(8,Int32Array.from([6,24,42]),new Le(24,new se(2,97)),new Le(22,new se(2,38),new se(2,39)),new Le(22,new se(4,18),new se(2,19)),new Le(26,new se(4,14),new se(2,15))),new mt(9,Int32Array.from([6,26,46]),new Le(30,new se(2,116)),new Le(22,new se(3,36),new se(2,37)),new Le(20,new se(4,16),new se(4,17)),new Le(24,new se(4,12),new se(4,13))),new mt(10,Int32Array.from([6,28,50]),new Le(18,new se(2,68),new se(2,69)),new Le(26,new se(4,43),new se(1,44)),new Le(24,new se(6,19),new se(2,20)),new Le(28,new se(6,15),new se(2,16))),new mt(11,Int32Array.from([6,30,54]),new Le(20,new se(4,81)),new Le(30,new se(1,50),new se(4,51)),new Le(28,new se(4,22),new se(4,23)),new Le(24,new se(3,12),new se(8,13))),new mt(12,Int32Array.from([6,32,58]),new Le(24,new se(2,92),new se(2,93)),new Le(22,new se(6,36),new se(2,37)),new Le(26,new se(4,20),new se(6,21)),new Le(28,new se(7,14),new se(4,15))),new mt(13,Int32Array.from([6,34,62]),new Le(26,new se(4,107)),new Le(22,new se(8,37),new se(1,38)),new Le(24,new se(8,20),new se(4,21)),new Le(22,new se(12,11),new se(4,12))),new mt(14,Int32Array.from([6,26,46,66]),new Le(30,new se(3,115),new se(1,116)),new Le(24,new se(4,40),new se(5,41)),new Le(20,new se(11,16),new se(5,17)),new Le(24,new se(11,12),new se(5,13))),new mt(15,Int32Array.from([6,26,48,70]),new Le(22,new se(5,87),new se(1,88)),new Le(24,new se(5,41),new se(5,42)),new Le(30,new se(5,24),new se(7,25)),new Le(24,new se(11,12),new se(7,13))),new mt(16,Int32Array.from([6,26,50,74]),new Le(24,new se(5,98),new se(1,99)),new Le(28,new se(7,45),new se(3,46)),new Le(24,new se(15,19),new se(2,20)),new Le(30,new se(3,15),new se(13,16))),new mt(17,Int32Array.from([6,30,54,78]),new Le(28,new se(1,107),new se(5,108)),new Le(28,new se(10,46),new se(1,47)),new Le(28,new se(1,22),new se(15,23)),new Le(28,new se(2,14),new se(17,15))),new mt(18,Int32Array.from([6,30,56,82]),new Le(30,new se(5,120),new se(1,121)),new Le(26,new se(9,43),new se(4,44)),new Le(28,new se(17,22),new se(1,23)),new Le(28,new se(2,14),new se(19,15))),new mt(19,Int32Array.from([6,30,58,86]),new Le(28,new se(3,113),new se(4,114)),new Le(26,new se(3,44),new se(11,45)),new Le(26,new se(17,21),new se(4,22)),new Le(26,new se(9,13),new se(16,14))),new mt(20,Int32Array.from([6,34,62,90]),new Le(28,new se(3,107),new se(5,108)),new Le(26,new se(3,41),new se(13,42)),new Le(30,new se(15,24),new se(5,25)),new Le(28,new se(15,15),new se(10,16))),new mt(21,Int32Array.from([6,28,50,72,94]),new Le(28,new se(4,116),new se(4,117)),new Le(26,new se(17,42)),new Le(28,new se(17,22),new se(6,23)),new Le(30,new se(19,16),new se(6,17))),new mt(22,Int32Array.from([6,26,50,74,98]),new Le(28,new se(2,111),new se(7,112)),new Le(28,new se(17,46)),new Le(30,new se(7,24),new se(16,25)),new Le(24,new se(34,13))),new mt(23,Int32Array.from([6,30,54,78,102]),new Le(30,new se(4,121),new se(5,122)),new Le(28,new se(4,47),new se(14,48)),new Le(30,new se(11,24),new se(14,25)),new Le(30,new se(16,15),new se(14,16))),new mt(24,Int32Array.from([6,28,54,80,106]),new Le(30,new se(6,117),new se(4,118)),new Le(28,new se(6,45),new se(14,46)),new Le(30,new se(11,24),new se(16,25)),new Le(30,new se(30,16),new se(2,17))),new mt(25,Int32Array.from([6,32,58,84,110]),new Le(26,new se(8,106),new se(4,107)),new Le(28,new se(8,47),new se(13,48)),new Le(30,new se(7,24),new se(22,25)),new Le(30,new se(22,15),new se(13,16))),new mt(26,Int32Array.from([6,30,58,86,114]),new Le(28,new se(10,114),new se(2,115)),new Le(28,new se(19,46),new se(4,47)),new Le(28,new se(28,22),new se(6,23)),new Le(30,new se(33,16),new se(4,17))),new mt(27,Int32Array.from([6,34,62,90,118]),new Le(30,new se(8,122),new se(4,123)),new Le(28,new se(22,45),new se(3,46)),new Le(30,new se(8,23),new se(26,24)),new Le(30,new se(12,15),new se(28,16))),new mt(28,Int32Array.from([6,26,50,74,98,122]),new Le(30,new se(3,117),new se(10,118)),new Le(28,new se(3,45),new se(23,46)),new Le(30,new se(4,24),new se(31,25)),new Le(30,new se(11,15),new se(31,16))),new mt(29,Int32Array.from([6,30,54,78,102,126]),new Le(30,new se(7,116),new se(7,117)),new Le(28,new se(21,45),new se(7,46)),new Le(30,new se(1,23),new se(37,24)),new Le(30,new se(19,15),new se(26,16))),new mt(30,Int32Array.from([6,26,52,78,104,130]),new Le(30,new se(5,115),new se(10,116)),new Le(28,new se(19,47),new se(10,48)),new Le(30,new se(15,24),new se(25,25)),new Le(30,new se(23,15),new se(25,16))),new mt(31,Int32Array.from([6,30,56,82,108,134]),new Le(30,new se(13,115),new se(3,116)),new Le(28,new se(2,46),new se(29,47)),new Le(30,new se(42,24),new se(1,25)),new Le(30,new se(23,15),new se(28,16))),new mt(32,Int32Array.from([6,34,60,86,112,138]),new Le(30,new se(17,115)),new Le(28,new se(10,46),new se(23,47)),new Le(30,new se(10,24),new se(35,25)),new Le(30,new se(19,15),new se(35,16))),new mt(33,Int32Array.from([6,30,58,86,114,142]),new Le(30,new se(17,115),new se(1,116)),new Le(28,new se(14,46),new se(21,47)),new Le(30,new se(29,24),new se(19,25)),new Le(30,new se(11,15),new se(46,16))),new mt(34,Int32Array.from([6,34,62,90,118,146]),new Le(30,new se(13,115),new se(6,116)),new Le(28,new se(14,46),new se(23,47)),new Le(30,new se(44,24),new se(7,25)),new Le(30,new se(59,16),new se(1,17))),new mt(35,Int32Array.from([6,30,54,78,102,126,150]),new Le(30,new se(12,121),new se(7,122)),new Le(28,new se(12,47),new se(26,48)),new Le(30,new se(39,24),new se(14,25)),new Le(30,new se(22,15),new se(41,16))),new mt(36,Int32Array.from([6,24,50,76,102,128,154]),new Le(30,new se(6,121),new se(14,122)),new Le(28,new se(6,47),new se(34,48)),new Le(30,new se(46,24),new se(10,25)),new Le(30,new se(2,15),new se(64,16))),new mt(37,Int32Array.from([6,28,54,80,106,132,158]),new Le(30,new se(17,122),new se(4,123)),new Le(28,new se(29,46),new se(14,47)),new Le(30,new se(49,24),new se(10,25)),new Le(30,new se(24,15),new se(46,16))),new mt(38,Int32Array.from([6,32,58,84,110,136,162]),new Le(30,new se(4,122),new se(18,123)),new Le(28,new se(13,46),new se(32,47)),new Le(30,new se(48,24),new se(14,25)),new Le(30,new se(42,15),new se(32,16))),new mt(39,Int32Array.from([6,26,54,82,110,138,166]),new Le(30,new se(20,117),new se(4,118)),new Le(28,new se(40,47),new se(7,48)),new Le(30,new se(43,24),new se(22,25)),new Le(30,new se(10,15),new se(67,16))),new mt(40,Int32Array.from([6,30,58,86,114,142,170]),new Le(30,new se(19,118),new se(6,119)),new Le(28,new se(18,47),new se(31,48)),new Le(30,new se(34,24),new se(34,25)),new Le(30,new se(20,15),new se(61,16)))];var yn;(function(G){G[G.DATA_MASK_000=0]="DATA_MASK_000",G[G.DATA_MASK_001=1]="DATA_MASK_001",G[G.DATA_MASK_010=2]="DATA_MASK_010",G[G.DATA_MASK_011=3]="DATA_MASK_011",G[G.DATA_MASK_100=4]="DATA_MASK_100",G[G.DATA_MASK_101=5]="DATA_MASK_101",G[G.DATA_MASK_110=6]="DATA_MASK_110",G[G.DATA_MASK_111=7]="DATA_MASK_111"})(yn||(yn={}));class ki{constructor(l,u){this.value=l,this.isMasked=u}unmaskBitMatrix(l,u){for(let h=0;h<u;h++)for(let p=0;p<u;p++)this.isMasked(h,p)&&l.flip(p,h)}}ki.values=new Map([[yn.DATA_MASK_000,new ki(yn.DATA_MASK_000,(G,l)=>(G+l&1)===0)],[yn.DATA_MASK_001,new ki(yn.DATA_MASK_001,(G,l)=>(G&1)===0)],[yn.DATA_MASK_010,new ki(yn.DATA_MASK_010,(G,l)=>l%3===0)],[yn.DATA_MASK_011,new ki(yn.DATA_MASK_011,(G,l)=>(G+l)%3===0)],[yn.DATA_MASK_100,new ki(yn.DATA_MASK_100,(G,l)=>(Math.floor(G/2)+Math.floor(l/3)&1)===0)],[yn.DATA_MASK_101,new ki(yn.DATA_MASK_101,(G,l)=>G*l%6===0)],[yn.DATA_MASK_110,new ki(yn.DATA_MASK_110,(G,l)=>G*l%6<3)],[yn.DATA_MASK_111,new ki(yn.DATA_MASK_111,(G,l)=>(G+l+G*l%3&1)===0)]]);class uo{constructor(l){const u=l.getHeight();if(u<21||(u&3)!==1)throw new $;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let x=0;x<6;x++)l=this.copyBit(x,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let x=5;x>=0;x--)l=this.copyBit(8,x,l);const u=this.bitMatrix.getHeight();let h=0;const p=u-7;for(let x=u-1;x>=p;x--)h=this.copyBit(8,x,h);for(let x=u-8;x<u;x++)h=this.copyBit(x,8,h);if(this.parsedFormatInfo=Gn.decodeFormatInformation(l,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),u=Math.floor((l-17)/4);if(u<=6)return mt.getVersionForNumber(u);let h=0;const p=l-11;for(let v=5;v>=0;v--)for(let j=l-9;j>=p;j--)h=this.copyBit(j,v,h);let x=mt.decodeVersionInformation(h);if(x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;h=0;for(let v=5;v>=0;v--)for(let j=l-9;j>=p;j--)h=this.copyBit(v,j,h);if(x=mt.decodeVersionInformation(h),x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;throw new $}copyBit(l,u,h){return(this.isMirror?this.bitMatrix.get(u,l):this.bitMatrix.get(l,u))?h<<1|1:h<<1}readCodewords(){const l=this.readFormatInformation(),u=this.readVersion(),h=ki.values.get(l.getDataMask()),p=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,p);const x=u.buildFunctionPattern();let v=!0;const j=new Uint8Array(u.getTotalCodewords());let _=0,R=0,B=0;for(let K=p-1;K>0;K-=2){K===6&&K--;for(let Q=0;Q<p;Q++){const le=v?p-1-Q:Q;for(let be=0;be<2;be++)x.get(K-be,le)||(B++,R<<=1,this.bitMatrix.get(K-be,le)&&(R|=1),B===8&&(j[_++]=R,B=0,R=0))}v=!v}if(_!==u.getTotalCodewords())throw new $;return j}remask(){if(this.parsedFormatInfo===null)return;const l=ki.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let u=0,h=l.getWidth();u<h;u++)for(let p=u+1,x=l.getHeight();p<x;p++)l.get(u,p)!==l.get(p,u)&&(l.flip(p,u),l.flip(u,p))}}class Uo{constructor(l,u){this.numDataCodewords=l,this.codewords=u}static getDataBlocks(l,u,h){if(l.length!==u.getTotalCodewords())throw new g;const p=u.getECBlocksForLevel(h);let x=0;const v=p.getECBlocks();for(const be of v)x+=be.getCount();const j=new Array(x);let _=0;for(const be of v)for(let Ae=0;Ae<be.getCount();Ae++){const Oe=be.getDataCodewords(),Fe=p.getECCodewordsPerBlock()+Oe;j[_++]=new Uo(Oe,new Uint8Array(Fe))}const R=j[0].codewords.length;let B=j.length-1;for(;B>=0&&j[B].codewords.length!==R;)B--;B++;const K=R-p.getECCodewordsPerBlock();let Q=0;for(let be=0;be<K;be++)for(let Ae=0;Ae<_;Ae++)j[Ae].codewords[be]=l[Q++];for(let be=B;be<_;be++)j[be].codewords[K]=l[Q++];const le=j[0].codewords.length;for(let be=K;be<le;be++)for(let Ae=0;Ae<_;Ae++){const Oe=Ae<B?be:be+1;j[Ae].codewords[Oe]=l[Q++]}return j}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Wi;(function(G){G[G.TERMINATOR=0]="TERMINATOR",G[G.NUMERIC=1]="NUMERIC",G[G.ALPHANUMERIC=2]="ALPHANUMERIC",G[G.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",G[G.BYTE=4]="BYTE",G[G.ECI=5]="ECI",G[G.KANJI=6]="KANJI",G[G.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",G[G.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",G[G.HANZI=9]="HANZI"})(Wi||(Wi={}));class Pt{constructor(l,u,h,p){this.value=l,this.stringValue=u,this.characterCountBitsForVersions=h,this.bits=p,Pt.FOR_BITS.set(p,this),Pt.FOR_VALUE.set(l,this)}static forBits(l){const u=Pt.FOR_BITS.get(l);if(u===void 0)throw new g;return u}getCharacterCountBits(l){const u=l.getVersionNumber();let h;return u<=9?h=0:u<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof Pt))return!1;const u=l;return this.value===u.value}toString(){return this.stringValue}}Pt.FOR_BITS=new Map,Pt.FOR_VALUE=new Map,Pt.TERMINATOR=new Pt(Wi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Pt.NUMERIC=new Pt(Wi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Pt.ALPHANUMERIC=new Pt(Wi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Pt.STRUCTURED_APPEND=new Pt(Wi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Pt.BYTE=new Pt(Wi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Pt.ECI=new Pt(Wi.ECI,"ECI",Int32Array.from([0,0,0]),7),Pt.KANJI=new Pt(Wi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Pt.FNC1_FIRST_POSITION=new Pt(Wi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Pt.FNC1_SECOND_POSITION=new Pt(Wi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Pt.HANZI=new Pt(Wi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class $r{static decode(l,u,h,p){const x=new un(l);let v=new te;const j=new Array;let _=-1,R=-1;try{let B=null,K=!1,Q;do{if(x.available()<4)Q=Pt.TERMINATOR;else{const le=x.readBits(4);Q=Pt.forBits(le)}switch(Q){case Pt.TERMINATOR:break;case Pt.FNC1_FIRST_POSITION:case Pt.FNC1_SECOND_POSITION:K=!0;break;case Pt.STRUCTURED_APPEND:if(x.available()<16)throw new $;_=x.readBits(8),R=x.readBits(8);break;case Pt.ECI:const le=$r.parseECIValue(x);if(B=L.getCharacterSetECIByValue(le),B===null)throw new $;break;case Pt.HANZI:const be=x.readBits(4),Ae=x.readBits(Q.getCharacterCountBits(u));be===$r.GB2312_SUBSET&&$r.decodeHanziSegment(x,v,Ae);break;default:const Oe=x.readBits(Q.getCharacterCountBits(u));switch(Q){case Pt.NUMERIC:$r.decodeNumericSegment(x,v,Oe);break;case Pt.ALPHANUMERIC:$r.decodeAlphanumericSegment(x,v,Oe,K);break;case Pt.BYTE:$r.decodeByteSegment(x,v,Oe,B,j,p);break;case Pt.KANJI:$r.decodeKanjiSegment(x,v,Oe);break;default:throw new $}break}}while(Q!==Pt.TERMINATOR)}catch{throw new $}return new pe(l,v.toString(),j.length===0?null:j,h===null?null:h.toString(),_,R)}static decodeHanziSegment(l,u,h){if(h*13>l.available())throw new $;const p=new Uint8Array(2*h);let x=0;for(;h>0;){const v=l.readBits(13);let j=v/96<<8&4294967295|v%96;j<959?j+=41377:j+=42657,p[x]=j>>8&255,p[x+1]=j&255,x+=2,h--}try{u.append(M.decode(p,z.GB2312))}catch(v){throw new $(v)}}static decodeKanjiSegment(l,u,h){if(h*13>l.available())throw new $;const p=new Uint8Array(2*h);let x=0;for(;h>0;){const v=l.readBits(13);let j=v/192<<8&4294967295|v%192;j<7936?j+=33088:j+=49472,p[x]=j>>8,p[x+1]=j,x+=2,h--}try{u.append(M.decode(p,z.SHIFT_JIS))}catch(v){throw new $(v)}}static decodeByteSegment(l,u,h,p,x,v){if(8*h>l.available())throw new $;const j=new Uint8Array(h);for(let R=0;R<h;R++)j[R]=l.readBits(8);let _;p===null?_=z.guessEncoding(j,v):_=p.getName();try{u.append(M.decode(j,_))}catch(R){throw new $(R)}x.push(j)}static toAlphaNumericChar(l){if(l>=$r.ALPHANUMERIC_CHARS.length)throw new $;return $r.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,u,h,p){const x=u.length();for(;h>1;){if(l.available()<11)throw new $;const v=l.readBits(11);u.append($r.toAlphaNumericChar(Math.floor(v/45))),u.append($r.toAlphaNumericChar(v%45)),h-=2}if(h===1){if(l.available()<6)throw new $;u.append($r.toAlphaNumericChar(l.readBits(6)))}if(p)for(let v=x;v<u.length();v++)u.charAt(v)==="%"&&(v<u.length()-1&&u.charAt(v+1)==="%"?u.deleteCharAt(v+1):u.setCharAt(v,""))}static decodeNumericSegment(l,u,h){for(;h>=3;){if(l.available()<10)throw new $;const p=l.readBits(10);if(p>=1e3)throw new $;u.append($r.toAlphaNumericChar(Math.floor(p/100))),u.append($r.toAlphaNumericChar(Math.floor(p/10)%10)),u.append($r.toAlphaNumericChar(p%10)),h-=3}if(h===2){if(l.available()<7)throw new $;const p=l.readBits(7);if(p>=100)throw new $;u.append($r.toAlphaNumericChar(Math.floor(p/10))),u.append($r.toAlphaNumericChar(p%10))}else if(h===1){if(l.available()<4)throw new $;const p=l.readBits(4);if(p>=10)throw new $;u.append($r.toAlphaNumericChar(p))}}static parseECIValue(l){const u=l.readBits(8);if(!(u&128))return u&127;if((u&192)===128){const h=l.readBits(8);return(u&63)<<8&4294967295|h}if((u&224)===192){const h=l.readBits(16);return(u&31)<<16&4294967295|h}throw new $}}$r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",$r.GB2312_SUBSET=1;class Bl{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const u=l[0];l[0]=l[2],l[2]=u}}class Wo{constructor(){this.rsDecoder=new Ze(ze.QR_CODE_FIELD_256)}decodeBooleanArray(l,u){return this.decodeBitMatrix(V.parseFromBooleanArray(l),u)}decodeBitMatrix(l,u){const h=new uo(l);let p=null;try{return this.decodeBitMatrixParser(h,u)}catch(x){p=x}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const x=this.decodeBitMatrixParser(h,u);return x.setOther(new Bl(!0)),x}catch(x){throw p!==null?p:x}}decodeBitMatrixParser(l,u){const h=l.readVersion(),p=l.readFormatInformation().getErrorCorrectionLevel(),x=l.readCodewords(),v=Uo.getDataBlocks(x,h,p);let j=0;for(const B of v)j+=B.getNumDataCodewords();const _=new Uint8Array(j);let R=0;for(const B of v){const K=B.getCodewords(),Q=B.getNumDataCodewords();this.correctErrors(K,Q);for(let le=0;le<Q;le++)_[R++]=K[le]}return $r.decode(_,h,p,u)}correctErrors(l,u){const h=new Int32Array(l);try{this.rsDecoder.decode(h,l.length-u)}catch{throw new y}for(let p=0;p<u;p++)l[p]=h[p]}}class os extends He{constructor(l,u,h){super(l,u),this.estimatedModuleSize=h}aboutEquals(l,u,h){if(Math.abs(u-this.getY())<=l&&Math.abs(h-this.getX())<=l){const p=Math.abs(l-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(l,u,h){const p=(this.getX()+u)/2,x=(this.getY()+l)/2,v=(this.estimatedModuleSize+h)/2;return new os(p,x,v)}}class Fl{constructor(l,u,h,p,x,v,j){this.image=l,this.startX=u,this.startY=h,this.width=p,this.height=x,this.moduleSize=v,this.resultPointCallback=j,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,u=this.height,h=this.width,p=l+h,x=this.startY+u/2,v=new Int32Array(3),j=this.image;for(let _=0;_<u;_++){const R=x+(_&1?-Math.floor((_+1)/2):Math.floor((_+1)/2));v[0]=0,v[1]=0,v[2]=0;let B=l;for(;B<p&&!j.get(B,R);)B++;let K=0;for(;B<p;){if(j.get(B,R))if(K===1)v[1]++;else if(K===2){if(this.foundPatternCross(v)){const Q=this.handlePossibleCenter(v,R,B);if(Q!==null)return Q}v[0]=v[2],v[1]=1,v[2]=0,K=1}else v[++K]++;else K===1&&K++,v[K]++;B++}if(this.foundPatternCross(v)){const Q=this.handlePossibleCenter(v,R,p);if(Q!==null)return Q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(l,u){return u-l[2]-l[1]/2}foundPatternCross(l){const u=this.moduleSize,h=u/2;for(let p=0;p<3;p++)if(Math.abs(u-l[p])>=h)return!1;return!0}crossCheckVertical(l,u,h,p){const x=this.image,v=x.getHeight(),j=this.crossCheckStateCount;j[0]=0,j[1]=0,j[2]=0;let _=l;for(;_>=0&&x.get(u,_)&&j[1]<=h;)j[1]++,_--;if(_<0||j[1]>h)return NaN;for(;_>=0&&!x.get(u,_)&&j[0]<=h;)j[0]++,_--;if(j[0]>h)return NaN;for(_=l+1;_<v&&x.get(u,_)&&j[1]<=h;)j[1]++,_++;if(_===v||j[1]>h)return NaN;for(;_<v&&!x.get(u,_)&&j[2]<=h;)j[2]++,_++;if(j[2]>h)return NaN;const R=j[0]+j[1]+j[2];return 5*Math.abs(R-p)>=2*p?NaN:this.foundPatternCross(j)?Fl.centerFromEnd(j,_):NaN}handlePossibleCenter(l,u,h){const p=l[0]+l[1]+l[2],x=Fl.centerFromEnd(l,h),v=this.crossCheckVertical(u,x,2*l[1],p);if(!isNaN(v)){const j=(l[0]+l[1]+l[2])/3;for(const R of this.possibleCenters)if(R.aboutEquals(j,v,x))return R.combineEstimate(v,x,j);const _=new os(x,v,j);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class Ds extends He{constructor(l,u,h,p){super(l,u),this.estimatedModuleSize=h,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,u,h){if(Math.abs(u-this.getY())<=l&&Math.abs(h-this.getX())<=l){const p=Math.abs(l-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(l,u,h){const p=this.count+1,x=(this.count*this.getX()+u)/p,v=(this.count*this.getY()+l)/p,j=(this.count*this.estimatedModuleSize+h)/p;return new Ds(x,v,j,p)}}class Wc{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wt{constructor(l,u){this.image=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const u=l!=null&&l.get(H.TRY_HARDER)!==void 0,h=l!=null&&l.get(H.PURE_BARCODE)!==void 0,p=this.image,x=p.getHeight(),v=p.getWidth();let j=Math.floor(3*x/(4*wt.MAX_MODULES));(j<wt.MIN_SKIP||u)&&(j=wt.MIN_SKIP);let _=!1;const R=new Int32Array(5);for(let K=j-1;K<x&&!_;K+=j){R[0]=0,R[1]=0,R[2]=0,R[3]=0,R[4]=0;let Q=0;for(let le=0;le<v;le++)if(p.get(le,K))(Q&1)===1&&Q++,R[Q]++;else if(Q&1)R[Q]++;else if(Q===4)if(wt.foundPatternCross(R)){if(this.handlePossibleCenter(R,K,le,h)===!0)if(j=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const Ae=this.findRowSkip();Ae>R[2]&&(K+=Ae-R[2]-j,le=v-1)}else{R[0]=R[2],R[1]=R[3],R[2]=R[4],R[3]=1,R[4]=0,Q=3;continue}Q=0,R[0]=0,R[1]=0,R[2]=0,R[3]=0,R[4]=0}else R[0]=R[2],R[1]=R[3],R[2]=R[4],R[3]=1,R[4]=0,Q=3;else R[++Q]++;wt.foundPatternCross(R)&&this.handlePossibleCenter(R,K,v,h)===!0&&(j=R[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const B=this.selectBestPatterns();return He.orderBestPatterns(B),new Wc(B)}static centerFromEnd(l,u){return u-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let u=0;for(let x=0;x<5;x++){const v=l[x];if(v===0)return!1;u+=v}if(u<7)return!1;const h=u/7,p=h/2;return Math.abs(h-l[0])<p&&Math.abs(h-l[1])<p&&Math.abs(3*h-l[2])<3*p&&Math.abs(h-l[3])<p&&Math.abs(h-l[4])<p}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,u,h,p){const x=this.getCrossCheckStateCount();let v=0;const j=this.image;for(;l>=v&&u>=v&&j.get(u-v,l-v);)x[2]++,v++;if(l<v||u<v)return!1;for(;l>=v&&u>=v&&!j.get(u-v,l-v)&&x[1]<=h;)x[1]++,v++;if(l<v||u<v||x[1]>h)return!1;for(;l>=v&&u>=v&&j.get(u-v,l-v)&&x[0]<=h;)x[0]++,v++;if(x[0]>h)return!1;const _=j.getHeight(),R=j.getWidth();for(v=1;l+v<_&&u+v<R&&j.get(u+v,l+v);)x[2]++,v++;if(l+v>=_||u+v>=R)return!1;for(;l+v<_&&u+v<R&&!j.get(u+v,l+v)&&x[3]<h;)x[3]++,v++;if(l+v>=_||u+v>=R||x[3]>=h)return!1;for(;l+v<_&&u+v<R&&j.get(u+v,l+v)&&x[4]<h;)x[4]++,v++;if(x[4]>=h)return!1;const B=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(B-p)<2*p&&wt.foundPatternCross(x)}crossCheckVertical(l,u,h,p){const x=this.image,v=x.getHeight(),j=this.getCrossCheckStateCount();let _=l;for(;_>=0&&x.get(u,_);)j[2]++,_--;if(_<0)return NaN;for(;_>=0&&!x.get(u,_)&&j[1]<=h;)j[1]++,_--;if(_<0||j[1]>h)return NaN;for(;_>=0&&x.get(u,_)&&j[0]<=h;)j[0]++,_--;if(j[0]>h)return NaN;for(_=l+1;_<v&&x.get(u,_);)j[2]++,_++;if(_===v)return NaN;for(;_<v&&!x.get(u,_)&&j[3]<h;)j[3]++,_++;if(_===v||j[3]>=h)return NaN;for(;_<v&&x.get(u,_)&&j[4]<h;)j[4]++,_++;if(j[4]>=h)return NaN;const R=j[0]+j[1]+j[2]+j[3]+j[4];return 5*Math.abs(R-p)>=2*p?NaN:wt.foundPatternCross(j)?wt.centerFromEnd(j,_):NaN}crossCheckHorizontal(l,u,h,p){const x=this.image,v=x.getWidth(),j=this.getCrossCheckStateCount();let _=l;for(;_>=0&&x.get(_,u);)j[2]++,_--;if(_<0)return NaN;for(;_>=0&&!x.get(_,u)&&j[1]<=h;)j[1]++,_--;if(_<0||j[1]>h)return NaN;for(;_>=0&&x.get(_,u)&&j[0]<=h;)j[0]++,_--;if(j[0]>h)return NaN;for(_=l+1;_<v&&x.get(_,u);)j[2]++,_++;if(_===v)return NaN;for(;_<v&&!x.get(_,u)&&j[3]<h;)j[3]++,_++;if(_===v||j[3]>=h)return NaN;for(;_<v&&x.get(_,u)&&j[4]<h;)j[4]++,_++;if(j[4]>=h)return NaN;const R=j[0]+j[1]+j[2]+j[3]+j[4];return 5*Math.abs(R-p)>=p?NaN:wt.foundPatternCross(j)?wt.centerFromEnd(j,_):NaN}handlePossibleCenter(l,u,h,p){const x=l[0]+l[1]+l[2]+l[3]+l[4];let v=wt.centerFromEnd(l,h),j=this.crossCheckVertical(u,Math.floor(v),l[2],x);if(!isNaN(j)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(j),l[2],x),!isNaN(v)&&(!p||this.crossCheckDiagonal(Math.floor(j),Math.floor(v),l[2],x)))){const _=x/7;let R=!1;const B=this.possibleCenters;for(let K=0,Q=B.length;K<Q;K++){const le=B[K];if(le.aboutEquals(_,j,v)){B[K]=le.combineEstimate(j,v,_),R=!0;break}}if(!R){const K=new Ds(v,j,_);B.push(K),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(K)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const h of this.possibleCenters)if(h.getCount()>=wt.CENTER_QUORUM)if(u==null)u=h;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-h.getX())-Math.abs(u.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,u=0;const h=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=wt.CENTER_QUORUM&&(l++,u+=v.getEstimatedModuleSize());if(l<3)return!1;const p=u/h;let x=0;for(const v of this.possibleCenters)x+=Math.abs(v.getEstimatedModuleSize()-p);return x<=.05*u}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new Z;const u=this.possibleCenters;let h;if(l>3){let p=0,x=0;for(const _ of this.possibleCenters){const R=_.getEstimatedModuleSize();p+=R,x+=R*R}h=p/l;let v=Math.sqrt(x/l-h*h);u.sort((_,R)=>{const B=Math.abs(R.getEstimatedModuleSize()-h),K=Math.abs(_.getEstimatedModuleSize()-h);return B<K?-1:B>K?1:0});const j=Math.max(.2*h,v);for(let _=0;_<u.length&&u.length>3;_++){const R=u[_];Math.abs(R.getEstimatedModuleSize()-h)>j&&(u.splice(_,1),_--)}}if(u.length>3){let p=0;for(const x of u)p+=x.getEstimatedModuleSize();h=p/u.length,u.sort((x,v)=>{if(v.getCount()===x.getCount()){const j=Math.abs(v.getEstimatedModuleSize()-h),_=Math.abs(x.getEstimatedModuleSize()-h);return j<_?1:j>_?-1:0}else return v.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}wt.CENTER_QUORUM=2,wt.MIN_SKIP=3,wt.MAX_MODULES=57;class zo{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(H.NEED_RESULT_POINT_CALLBACK);const h=new wt(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(h)}processFinderPatternInfo(l){const u=l.getTopLeft(),h=l.getTopRight(),p=l.getBottomLeft(),x=this.calculateModuleSize(u,h,p);if(x<1)throw new Z("No pattern found in proccess finder.");const v=zo.computeDimension(u,h,p,x),j=mt.getProvisionalVersionForDimension(v),_=j.getDimensionForVersion()-7;let R=null;if(j.getAlignmentPatternCenters().length>0){const le=h.getX()-u.getX()+p.getX(),be=h.getY()-u.getY()+p.getY(),Ae=1-3/_,Oe=Math.floor(u.getX()+Ae*(le-u.getX())),Fe=Math.floor(u.getY()+Ae*(be-u.getY()));for(let Ye=4;Ye<=16;Ye<<=1)try{R=this.findAlignmentInRegion(x,Oe,Fe,Ye);break}catch(et){if(!(et instanceof Z))throw et}}const B=zo.createTransform(u,h,p,R,v),K=zo.sampleGrid(this.image,B,v);let Q;return R===null?Q=[p,u,h]:Q=[p,u,h,R],new Gt(K,Q)}static createTransform(l,u,h,p,x){const v=x-3.5;let j,_,R,B;return p!==null?(j=p.getX(),_=p.getY(),R=v-3,B=R):(j=u.getX()-l.getX()+h.getX(),_=u.getY()-l.getY()+h.getY(),R=v,B=v),Rt.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,R,B,3.5,v,l.getX(),l.getY(),u.getX(),u.getY(),j,_,h.getX(),h.getY())}static sampleGrid(l,u,h){return Ut.getInstance().sampleGridWithTransform(l,h,h,u)}static computeDimension(l,u,h,p){const x=Ve.round(He.distance(l,u)/p),v=Ve.round(He.distance(l,h)/p);let j=Math.floor((x+v)/2)+7;switch(j&3){case 0:j++;break;case 2:j--;break;case 3:throw new Z("Dimensions could be not found.")}return j}calculateModuleSize(l,u,h){return(this.calculateModuleSizeOneWay(l,u)+this.calculateModuleSizeOneWay(l,h))/2}calculateModuleSizeOneWay(l,u){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(u.getX()),Math.floor(u.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(h)?p/7:isNaN(p)?h/7:(h+p)/14}sizeOfBlackWhiteBlackRunBothWays(l,u,h,p){let x=this.sizeOfBlackWhiteBlackRun(l,u,h,p),v=1,j=l-(h-l);j<0?(v=l/(l-j),j=0):j>=this.image.getWidth()&&(v=(this.image.getWidth()-1-l)/(j-l),j=this.image.getWidth()-1);let _=Math.floor(u-(p-u)*v);return v=1,_<0?(v=u/(u-_),_=0):_>=this.image.getHeight()&&(v=(this.image.getHeight()-1-u)/(_-u),_=this.image.getHeight()-1),j=Math.floor(l+(j-l)*v),x+=this.sizeOfBlackWhiteBlackRun(l,u,j,_),x-1}sizeOfBlackWhiteBlackRun(l,u,h,p){const x=Math.abs(p-u)>Math.abs(h-l);if(x){let le=l;l=u,u=le,le=h,h=p,p=le}const v=Math.abs(h-l),j=Math.abs(p-u);let _=-v/2;const R=l<h?1:-1,B=u<p?1:-1;let K=0;const Q=h+R;for(let le=l,be=u;le!==Q;le+=R){const Ae=x?be:le,Oe=x?le:be;if(K===1===this.image.get(Ae,Oe)){if(K===2)return Ve.distance(le,be,l,u);K++}if(_+=j,_>0){if(be===p)break;be+=B,_-=v}}return K===2?Ve.distance(h+R,p,l,u):NaN}findAlignmentInRegion(l,u,h,p){const x=Math.floor(p*l),v=Math.max(0,u-x),j=Math.min(this.image.getWidth()-1,u+x);if(j-v<l*3)throw new Z("Alignment top exceeds estimated module size.");const _=Math.max(0,h-x),R=Math.min(this.image.getHeight()-1,h+x);if(R-_<l*3)throw new Z("Alignment bottom exceeds estimated module size.");return new Fl(this.image,v,_,j-v,R-_,l,this.resultPointCallback).find()}}class ls{constructor(){this.decoder=new Wo}getDecoder(){return this.decoder}decode(l,u){let h,p;if(u!=null&&u.get(H.PURE_BARCODE)!==void 0){const _=ls.extractPureBits(l.getBlackMatrix());h=this.decoder.decodeBitMatrix(_,u),p=ls.NO_POINTS}else{const _=new zo(l.getBlackMatrix()).detect(u);h=this.decoder.decodeBitMatrix(_.getBits(),u),p=_.getPoints()}h.getOther()instanceof Bl&&h.getOther().applyMirroredCorrection(p);const x=new ne(h.getText(),h.getRawBytes(),void 0,p,xe.QR_CODE,void 0),v=h.getByteSegments();v!==null&&x.putMetadata(he.BYTE_SEGMENTS,v);const j=h.getECLevel();return j!==null&&x.putMetadata(he.ERROR_CORRECTION_LEVEL,j),h.hasStructuredAppend()&&(x.putMetadata(he.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),x.putMetadata(he.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),x}reset(){}static extractPureBits(l){const u=l.getTopLeftOnBit(),h=l.getBottomRightOnBit();if(u===null||h===null)throw new Z;const p=this.moduleSize(u,l);let x=u[1],v=h[1],j=u[0],_=h[0];if(j>=_||x>=v)throw new Z;if(v-x!==_-j&&(_=j+(v-x),_>=l.getWidth()))throw new Z;const R=Math.round((_-j+1)/p),B=Math.round((v-x+1)/p);if(R<=0||B<=0)throw new Z;if(B!==R)throw new Z;const K=Math.floor(p/2);x+=K,j+=K;const Q=j+Math.floor((R-1)*p)-_;if(Q>0){if(Q>K)throw new Z;j-=Q}const le=x+Math.floor((B-1)*p)-v;if(le>0){if(le>K)throw new Z;x-=le}const be=new V(R,B);for(let Ae=0;Ae<B;Ae++){const Oe=x+Math.floor(Ae*p);for(let Fe=0;Fe<R;Fe++)l.get(j+Math.floor(Fe*p),Oe)&&be.set(Fe,Ae)}return be}static moduleSize(l,u){const h=u.getHeight(),p=u.getWidth();let x=l[0],v=l[1],j=!0,_=0;for(;x<p&&v<h;){if(j!==u.get(x,v)){if(++_===5)break;j=!j}x++,v++}if(x===p||v===h)throw new Z;return(x-l[0])/7}}ls.NO_POINTS=new Array;class Mt{PDF417Common(){}static getBitCountSum(l){return Ve.sum(l)}static toIntArray(l){if(l==null||!l.length)return Mt.EMPTY_INT_ARRAY;const u=new Int32Array(l.length);let h=0;for(const p of l)u[h++]=p;return u}static getCodeword(l){const u=E.binarySearch(Mt.SYMBOL_TABLE,l&262143);return u<0?-1:(Mt.CODEWORD_TABLE[u]-1)%Mt.NUMBER_OF_CODEWORDS}}Mt.NUMBER_OF_CODEWORDS=929,Mt.MAX_CODEWORDS_IN_BARCODE=Mt.NUMBER_OF_CODEWORDS-1,Mt.MIN_ROWS_IN_BARCODE=3,Mt.MAX_ROWS_IN_BARCODE=90,Mt.MODULES_IN_CODEWORD=17,Mt.MODULES_IN_STOP_PATTERN=18,Mt.BARS_IN_MODULE=8,Mt.EMPTY_INT_ARRAY=new Int32Array([]),Mt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Mt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class vf{constructor(l,u){this.bits=l,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class $t{static detectMultiple(l,u,h){let p=l.getBlackMatrix(),x=$t.detect(h,p);return x.length||(p=p.clone(),p.rotate180(),x=$t.detect(h,p)),new vf(p,x)}static detect(l,u){const h=new Array;let p=0,x=0,v=!1;for(;p<u.getHeight();){const j=$t.findVertices(u,p,x);if(j[0]==null&&j[3]==null){if(!v)break;v=!1,x=0;for(const _ of h)_[1]!=null&&(p=Math.trunc(Math.max(p,_[1].getY()))),_[3]!=null&&(p=Math.max(p,Math.trunc(_[3].getY())));p+=$t.ROW_STEP;continue}if(v=!0,h.push(j),!l)break;j[2]!=null?(x=Math.trunc(j[2].getX()),p=Math.trunc(j[2].getY())):(x=Math.trunc(j[4].getX()),p=Math.trunc(j[4].getY()))}return h}static findVertices(l,u,h){const p=l.getHeight(),x=l.getWidth(),v=new Array(8);return $t.copyToResult(v,$t.findRowsWithPattern(l,p,x,u,h,$t.START_PATTERN),$t.INDEXES_START_PATTERN),v[4]!=null&&(h=Math.trunc(v[4].getX()),u=Math.trunc(v[4].getY())),$t.copyToResult(v,$t.findRowsWithPattern(l,p,x,u,h,$t.STOP_PATTERN),$t.INDEXES_STOP_PATTERN),v}static copyToResult(l,u,h){for(let p=0;p<h.length;p++)l[h[p]]=u[p]}static findRowsWithPattern(l,u,h,p,x,v){const j=new Array(4);let _=!1;const R=new Int32Array(v.length);for(;p<u;p+=$t.ROW_STEP){let K=$t.findGuardPattern(l,x,p,h,!1,v,R);if(K!=null){for(;p>0;){const Q=$t.findGuardPattern(l,x,--p,h,!1,v,R);if(Q!=null)K=Q;else{p++;break}}j[0]=new He(K[0],p),j[1]=new He(K[1],p),_=!0;break}}let B=p+1;if(_){let K=0,Q=Int32Array.from([Math.trunc(j[0].getX()),Math.trunc(j[1].getX())]);for(;B<u;B++){const le=$t.findGuardPattern(l,Q[0],B,h,!1,v,R);if(le!=null&&Math.abs(Q[0]-le[0])<$t.MAX_PATTERN_DRIFT&&Math.abs(Q[1]-le[1])<$t.MAX_PATTERN_DRIFT)Q=le,K=0;else{if(K>$t.SKIPPED_ROW_COUNT_MAX)break;K++}}B-=K+1,j[2]=new He(Q[0],B),j[3]=new He(Q[1],B)}return B-p<$t.BARCODE_MIN_HEIGHT&&E.fill(j,null),j}static findGuardPattern(l,u,h,p,x,v,j){E.fillWithin(j,0,j.length,0);let _=u,R=0;for(;l.get(_,h)&&_>0&&R++<$t.MAX_PIXEL_DRIFT;)_--;let B=_,K=0,Q=v.length;for(let le=x;B<p;B++)if(l.get(B,h)!==le)j[K]++;else{if(K===Q-1){if($t.patternMatchVariance(j,v,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return new Int32Array([_,B]);_+=j[0]+j[1],A.arraycopy(j,2,j,0,K-1),j[K-1]=0,j[K]=0,K--}else K++;j[K]=1,le=!le}return K===Q-1&&$t.patternMatchVariance(j,v,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE?new Int32Array([_,B-1]):null}static patternMatchVariance(l,u,h){let p=l.length,x=0,v=0;for(let R=0;R<p;R++)x+=l[R],v+=u[R];if(x<v)return 1/0;let j=x/v;h*=j;let _=0;for(let R=0;R<p;R++){let B=l[R],K=u[R]*j,Q=B>K?B-K:K-B;if(Q>h)return 1/0;_+=Q}return _/x}}$t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$t.MAX_AVG_VARIANCE=.42,$t.MAX_INDIVIDUAL_VARIANCE=.8,$t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$t.MAX_PIXEL_DRIFT=3,$t.MAX_PATTERN_DRIFT=5,$t.SKIPPED_ROW_COUNT_MAX=25,$t.ROW_STEP=5,$t.BARCODE_MIN_HEIGHT=10;class qr{constructor(l,u){if(u.length===0)throw new g;this.field=l;let h=u.length;if(h>1&&u[0]===0){let p=1;for(;p<h&&u[p]===0;)p++;p===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-p),A.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let p=0;for(let x of this.coefficients)p=this.field.add(p,x);return p}let u=this.coefficients[0],h=this.coefficients.length;for(let p=1;p<h;p++)u=this.field.add(this.field.multiply(l,u),this.coefficients[p]);return u}add(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let u=this.coefficients,h=l.coefficients;if(u.length>h.length){let v=u;u=h,h=v}let p=new Int32Array(h.length),x=h.length-u.length;A.arraycopy(h,0,p,0,x);for(let v=x;v<h.length;v++)p[v]=this.field.add(u[v-x],h[v]);return new qr(this.field,p)}subtract(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof qr?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new qr(this.field,new Int32Array([0]));let u=this.coefficients,h=u.length,p=l.coefficients,x=p.length,v=new Int32Array(h+x-1);for(let j=0;j<h;j++){let _=u[j];for(let R=0;R<x;R++)v[j+R]=this.field.add(v[j+R],this.field.multiply(_,p[R]))}return new qr(this.field,v)}negative(){let l=this.coefficients.length,u=new Int32Array(l);for(let h=0;h<l;h++)u[h]=this.field.subtract(0,this.coefficients[h]);return new qr(this.field,u)}multiplyScalar(l){if(l===0)return new qr(this.field,new Int32Array([0]));if(l===1)return this;let u=this.coefficients.length,h=new Int32Array(u);for(let p=0;p<u;p++)h[p]=this.field.multiply(this.coefficients[p],l);return new qr(this.field,h)}multiplyByMonomial(l,u){if(l<0)throw new g;if(u===0)return new qr(this.field,new Int32Array([0]));let h=this.coefficients.length,p=new Int32Array(h+l);for(let x=0;x<h;x++)p[x]=this.field.multiply(this.coefficients[x],u);return new qr(this.field,p)}toString(){let l=new te;for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);h!==0&&(h<0?(l.append(" - "),h=-h):l.length()>0&&l.append(" + "),(u===0||h!==1)&&l.append(h),u!==0&&(u===1?l.append("x"):(l.append("x^"),l.append(u))))}return l.toString()}}class bf{add(l,u){return(l+u)%this.modulus}subtract(l,u){return(this.modulus+l-u)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new g;return this.logTable[l]}inverse(l){if(l===0)throw new Te;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,u){return l===0||u===0?0:this.expTable[(this.logTable[l]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class zc extends bf{constructor(l,u){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let h=1;for(let p=0;p<l;p++)this.expTable[p]=h,h=h*u%l;for(let p=0;p<l-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new qr(this,new Int32Array([0])),this.one=new qr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,u){if(l<0)throw new g;if(u===0)return this.zero;let h=new Int32Array(l+1);return h[0]=u,new qr(this,h)}}zc.PDF417_GF=new zc(Mt.NUMBER_OF_CODEWORDS,3);class $o{constructor(){this.field=zc.PDF417_GF}decode(l,u,h){let p=new qr(this.field,l),x=new Int32Array(u),v=!1;for(let be=u;be>0;be--){let Ae=p.evaluateAt(this.field.exp(be));x[u-be]=Ae,Ae!==0&&(v=!0)}if(!v)return 0;let j=this.field.getOne();if(h!=null)for(const be of h){let Ae=this.field.exp(l.length-1-be),Oe=new qr(this.field,new Int32Array([this.field.subtract(0,Ae),1]));j=j.multiply(Oe)}let _=new qr(this.field,x),R=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),_,u),B=R[0],K=R[1],Q=this.findErrorLocations(B),le=this.findErrorMagnitudes(K,B,Q);for(let be=0;be<Q.length;be++){let Ae=l.length-1-this.field.log(Q[be]);if(Ae<0)throw y.getChecksumInstance();l[Ae]=this.field.subtract(l[Ae],le[be])}return Q.length}runEuclideanAlgorithm(l,u,h){if(l.getDegree()<u.getDegree()){let Q=l;l=u,u=Q}let p=l,x=u,v=this.field.getZero(),j=this.field.getOne();for(;x.getDegree()>=Math.round(h/2);){let Q=p,le=v;if(p=x,v=j,p.isZero())throw y.getChecksumInstance();x=Q;let be=this.field.getZero(),Ae=p.getCoefficient(p.getDegree()),Oe=this.field.inverse(Ae);for(;x.getDegree()>=p.getDegree()&&!x.isZero();){let Fe=x.getDegree()-p.getDegree(),Ye=this.field.multiply(x.getCoefficient(x.getDegree()),Oe);be=be.add(this.field.buildMonomial(Fe,Ye)),x=x.subtract(p.multiplyByMonomial(Fe,Ye))}j=be.multiply(v).subtract(le).negative()}let _=j.getCoefficient(0);if(_===0)throw y.getChecksumInstance();let R=this.field.inverse(_),B=j.multiply(R),K=x.multiply(R);return[B,K]}findErrorLocations(l){let u=l.getDegree(),h=new Int32Array(u),p=0;for(let x=1;x<this.field.getSize()&&p<u;x++)l.evaluateAt(x)===0&&(h[p]=this.field.inverse(x),p++);if(p!==u)throw y.getChecksumInstance();return h}findErrorMagnitudes(l,u,h){let p=u.getDegree(),x=new Int32Array(p);for(let R=1;R<=p;R++)x[p-R]=this.field.multiply(R,u.getCoefficient(R));let v=new qr(this.field,x),j=h.length,_=new Int32Array(j);for(let R=0;R<j;R++){let B=this.field.inverse(h[R]),K=this.field.subtract(0,l.evaluateAt(B)),Q=this.field.inverse(v.evaluateAt(B));_[R]=this.field.multiply(K,Q)}return _}}class Oa{constructor(l,u,h,p,x){l instanceof Oa?this.constructor_2(l):this.constructor_1(l,u,h,p,x)}constructor_1(l,u,h,p,x){const v=u==null||h==null,j=p==null||x==null;if(v&&j)throw new Z;v?(u=new He(0,p.getY()),h=new He(0,x.getY())):j&&(p=new He(l.getWidth()-1,u.getY()),x=new He(l.getWidth()-1,h.getY())),this.image=l,this.topLeft=u,this.bottomLeft=h,this.topRight=p,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),h.getX())),this.maxX=Math.trunc(Math.max(p.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),p.getY())),this.maxY=Math.trunc(Math.max(h.getY(),x.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,u){return l==null?u:u==null?l:new Oa(l.image,l.topLeft,l.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(l,u,h){let p=this.topLeft,x=this.bottomLeft,v=this.topRight,j=this.bottomRight;if(l>0){let _=h?this.topLeft:this.topRight,R=Math.trunc(_.getY()-l);R<0&&(R=0);let B=new He(_.getX(),R);h?p=B:v=B}if(u>0){let _=h?this.bottomLeft:this.bottomRight,R=Math.trunc(_.getY()+u);R>=this.image.getHeight()&&(R=this.image.getHeight()-1);let B=new He(_.getX(),R);h?x=B:j=B}return new Oa(this.image,p,x,v,j)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class qo{constructor(l,u,h,p){this.columnCount=l,this.errorCorrectionLevel=p,this.rowCountUpperPart=u,this.rowCountLowerPart=h,this.rowCount=u+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class cs{constructor(){this.buffer=""}static form(l,u){let h=-1;function p(v,j,_,R,B,K){if(v==="%%")return"%";if(u[++h]===void 0)return;v=R?parseInt(R.substr(1)):void 0;let Q=B?parseInt(B.substr(1)):void 0,le;switch(K){case"s":le=u[h];break;case"c":le=u[h][0];break;case"f":le=parseFloat(u[h]).toFixed(v);break;case"p":le=parseFloat(u[h]).toPrecision(v);break;case"e":le=parseFloat(u[h]).toExponential(v);break;case"x":le=parseInt(u[h]).toString(Q||16);break;case"d":le=parseFloat(parseInt(u[h],Q||10).toPrecision(v)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(Q);let be=parseInt(_),Ae=_&&_[0]+""=="0"?"0":" ";for(;le.length<be;)le=j!==void 0?le+Ae:Ae+le;return le}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,p)}format(l,...u){this.buffer+=cs.form(l,u)}toString(){return this.buffer}}class us{constructor(l){this.boundingBox=new Oa(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let u=this.getCodeword(l);if(u!=null)return u;for(let h=1;h<us.MAX_NEARBY_DISTANCE;h++){let p=this.imageRowToCodewordIndex(l)-h;if(p>=0&&(u=this.codewords[p],u!=null)||(p=this.imageRowToCodewordIndex(l)+h,p<this.codewords.length&&(u=this.codewords[p],u!=null)))return u}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,u){this.codewords[this.imageRowToCodewordIndex(l)]=u}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new cs;let u=0;for(const h of this.codewords){if(h==null){l.format("%3d:    |   %n",u++);continue}l.format("%3d: %3d|%3d%n",u++,h.getRowNumber(),h.getValue())}return l.toString()}}us.MAX_NEARBY_DISTANCE=5;class Ho{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let u=this.values.get(l);u==null&&(u=0),u++,this.values.set(l,u)}getValue(){let l=-1,u=new Array;for(const[h,p]of this.values.entries()){const x={getKey:()=>h,getValue:()=>p};x.getValue()>l?(l=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===l&&u.push(x.getKey())}return Mt.toIntArray(u)}getConfidence(l){return this.values.get(l)}}class Ul extends us{constructor(l,u){super(l),this._isLeft=u}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,l);let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),x=this._isLeft?h.getBottomLeft():h.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),j=this.imageRowToCodewordIndex(Math.trunc(x.getY())),_=-1,R=1,B=0;for(let K=v;K<j;K++){if(u[K]==null)continue;let Q=u[K],le=Q.getRowNumber()-_;if(le===0)B++;else if(le===1)R=Math.max(R,B),B=1,_=Q.getRowNumber();else if(le<0||Q.getRowNumber()>=l.getRowCount()||le>K)u[K]=null;else{let be;R>2?be=(R-2)*le:be=le;let Ae=be>=K;for(let Oe=1;Oe<=be&&!Ae;Oe++)Ae=u[K-Oe]!=null;Ae?u[K]=null:(_=Q.getRowNumber(),B=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let u=new Int32Array(l.getRowCount());for(let h of this.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=u.length)continue;u[p]++}return u}adjustIncompleteIndicatorColumnRowNumbers(l){let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),j=this.getCodewords(),_=-1;for(let R=x;R<v;R++){if(j[R]==null)continue;let B=j[R];B.setRowNumberAsRowIndicatorColumn();let K=B.getRowNumber()-_;K===0||(K===1?_=B.getRowNumber():B.getRowNumber()>=l.getRowCount()?j[R]=null:_=B.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),u=new Ho,h=new Ho,p=new Ho,x=new Ho;for(let j of l){if(j==null)continue;j.setRowNumberAsRowIndicatorColumn();let _=j.getValue()%30,R=j.getRowNumber();switch(this._isLeft||(R+=2),R%3){case 0:h.setValue(_*3+1);break;case 1:x.setValue(_/3),p.setValue(_%3);break;case 2:u.setValue(_+1);break}}if(u.getValue().length===0||h.getValue().length===0||p.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||h.getValue()[0]+p.getValue()[0]<Mt.MIN_ROWS_IN_BARCODE||h.getValue()[0]+p.getValue()[0]>Mt.MAX_ROWS_IN_BARCODE)return null;let v=new qo(u.getValue()[0],h.getValue()[0],p.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(l,v),v}removeIncorrectCodewords(l,u){for(let h=0;h<l.length;h++){let p=l[h];if(l[h]==null)continue;let x=p.getValue()%30,v=p.getRowNumber();if(v>u.getRowCount()){l[h]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(l[h]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(l[h]=null);break;case 2:x+1!==u.getColumnCount()&&(l[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ls{constructor(l,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=Mt.MAX_CODEWORDS_IN_BARCODE,u;do u=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let h=this.detectionResultColumns[u].getCodewords();for(let p=0;p<h.length;p++)h[p]!=null&&(h[p].hasValidRowNumber()||this.adjustRowNumbers(u,p,h))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<l.length;h++)if(l[h]!=null&&u[h]!=null&&l[h].getRowNumber()===u[h].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let x=this.detectionResultColumns[p].getCodewords()[h];x!=null&&(x.setRowNumber(l[h].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let p=u[h].getRowNumber(),x=0;for(let v=this.barcodeColumnCount+1;v>0&&x<this.ADJUST_ROW_NUMBER_SKIP;v--){let j=this.detectionResultColumns[v].getCodewords()[h];j!=null&&(x=Ls.adjustRowNumberIfValid(p,x,j),j.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,u=this.detectionResultColumns[0].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let p=u[h].getRowNumber(),x=0;for(let v=1;v<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;v++){let j=this.detectionResultColumns[v].getCodewords()[h];j!=null&&(x=Ls.adjustRowNumberIfValid(p,x,j),j.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,u,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(l)?(h.setRowNumber(l),u=0):++u),u}adjustRowNumbers(l,u,h){if(!this.detectionResultColumns[l-1])return;let p=h[u],x=this.detectionResultColumns[l-1].getCodewords(),v=x;this.detectionResultColumns[l+1]!=null&&(v=this.detectionResultColumns[l+1].getCodewords());let j=new Array(14);j[2]=x[u],j[3]=v[u],u>0&&(j[0]=h[u-1],j[4]=x[u-1],j[5]=v[u-1]),u>1&&(j[8]=h[u-2],j[10]=x[u-2],j[11]=v[u-2]),u<h.length-1&&(j[1]=h[u+1],j[6]=x[u+1],j[7]=v[u+1]),u<h.length-2&&(j[9]=h[u+2],j[12]=x[u+2],j[13]=v[u+2]);for(let _ of j)if(Ls.adjustRowNumber(p,_))return}static adjustRowNumber(l,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===l.getBucket()?(l.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,u){this.detectionResultColumns[l]=u}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new cs;for(let h=0;h<l.getCodewords().length;h++){u.format("CW %3d:",h);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[p].getCodewords()[h];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class Ra{constructor(l,u,h,p){this.rowNumber=Ra.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(u),this.bucket=Math.trunc(h),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Ra.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Ra.BARCODE_ROW_UNKNOWN=-1;class jn{static initialize(){for(let l=0;l<Mt.SYMBOL_TABLE.length;l++){let u=Mt.SYMBOL_TABLE[l],h=u&1;for(let p=0;p<Mt.BARS_IN_MODULE;p++){let x=0;for(;(u&1)===h;)x+=1,u>>=1;h=u&1,jn.RATIOS_TABLE[l]||(jn.RATIOS_TABLE[l]=new Array(Mt.BARS_IN_MODULE)),jn.RATIOS_TABLE[l][Mt.BARS_IN_MODULE-p-1]=Math.fround(x/Mt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let u=jn.getDecodedCodewordValue(jn.sampleBitCounts(l));return u!==-1?u:jn.getClosestDecodedValue(l)}static sampleBitCounts(l){let u=Ve.sum(l),h=new Int32Array(Mt.BARS_IN_MODULE),p=0,x=0;for(let v=0;v<Mt.MODULES_IN_CODEWORD;v++){let j=u/(2*Mt.MODULES_IN_CODEWORD)+v*u/Mt.MODULES_IN_CODEWORD;x+l[p]<=j&&(x+=l[p],p++),h[p]++}return h}static getDecodedCodewordValue(l){let u=jn.getBitValue(l);return Mt.getCodeword(u)===-1?-1:u}static getBitValue(l){let u=0;for(let h=0;h<l.length;h++)for(let p=0;p<l[h];p++)u=u<<1|(h%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(l){let u=Ve.sum(l),h=new Array(Mt.BARS_IN_MODULE);if(u>1)for(let v=0;v<h.length;v++)h[v]=Math.fround(l[v]/u);let p=Ct.MAX_VALUE,x=-1;this.bSymbolTableReady||jn.initialize();for(let v=0;v<jn.RATIOS_TABLE.length;v++){let j=0,_=jn.RATIOS_TABLE[v];for(let R=0;R<Mt.BARS_IN_MODULE;R++){let B=Math.fround(_[R]-h[R]);if(j+=Math.fround(B*B),j>=p)break}j<p&&(p=j,x=Mt.SYMBOL_TABLE[v])}return x}}jn.bSymbolTableReady=!1,jn.RATIOS_TABLE=new Array(Mt.SYMBOL_TABLE.length).map(G=>new Array(Mt.BARS_IN_MODULE));class Wl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Vo{static parseLong(l,u=void 0){return parseInt(l,u)}}class zl extends f{}zl.kind="NullPointerException";class Go{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,u,h){if(l==null)throw new zl;if(u<0||u>l.length||h<0||u+h>l.length||u+h<0)throw new N;if(h===0)return;for(let p=0;p<h;p++)this.write(l[u+p])}flush(){}close(){}}class qu extends f{}class Hu extends Go{constructor(l=32){if(super(),this.count=0,l<0)throw new g("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let h=this.buf.length<<1;if(h-l<0&&(h=l),h<0){if(l<0)throw new qu;h=k.MAX_VALUE}this.buf=E.copyOfUint8Array(this.buf,h)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,u,h){if(u<0||u>l.length||h<0||u+h-l.length>0)throw new N;this.ensureCapacity(this.count+h),A.arraycopy(l,u,this.buf,this.count,h),this.count+=h}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return E.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var cr;(function(G){G[G.ALPHA=0]="ALPHA",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.PUNCT=3]="PUNCT",G[G.ALPHA_SHIFT=4]="ALPHA_SHIFT",G[G.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(cr||(cr={}));function ds(){if(typeof window<"u")return window.BigInt||null;if(typeof Sf<"u")return Sf.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ko;function Da(G){if(typeof Ko>"u"&&(Ko=ds()),Ko===null)throw new Error("BigInt is not supported!");return Ko(G)}function Xo(){let G=[];G[0]=Da(1);let l=Da(900);G[1]=l;for(let u=2;u<16;u++)G[u]=G[u-1]*l;return G}class Ue{static decode(l,u){let h=new te(""),p=L.ISO8859_1;h.enableDecoding(p);let x=1,v=l[x++],j=new Wl;for(;x<l[0];){switch(v){case Ue.TEXT_COMPACTION_MODE_LATCH:x=Ue.textCompaction(l,x,h);break;case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:x=Ue.byteCompaction(v,l,p,x,h);break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[x++]);break;case Ue.NUMERIC_COMPACTION_MODE_LATCH:x=Ue.numericCompaction(l,x,h);break;case Ue.ECI_CHARSET:L.getCharacterSetECIByValue(l[x++]);break;case Ue.ECI_GENERAL_PURPOSE:x+=2;break;case Ue.ECI_USER_DEFINED:x++;break;case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Ue.decodeMacroBlock(l,x,j);break;case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:throw new $;default:x--,x=Ue.textCompaction(l,x,h);break}if(x<l.length)v=l[x++];else throw $.getFormatInstance()}if(h.length()===0)throw $.getFormatInstance();let _=new pe(null,h.toString(),null,u);return _.setOther(j),_}static decodeMacroBlock(l,u,h){if(u+Ue.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw $.getFormatInstance();let p=new Int32Array(Ue.NUMBER_OF_SEQUENCE_CODEWORDS);for(let j=0;j<Ue.NUMBER_OF_SEQUENCE_CODEWORDS;j++,u++)p[j]=l[u];h.setSegmentIndex(k.parseInt(Ue.decodeBase900toBase10(p,Ue.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new te;u=Ue.textCompaction(l,u,x),h.setFileId(x.toString());let v=-1;for(l[u]===Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=u+1);u<l[0];)switch(l[u]){case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,l[u]){case Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let j=new te;u=Ue.textCompaction(l,u+1,j),h.setFileName(j.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new te;u=Ue.textCompaction(l,u+1,_),h.setSender(_.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let R=new te;u=Ue.textCompaction(l,u+1,R),h.setAddressee(R.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let B=new te;u=Ue.numericCompaction(l,u+1,B),h.setSegmentCount(k.parseInt(B.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let K=new te;u=Ue.numericCompaction(l,u+1,K),h.setTimestamp(Vo.parseLong(K.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Q=new te;u=Ue.numericCompaction(l,u+1,Q),h.setChecksum(k.parseInt(Q.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let le=new te;u=Ue.numericCompaction(l,u+1,le),h.setFileSize(Vo.parseLong(le.toString()));break;default:throw $.getFormatInstance()}break;case Ue.MACRO_PDF417_TERMINATOR:u++,h.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(v!==-1){let j=u-v;h.isLastSegment()&&j--,h.setOptionalData(E.copyOfRange(l,v,v+j))}return u}static textCompaction(l,u,h){let p=new Int32Array((l[0]-u)*2),x=new Int32Array((l[0]-u)*2),v=0,j=!1;for(;u<l[0]&&!j;){let _=l[u++];if(_<Ue.TEXT_COMPACTION_MODE_LATCH)p[v]=_/30,p[v+1]=_%30,v+=2;else switch(_){case Ue.TEXT_COMPACTION_MODE_LATCH:p[v++]=Ue.TEXT_COMPACTION_MODE_LATCH;break;case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:u--,j=!0;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[v]=Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=l[u++],x[v]=_,v++;break}}return Ue.decodeTextCompaction(p,x,v,h),u}static decodeTextCompaction(l,u,h,p){let x=cr.ALPHA,v=cr.ALPHA,j=0;for(;j<h;){let _=l[j],R="";switch(x){case cr.ALPHA:if(_<26)R=String.fromCharCode(65+_);else switch(_){case 26:R=" ";break;case Ue.LL:x=cr.LOWER;break;case Ue.ML:x=cr.MIXED;break;case Ue.PS:v=x,x=cr.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[j]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:x=cr.ALPHA;break}break;case cr.LOWER:if(_<26)R=String.fromCharCode(97+_);else switch(_){case 26:R=" ";break;case Ue.AS:v=x,x=cr.ALPHA_SHIFT;break;case Ue.ML:x=cr.MIXED;break;case Ue.PS:v=x,x=cr.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[j]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:x=cr.ALPHA;break}break;case cr.MIXED:if(_<Ue.PL)R=Ue.MIXED_CHARS[_];else switch(_){case Ue.PL:x=cr.PUNCT;break;case 26:R=" ";break;case Ue.LL:x=cr.LOWER;break;case Ue.AL:x=cr.ALPHA;break;case Ue.PS:v=x,x=cr.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[j]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:x=cr.ALPHA;break}break;case cr.PUNCT:if(_<Ue.PAL)R=Ue.PUNCT_CHARS[_];else switch(_){case Ue.PAL:x=cr.ALPHA;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[j]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:x=cr.ALPHA;break}break;case cr.ALPHA_SHIFT:if(x=v,_<26)R=String.fromCharCode(65+_);else switch(_){case 26:R=" ";break;case Ue.TEXT_COMPACTION_MODE_LATCH:x=cr.ALPHA;break}break;case cr.PUNCT_SHIFT:if(x=v,_<Ue.PAL)R=Ue.PUNCT_CHARS[_];else switch(_){case Ue.PAL:x=cr.ALPHA;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[j]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:x=cr.ALPHA;break}break}R!==""&&p.append(R),j++}}static byteCompaction(l,u,h,p,x){let v=new Hu,j=0,_=0,R=!1;switch(l){case Ue.BYTE_COMPACTION_MODE_LATCH:let B=new Int32Array(6),K=u[p++];for(;p<u[0]&&!R;)switch(B[j++]=K,_=900*_+K,K=u[p++],K){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:p--,R=!0;break;default:if(j%5===0&&j>0){for(let Q=0;Q<6;++Q)v.write(Number(Da(_)>>Da(8*(5-Q))));_=0,j=0}break}p===u[0]&&K<Ue.TEXT_COMPACTION_MODE_LATCH&&(B[j++]=K);for(let Q=0;Q<j;Q++)v.write(B[Q]);break;case Ue.BYTE_COMPACTION_MODE_LATCH_6:for(;p<u[0]&&!R;){let Q=u[p++];if(Q<Ue.TEXT_COMPACTION_MODE_LATCH)j++,_=900*_+Q;else switch(Q){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:p--,R=!0;break}if(j%5===0&&j>0){for(let le=0;le<6;++le)v.write(Number(Da(_)>>Da(8*(5-le))));_=0,j=0}}break}return x.append(M.decode(v.toByteArray(),h)),p}static numericCompaction(l,u,h){let p=0,x=!1,v=new Int32Array(Ue.MAX_NUMERIC_CODEWORDS);for(;u<l[0]&&!x;){let j=l[u++];if(u===l[0]&&(x=!0),j<Ue.TEXT_COMPACTION_MODE_LATCH)v[p]=j,p++;else switch(j){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(p%Ue.MAX_NUMERIC_CODEWORDS===0||j===Ue.NUMERIC_COMPACTION_MODE_LATCH||x)&&p>0&&(h.append(Ue.decodeBase900toBase10(v,p)),p=0)}return u}static decodeBase900toBase10(l,u){let h=Da(0);for(let x=0;x<u;x++)h+=Ue.EXP900[u-x-1]*Da(l[x]);let p=h.toString();if(p.charAt(0)!=="1")throw new $;return p.substring(1)}}Ue.TEXT_COMPACTION_MODE_LATCH=900,Ue.BYTE_COMPACTION_MODE_LATCH=901,Ue.NUMERIC_COMPACTION_MODE_LATCH=902,Ue.BYTE_COMPACTION_MODE_LATCH_6=924,Ue.ECI_USER_DEFINED=925,Ue.ECI_GENERAL_PURPOSE=926,Ue.ECI_CHARSET=927,Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ue.MACRO_PDF417_TERMINATOR=922,Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ue.MAX_NUMERIC_CODEWORDS=15,Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ue.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ue.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ue.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ue.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ue.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ue.PL=25,Ue.LL=27,Ue.AS=27,Ue.ML=28,Ue.AL=28,Ue.PS=29,Ue.PAL=29,Ue.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ue.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ue.EXP900=ds()?Xo():[],Ue.NUMBER_OF_SEQUENCE_CODEWORDS=2;class O{constructor(){}static decode(l,u,h,p,x,v,j){let _=new Oa(l,u,h,p,x),R=null,B=null,K;for(let be=!0;;be=!1){if(u!=null&&(R=O.getRowIndicatorColumn(l,_,u,!0,v,j)),p!=null&&(B=O.getRowIndicatorColumn(l,_,p,!1,v,j)),K=O.merge(R,B),K==null)throw Z.getNotFoundInstance();let Ae=K.getBoundingBox();if(be&&Ae!=null&&(Ae.getMinY()<_.getMinY()||Ae.getMaxY()>_.getMaxY()))_=Ae;else break}K.setBoundingBox(_);let Q=K.getBarcodeColumnCount()+1;K.setDetectionResultColumn(0,R),K.setDetectionResultColumn(Q,B);let le=R!=null;for(let be=1;be<=Q;be++){let Ae=le?be:Q-be;if(K.getDetectionResultColumn(Ae)!==void 0)continue;let Oe;Ae===0||Ae===Q?Oe=new Ul(_,Ae===0):Oe=new us(_),K.setDetectionResultColumn(Ae,Oe);let Fe=-1,Ye=Fe;for(let et=_.getMinY();et<=_.getMaxY();et++){if(Fe=O.getStartColumn(K,Ae,et,le),Fe<0||Fe>_.getMaxX()){if(Ye===-1)continue;Fe=Ye}let Je=O.detectCodeword(l,_.getMinX(),_.getMaxX(),le,Fe,et,v,j);Je!=null&&(Oe.setCodeword(et,Je),Ye=Fe,v=Math.min(v,Je.getWidth()),j=Math.max(j,Je.getWidth()))}}return O.createDecoderResult(K)}static merge(l,u){if(l==null&&u==null)return null;let h=O.getBarcodeMetadata(l,u);if(h==null)return null;let p=Oa.merge(O.adjustBoundingBox(l),O.adjustBoundingBox(u));return new Ls(h,p)}static adjustBoundingBox(l){if(l==null)return null;let u=l.getRowHeights();if(u==null)return null;let h=O.getMax(u),p=0;for(let j of u)if(p+=h-j,j>0)break;let x=l.getCodewords();for(let j=0;p>0&&x[j]==null;j++)p--;let v=0;for(let j=u.length-1;j>=0&&(v+=h-u[j],!(u[j]>0));j--);for(let j=x.length-1;v>0&&x[j]==null;j--)v--;return l.getBoundingBox().addMissingRows(p,v,l.isLeft())}static getMax(l){let u=-1;for(let h of l)u=Math.max(u,h);return u}static getBarcodeMetadata(l,u){let h;if(l==null||(h=l.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let p;return u==null||(p=u.getBarcodeMetadata())==null?h:h.getColumnCount()!==p.getColumnCount()&&h.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&h.getRowCount()!==p.getRowCount()?null:h}static getRowIndicatorColumn(l,u,h,p,x,v){let j=new Ul(u,p);for(let _=0;_<2;_++){let R=_===0?1:-1,B=Math.trunc(Math.trunc(h.getX()));for(let K=Math.trunc(Math.trunc(h.getY()));K<=u.getMaxY()&&K>=u.getMinY();K+=R){let Q=O.detectCodeword(l,0,l.getWidth(),p,B,K,x,v);Q!=null&&(j.setCodeword(K,Q),p?B=Q.getStartX():B=Q.getEndX())}}return j}static adjustCodewordCount(l,u){let h=u[0][1],p=h.getValue(),x=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-O.getNumberOfECCodeWords(l.getBarcodeECLevel());if(p.length===0){if(x<1||x>Mt.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();h.setValue(x)}else p[0]!==x&&h.setValue(x)}static createDecoderResult(l){let u=O.createBarcodeMatrix(l);O.adjustCodewordCount(l,u);let h=new Array,p=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),x=[],v=new Array;for(let _=0;_<l.getBarcodeRowCount();_++)for(let R=0;R<l.getBarcodeColumnCount();R++){let B=u[_][R+1].getValue(),K=_*l.getBarcodeColumnCount()+R;B.length===0?h.push(K):B.length===1?p[K]=B[0]:(v.push(K),x.push(B))}let j=new Array(x.length);for(let _=0;_<j.length;_++)j[_]=x[_];return O.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),p,Mt.toIntArray(h),Mt.toIntArray(v),j)}static createDecoderResultFromAmbiguousValues(l,u,h,p,x){let v=new Int32Array(p.length),j=100;for(;j-- >0;){for(let _=0;_<v.length;_++)u[p[_]]=x[_][v[_]];try{return O.decodeCodewords(u,l,h)}catch(_){if(!(_ instanceof y))throw _}if(v.length===0)throw y.getChecksumInstance();for(let _=0;_<v.length;_++)if(v[_]<x[_].length-1){v[_]++;break}else if(v[_]=0,_===v.length-1)throw y.getChecksumInstance()}throw y.getChecksumInstance()}static createBarcodeMatrix(l){let u=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let p=0;p<u.length;p++)for(let x=0;x<u[p].length;x++)u[p][x]=new Ho;let h=0;for(let p of l.getDetectionResultColumns()){if(p!=null){for(let x of p.getCodewords())if(x!=null){let v=x.getRowNumber();if(v>=0){if(v>=u.length)continue;u[v][h].setValue(x.getValue())}}}h++}return u}static isValidBarcodeColumn(l,u){return u>=0&&u<=l.getBarcodeColumnCount()+1}static getStartColumn(l,u,h,p){let x=p?1:-1,v=null;if(O.isValidBarcodeColumn(l,u-x)&&(v=l.getDetectionResultColumn(u-x).getCodeword(h)),v!=null)return p?v.getEndX():v.getStartX();if(v=l.getDetectionResultColumn(u).getCodewordNearby(h),v!=null)return p?v.getStartX():v.getEndX();if(O.isValidBarcodeColumn(l,u-x)&&(v=l.getDetectionResultColumn(u-x).getCodewordNearby(h)),v!=null)return p?v.getEndX():v.getStartX();let j=0;for(;O.isValidBarcodeColumn(l,u-x);){u-=x;for(let _ of l.getDetectionResultColumn(u).getCodewords())if(_!=null)return(p?_.getEndX():_.getStartX())+x*j*(_.getEndX()-_.getStartX());j++}return p?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,u,h,p,x,v,j,_){x=O.adjustCodewordStartColumn(l,u,h,p,x,v);let R=O.getModuleBitCount(l,u,h,p,x,v);if(R==null)return null;let B,K=Ve.sum(R);if(p)B=x+K;else{for(let be=0;be<R.length/2;be++){let Ae=R[be];R[be]=R[R.length-1-be],R[R.length-1-be]=Ae}B=x,x=B-K}if(!O.checkCodewordSkew(K,j,_))return null;let Q=jn.getDecodedValue(R),le=Mt.getCodeword(Q);return le===-1?null:new Ra(x,B,O.getCodewordBucketNumber(Q),le)}static getModuleBitCount(l,u,h,p,x,v){let j=x,_=new Int32Array(8),R=0,B=p?1:-1,K=p;for(;(p?j<h:j>=u)&&R<_.length;)l.get(j,v)===K?(_[R]++,j+=B):(R++,K=!K);return R===_.length||j===(p?h:u)&&R===_.length-1?_:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,u,h,p,x,v){let j=x,_=p?-1:1;for(let R=0;R<2;R++){for(;(p?j>=u:j<h)&&p===l.get(j,v);){if(Math.abs(x-j)>O.CODEWORD_SKEW_SIZE)return x;j+=_}_=-_,p=!p}return j}static checkCodewordSkew(l,u,h){return u-O.CODEWORD_SKEW_SIZE<=l&&l<=h+O.CODEWORD_SKEW_SIZE}static decodeCodewords(l,u,h){if(l.length===0)throw $.getFormatInstance();let p=1<<u+1,x=O.correctErrors(l,h,p);O.verifyCodewordCount(l,p);let v=Ue.decode(l,""+u);return v.setErrorsCorrected(x),v.setErasures(h.length),v}static correctErrors(l,u,h){if(u!=null&&u.length>h/2+O.MAX_ERRORS||h<0||h>O.MAX_EC_CODEWORDS)throw y.getChecksumInstance();return O.errorCorrection.decode(l,h,u)}static verifyCodewordCount(l,u){if(l.length<4)throw $.getFormatInstance();let h=l[0];if(h>l.length)throw $.getFormatInstance();if(h===0)if(u<l.length)l[0]=l.length-u;else throw $.getFormatInstance()}static getBitCountForCodeword(l){let u=new Int32Array(8),h=0,p=u.length-1;for(;!((l&1)!==h&&(h=l&1,p--,p<0));)u[p]++,l>>=1;return u}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return O.getCodewordBucketNumber(O.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let u=new cs;for(let h=0;h<l.length;h++){u.format("Row %2d: ",h);for(let p=0;p<l[h].length;p++){let x=l[h][p];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}O.CODEWORD_SKEW_SIZE=2,O.MAX_ERRORS=3,O.MAX_EC_CODEWORDS=512,O.errorCorrection=new $o;class X{decode(l,u=null){let h=X.decode(l,u,!1);if(h==null||h.length===0||h[0]==null)throw Z.getNotFoundInstance();return h[0]}decodeMultiple(l,u=null){try{return X.decode(l,u,!0)}catch(h){throw h instanceof $||h instanceof y?Z.getNotFoundInstance():h}}static decode(l,u,h){const p=new Array,x=$t.detectMultiple(l,u,h);for(const v of x.getPoints()){const j=O.decode(x.getBits(),v[4],v[5],v[6],v[7],X.getMinCodewordWidth(v),X.getMaxCodewordWidth(v)),_=new ne(j.getText(),j.getRawBytes(),void 0,v,xe.PDF_417);_.putMetadata(he.ERROR_CORRECTION_LEVEL,j.getECLevel());const R=j.getOther();R!=null&&_.putMetadata(he.PDF417_EXTRA_METADATA,R),p.push(_)}return p.map(v=>v)}static getMaxWidth(l,u){return l==null||u==null?0:Math.trunc(Math.abs(l.getX()-u.getX()))}static getMinWidth(l,u){return l==null||u==null?k.MAX_VALUE:Math.trunc(Math.abs(l.getX()-u.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(X.getMaxWidth(l[0],l[4]),X.getMaxWidth(l[6],l[2])*Mt.MODULES_IN_CODEWORD/Mt.MODULES_IN_STOP_PATTERN),Math.max(X.getMaxWidth(l[1],l[5]),X.getMaxWidth(l[7],l[3])*Mt.MODULES_IN_CODEWORD/Mt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(X.getMinWidth(l[0],l[4]),X.getMinWidth(l[6],l[2])*Mt.MODULES_IN_CODEWORD/Mt.MODULES_IN_STOP_PATTERN),Math.min(X.getMinWidth(l[1],l[5]),X.getMinWidth(l[7],l[3])*Mt.MODULES_IN_CODEWORD/Mt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ue extends f{}ue.kind="ReaderException";class we{constructor(l,u){this.verbose=l===!0,u&&this.setHints(u)}decode(l,u){return u&&this.setHints(u),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const u=!n(l)&&l.get(H.TRY_HARDER)===!0,h=n(l)?null:l.get(H.POSSIBLE_FORMATS),p=new Array;if(!n(h)){const x=h.some(v=>v===xe.UPC_A||v===xe.UPC_E||v===xe.EAN_13||v===xe.EAN_8||v===xe.CODABAR||v===xe.CODE_39||v===xe.CODE_93||v===xe.CODE_128||v===xe.ITF||v===xe.RSS_14||v===xe.RSS_EXPANDED);x&&!u&&p.push(new Os(l,this.verbose)),h.includes(xe.QR_CODE)&&p.push(new ls),h.includes(xe.DATA_MATRIX)&&p.push(new Vn),h.includes(xe.AZTEC)&&p.push(new Et),h.includes(xe.PDF_417)&&p.push(new X),x&&u&&p.push(new Os(l,this.verbose))}p.length===0&&(u||p.push(new Os(l,this.verbose)),p.push(new ls),p.push(new Vn),p.push(new Et),p.push(new X),u&&p.push(new Os(l,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new ue("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(l,this.hints)}catch(h){if(h instanceof ue)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class Pe extends oe{constructor(l=null,u=500){const h=new we;h.setHints(l),super(h,u)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Ke extends oe{constructor(l=500){super(new X,l)}}class rt extends oe{constructor(l=500){super(new ls,l)}}var pt;(function(G){G[G.ERROR_CORRECTION=0]="ERROR_CORRECTION",G[G.CHARACTER_SET=1]="CHARACTER_SET",G[G.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",G[G.MIN_SIZE=3]="MIN_SIZE",G[G.MAX_SIZE=4]="MAX_SIZE",G[G.MARGIN=5]="MARGIN",G[G.PDF417_COMPACT=6]="PDF417_COMPACT",G[G.PDF417_COMPACTION=7]="PDF417_COMPACTION",G[G.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",G[G.AZTEC_LAYERS=9]="AZTEC_LAYERS",G[G.QR_VERSION=10]="QR_VERSION"})(pt||(pt={}));var lt=pt;class qt{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Ee(l,Int32Array.from([1])))}buildGenerator(l){const u=this.cachedGenerators;if(l>=u.length){let h=u[u.length-1];const p=this.field;for(let x=u.length;x<=l;x++){const v=h.multiply(new Ee(p,Int32Array.from([1,p.exp(x-1+p.getGeneratorBase())])));u.push(v),h=v}}return u[l]}encode(l,u){if(u===0)throw new g("No error correction bytes");const h=l.length-u;if(h<=0)throw new g("No data bytes provided");const p=this.buildGenerator(u),x=new Int32Array(h);A.arraycopy(l,0,x,0,h);let v=new Ee(this.field,x);v=v.multiplyByMonomial(u,1);const _=v.divide(p)[1].getCoefficients(),R=u-_.length;for(let B=0;B<R;B++)l[h+B]=0;A.arraycopy(_,0,l,h+R,_.length)}}class gt{constructor(){}static applyMaskPenaltyRule1(l){return gt.applyMaskPenaltyRule1Internal(l,!0)+gt.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let u=0;const h=l.getArray(),p=l.getWidth(),x=l.getHeight();for(let v=0;v<x-1;v++){const j=h[v];for(let _=0;_<p-1;_++){const R=j[_];R===j[_+1]&&R===h[v+1][_]&&R===h[v+1][_+1]&&u++}}return gt.N2*u}static applyMaskPenaltyRule3(l){let u=0;const h=l.getArray(),p=l.getWidth(),x=l.getHeight();for(let v=0;v<x;v++)for(let j=0;j<p;j++){const _=h[v];j+6<p&&_[j]===1&&_[j+1]===0&&_[j+2]===1&&_[j+3]===1&&_[j+4]===1&&_[j+5]===0&&_[j+6]===1&&(gt.isWhiteHorizontal(_,j-4,j)||gt.isWhiteHorizontal(_,j+7,j+11))&&u++,v+6<x&&h[v][j]===1&&h[v+1][j]===0&&h[v+2][j]===1&&h[v+3][j]===1&&h[v+4][j]===1&&h[v+5][j]===0&&h[v+6][j]===1&&(gt.isWhiteVertical(h,j,v-4,v)||gt.isWhiteVertical(h,j,v+7,v+11))&&u++}return u*gt.N3}static isWhiteHorizontal(l,u,h){u=Math.max(u,0),h=Math.min(h,l.length);for(let p=u;p<h;p++)if(l[p]===1)return!1;return!0}static isWhiteVertical(l,u,h,p){h=Math.max(h,0),p=Math.min(p,l.length);for(let x=h;x<p;x++)if(l[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let u=0;const h=l.getArray(),p=l.getWidth(),x=l.getHeight();for(let _=0;_<x;_++){const R=h[_];for(let B=0;B<p;B++)R[B]===1&&u++}const v=l.getHeight()*l.getWidth();return Math.floor(Math.abs(u*2-v)*10/v)*gt.N4}static getDataMaskBit(l,u,h){let p,x;switch(l){case 0:p=h+u&1;break;case 1:p=h&1;break;case 2:p=u%3;break;case 3:p=(h+u)%3;break;case 4:p=Math.floor(h/2)+Math.floor(u/3)&1;break;case 5:x=h*u,p=(x&1)+x%3;break;case 6:x=h*u,p=(x&1)+x%3&1;break;case 7:x=h*u,p=x%3+(h+u&1)&1;break;default:throw new g("Invalid mask pattern: "+l)}return p===0}static applyMaskPenaltyRule1Internal(l,u){let h=0;const p=u?l.getHeight():l.getWidth(),x=u?l.getWidth():l.getHeight(),v=l.getArray();for(let j=0;j<p;j++){let _=0,R=-1;for(let B=0;B<x;B++){const K=u?v[j][B]:v[B][j];K===R?_++:(_>=5&&(h+=gt.N1+(_-5)),_=1,R=K)}_>=5&&(h+=gt.N1+(_-5))}return h}}gt.N1=3,gt.N2=3,gt.N3=40,gt.N4=10;class mr{constructor(l,u){this.width=l,this.height=u;const h=new Array(u);for(let p=0;p!==u;p++)h[p]=new Uint8Array(l);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(l,u){return this.bytes[u][l]}getArray(){return this.bytes}setNumber(l,u,h){this.bytes[u][l]=h}setBoolean(l,u,h){this.bytes[u][l]=h?1:0}clear(l){for(const u of this.bytes)E.fill(u,l)}equals(l){if(!(l instanceof mr))return!1;const u=l;if(this.width!==u.width||this.height!==u.height)return!1;for(let h=0,p=this.height;h<p;++h){const x=this.bytes[h],v=u.bytes[h];for(let j=0,_=this.width;j<_;++j)if(x[j]!==v[j])return!1}return!0}toString(){const l=new te;for(let u=0,h=this.height;u<h;++u){const p=this.bytes[u];for(let x=0,v=this.width;x<v;++x)switch(p[x]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Sr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new te;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Sr.NUM_MASK_PATTERNS}}Sr.NUM_MASK_PATTERNS=8;class Vt extends f{}Vt.kind="WriterException";class ut{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,u,h,p,x){ut.clearMatrix(x),ut.embedBasicPatterns(h,x),ut.embedTypeInfo(u,p,x),ut.maybeEmbedVersionInfo(h,x),ut.embedDataBits(l,p,x)}static embedBasicPatterns(l,u){ut.embedPositionDetectionPatternsAndSeparators(u),ut.embedDarkDotAtLeftBottomCorner(u),ut.maybeEmbedPositionAdjustmentPatterns(l,u),ut.embedTimingPatterns(u)}static embedTypeInfo(l,u,h){const p=new P;ut.makeTypeInfoBits(l,u,p);for(let x=0,v=p.getSize();x<v;++x){const j=p.get(p.getSize()-1-x),_=ut.TYPE_INFO_COORDINATES[x],R=_[0],B=_[1];if(h.setBoolean(R,B,j),x<8){const K=h.getWidth()-x-1;h.setBoolean(K,8,j)}else{const Q=h.getHeight()-7+(x-8);h.setBoolean(8,Q,j)}}}static maybeEmbedVersionInfo(l,u){if(l.getVersionNumber()<7)return;const h=new P;ut.makeVersionInfoBits(l,h);let p=6*3-1;for(let x=0;x<6;++x)for(let v=0;v<3;++v){const j=h.get(p);p--,u.setBoolean(x,u.getHeight()-11+v,j),u.setBoolean(u.getHeight()-11+v,x,j)}}static embedDataBits(l,u,h){let p=0,x=-1,v=h.getWidth()-1,j=h.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);j>=0&&j<h.getHeight();){for(let _=0;_<2;++_){const R=v-_;if(!ut.isEmpty(h.get(R,j)))continue;let B;p<l.getSize()?(B=l.get(p),++p):B=!1,u!==255&&gt.getDataMaskBit(u,R,j)&&(B=!B),h.setBoolean(R,j,B)}j+=x}x=-x,j+=x,v-=2}if(p!==l.getSize())throw new Vt("Not all bits consumed: "+p+"/"+l.getSize())}static findMSBSet(l){return 32-k.numberOfLeadingZeros(l)}static calculateBCHCode(l,u){if(u===0)throw new g("0 polynomial");const h=ut.findMSBSet(u);for(l<<=h-1;ut.findMSBSet(l)>=h;)l^=u<<ut.findMSBSet(l)-h;return l}static makeTypeInfoBits(l,u,h){if(!Sr.isValidMaskPattern(u))throw new Vt("Invalid mask pattern");const p=l.getBits()<<3|u;h.appendBits(p,5);const x=ut.calculateBCHCode(p,ut.TYPE_INFO_POLY);h.appendBits(x,10);const v=new P;if(v.appendBits(ut.TYPE_INFO_MASK_PATTERN,15),h.xor(v),h.getSize()!==15)throw new Vt("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(l,u){u.appendBits(l.getVersionNumber(),6);const h=ut.calculateBCHCode(l.getVersionNumber(),ut.VERSION_INFO_POLY);if(u.appendBits(h,12),u.getSize()!==18)throw new Vt("should not happen but we got: "+u.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let u=8;u<l.getWidth()-8;++u){const h=(u+1)%2;ut.isEmpty(l.get(u,6))&&l.setNumber(u,6,h),ut.isEmpty(l.get(6,u))&&l.setNumber(6,u,h)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Vt;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,u,h){for(let p=0;p<8;++p){if(!ut.isEmpty(h.get(l+p,u)))throw new Vt;h.setNumber(l+p,u,0)}}static embedVerticalSeparationPattern(l,u,h){for(let p=0;p<7;++p){if(!ut.isEmpty(h.get(l,u+p)))throw new Vt;h.setNumber(l,u+p,0)}}static embedPositionAdjustmentPattern(l,u,h){for(let p=0;p<5;++p){const x=ut.POSITION_ADJUSTMENT_PATTERN[p];for(let v=0;v<5;++v)h.setNumber(l+v,u+p,x[v])}}static embedPositionDetectionPattern(l,u,h){for(let p=0;p<7;++p){const x=ut.POSITION_DETECTION_PATTERN[p];for(let v=0;v<7;++v)h.setNumber(l+v,u+p,x[v])}}static embedPositionDetectionPatternsAndSeparators(l){const u=ut.POSITION_DETECTION_PATTERN[0].length;ut.embedPositionDetectionPattern(0,0,l),ut.embedPositionDetectionPattern(l.getWidth()-u,0,l),ut.embedPositionDetectionPattern(0,l.getWidth()-u,l);const h=8;ut.embedHorizontalSeparationPattern(0,h-1,l),ut.embedHorizontalSeparationPattern(l.getWidth()-h,h-1,l),ut.embedHorizontalSeparationPattern(0,l.getWidth()-h,l);const p=7;ut.embedVerticalSeparationPattern(p,0,l),ut.embedVerticalSeparationPattern(l.getHeight()-p-1,0,l),ut.embedVerticalSeparationPattern(p,l.getHeight()-p,l)}static maybeEmbedPositionAdjustmentPatterns(l,u){if(l.getVersionNumber()<2)return;const h=l.getVersionNumber()-1,p=ut.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let x=0,v=p.length;x!==v;x++){const j=p[x];if(j>=0)for(let _=0;_!==v;_++){const R=p[_];R>=0&&ut.isEmpty(u.get(R,j))&&ut.embedPositionAdjustmentPattern(R-2,j-2,u)}}}}ut.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ut.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ut.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ut.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ut.VERSION_INFO_POLY=7973,ut.TYPE_INFO_POLY=1335,ut.TYPE_INFO_MASK_PATTERN=21522;class Pn{constructor(l,u){this.dataBytes=l,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Zt{constructor(){}static calculateMaskPenalty(l){return gt.applyMaskPenaltyRule1(l)+gt.applyMaskPenaltyRule2(l)+gt.applyMaskPenaltyRule3(l)+gt.applyMaskPenaltyRule4(l)}static encode(l,u,h=null){let p=Zt.DEFAULT_BYTE_MODE_ENCODING;const x=h!==null&&h.get(lt.CHARACTER_SET)!==void 0;x&&(p=h.get(lt.CHARACTER_SET).toString());const v=this.chooseMode(l,p),j=new P;if(v===Pt.BYTE&&(x||Zt.DEFAULT_BYTE_MODE_ENCODING!==p)){const et=L.getCharacterSetECIByName(p);et!==void 0&&this.appendECI(et,j)}this.appendModeInfo(v,j);const _=new P;this.appendBytes(l,v,_,p);let R;if(h!==null&&h.get(lt.QR_VERSION)!==void 0){const et=Number.parseInt(h.get(lt.QR_VERSION).toString(),10);R=mt.getVersionForNumber(et);const Je=this.calculateBitsNeeded(v,j,_,R);if(!this.willFit(Je,R,u))throw new Vt("Data too big for requested version")}else R=this.recommendVersion(u,v,j,_);const B=new P;B.appendBitArray(j);const K=v===Pt.BYTE?_.getSizeInBytes():l.length;this.appendLengthInfo(K,R,v,B),B.appendBitArray(_);const Q=R.getECBlocksForLevel(u),le=R.getTotalCodewords()-Q.getTotalECCodewords();this.terminateBits(le,B);const be=this.interleaveWithECBytes(B,R.getTotalCodewords(),le,Q.getNumBlocks()),Ae=new Sr;Ae.setECLevel(u),Ae.setMode(v),Ae.setVersion(R);const Oe=R.getDimensionForVersion(),Fe=new mr(Oe,Oe),Ye=this.chooseMaskPattern(be,u,R,Fe);return Ae.setMaskPattern(Ye),ut.buildMatrix(be,u,R,Ye,Fe),Ae.setMatrix(Fe),Ae}static recommendVersion(l,u,h,p){const x=this.calculateBitsNeeded(u,h,p,mt.getVersionForNumber(1)),v=this.chooseVersion(x,l),j=this.calculateBitsNeeded(u,h,p,v);return this.chooseVersion(j,l)}static calculateBitsNeeded(l,u,h,p){return u.getSize()+l.getCharacterCountBits(p)+h.getSize()}static getAlphanumericCode(l){return l<Zt.ALPHANUMERIC_TABLE.length?Zt.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,u=null){if(L.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(l))return Pt.KANJI;let h=!1,p=!1;for(let x=0,v=l.length;x<v;++x){const j=l.charAt(x);if(Zt.isDigit(j))h=!0;else if(this.getAlphanumericCode(j.charCodeAt(0))!==-1)p=!0;else return Pt.BYTE}return p?Pt.ALPHANUMERIC:h?Pt.NUMERIC:Pt.BYTE}static isOnlyDoubleByteKanji(l){let u;try{u=M.encode(l,L.SJIS)}catch{return!1}const h=u.length;if(h%2!==0)return!1;for(let p=0;p<h;p+=2){const x=u[p]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(l,u,h,p){let x=Number.MAX_SAFE_INTEGER,v=-1;for(let j=0;j<Sr.NUM_MASK_PATTERNS;j++){ut.buildMatrix(l,u,h,j,p);let _=this.calculateMaskPenalty(p);_<x&&(x=_,v=j)}return v}static chooseVersion(l,u){for(let h=1;h<=40;h++){const p=mt.getVersionForNumber(h);if(Zt.willFit(l,p,u))return p}throw new Vt("Data too big")}static willFit(l,u,h){const p=u.getTotalCodewords(),v=u.getECBlocksForLevel(h).getTotalECCodewords(),j=p-v,_=(l+7)/8;return j>=_}static terminateBits(l,u){const h=l*8;if(u.getSize()>h)throw new Vt("data bits cannot fit in the QR Code"+u.getSize()+" > "+h);for(let v=0;v<4&&u.getSize()<h;++v)u.appendBit(!1);const p=u.getSize()&7;if(p>0)for(let v=p;v<8;v++)u.appendBit(!1);const x=l-u.getSizeInBytes();for(let v=0;v<x;++v)u.appendBits(v&1?17:236,8);if(u.getSize()!==h)throw new Vt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,u,h,p,x,v){if(p>=h)throw new Vt("Block ID too large");const j=l%h,_=h-j,R=Math.floor(l/h),B=R+1,K=Math.floor(u/h),Q=K+1,le=R-K,be=B-Q;if(le!==be)throw new Vt("EC bytes mismatch");if(h!==_+j)throw new Vt("RS blocks mismatch");if(l!==(K+le)*_+(Q+be)*j)throw new Vt("Total bytes mismatch");p<_?(x[0]=K,v[0]=le):(x[0]=Q,v[0]=be)}static interleaveWithECBytes(l,u,h,p){if(l.getSizeInBytes()!==h)throw new Vt("Number of bits and data bytes does not match");let x=0,v=0,j=0;const _=new Array;for(let B=0;B<p;++B){const K=new Int32Array(1),Q=new Int32Array(1);Zt.getNumDataBytesAndNumECBytesForBlockID(u,h,p,B,K,Q);const le=K[0],be=new Uint8Array(le);l.toBytes(8*x,be,0,le);const Ae=Zt.generateECBytes(be,Q[0]);_.push(new Pn(be,Ae)),v=Math.max(v,le),j=Math.max(j,Ae.length),x+=K[0]}if(h!==x)throw new Vt("Data bytes does not match offset");const R=new P;for(let B=0;B<v;++B)for(const K of _){const Q=K.getDataBytes();B<Q.length&&R.appendBits(Q[B],8)}for(let B=0;B<j;++B)for(const K of _){const Q=K.getErrorCorrectionBytes();B<Q.length&&R.appendBits(Q[B],8)}if(u!==R.getSizeInBytes())throw new Vt("Interleaving error: "+u+" and "+R.getSizeInBytes()+" differ.");return R}static generateECBytes(l,u){const h=l.length,p=new Int32Array(h+u);for(let v=0;v<h;v++)p[v]=l[v]&255;new qt(ze.QR_CODE_FIELD_256).encode(p,u);const x=new Uint8Array(u);for(let v=0;v<u;v++)x[v]=p[h+v];return x}static appendModeInfo(l,u){u.appendBits(l.getBits(),4)}static appendLengthInfo(l,u,h,p){const x=h.getCharacterCountBits(u);if(l>=1<<x)throw new Vt(l+" is bigger than "+((1<<x)-1));p.appendBits(l,x)}static appendBytes(l,u,h,p){switch(u){case Pt.NUMERIC:Zt.appendNumericBytes(l,h);break;case Pt.ALPHANUMERIC:Zt.appendAlphanumericBytes(l,h);break;case Pt.BYTE:Zt.append8BitBytes(l,h,p);break;case Pt.KANJI:Zt.appendKanjiBytes(l,h);break;default:throw new Vt("Invalid mode: "+u)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const u=Zt.getDigit(l);return u>=0&&u<=9}static appendNumericBytes(l,u){const h=l.length;let p=0;for(;p<h;){const x=Zt.getDigit(l.charAt(p));if(p+2<h){const v=Zt.getDigit(l.charAt(p+1)),j=Zt.getDigit(l.charAt(p+2));u.appendBits(x*100+v*10+j,10),p+=3}else if(p+1<h){const v=Zt.getDigit(l.charAt(p+1));u.appendBits(x*10+v,7),p+=2}else u.appendBits(x,4),p++}}static appendAlphanumericBytes(l,u){const h=l.length;let p=0;for(;p<h;){const x=Zt.getAlphanumericCode(l.charCodeAt(p));if(x===-1)throw new Vt;if(p+1<h){const v=Zt.getAlphanumericCode(l.charCodeAt(p+1));if(v===-1)throw new Vt;u.appendBits(x*45+v,11),p+=2}else u.appendBits(x,6),p++}}static append8BitBytes(l,u,h){let p;try{p=M.encode(l,h)}catch(x){throw new Vt(x)}for(let x=0,v=p.length;x!==v;x++){const j=p[x];u.appendBits(j,8)}}static appendKanjiBytes(l,u){let h;try{h=M.encode(l,L.SJIS)}catch(x){throw new Vt(x)}const p=h.length;for(let x=0;x<p;x+=2){const v=h[x]&255,j=h[x+1]&255,_=v<<8&4294967295|j;let R=-1;if(_>=33088&&_<=40956?R=_-33088:_>=57408&&_<=60351&&(R=_-49472),R===-1)throw new Vt("Invalid byte sequence");const B=(R>>8)*192+(R&255);u.appendBits(B,13)}}static appendECI(l,u){u.appendBits(Pt.ECI.getBits(),4),u.appendBits(l.getValue(),8)}}Zt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Zt.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class tn{write(l,u,h,p=null){if(l.length===0)throw new g("Found empty contents");if(u<0||h<0)throw new g("Requested dimensions are too small: "+u+"x"+h);let x=Nr.L,v=tn.QUIET_ZONE_SIZE;p!==null&&(p.get(lt.ERROR_CORRECTION)!==void 0&&(x=Nr.fromString(p.get(lt.ERROR_CORRECTION).toString())),p.get(lt.MARGIN)!==void 0&&(v=Number.parseInt(p.get(lt.MARGIN).toString(),10)));const j=Zt.encode(l,x,p);return this.renderResult(j,u,h,v)}writeToDom(l,u,h,p,x=null){typeof l=="string"&&(l=document.querySelector(l));const v=this.write(u,h,p,x);l&&l.appendChild(v)}renderResult(l,u,h,p){const x=l.getMatrix();if(x===null)throw new ce;const v=x.getWidth(),j=x.getHeight(),_=v+p*2,R=j+p*2,B=Math.max(u,_),K=Math.max(h,R),Q=Math.min(Math.floor(B/_),Math.floor(K/R)),le=Math.floor((B-v*Q)/2),be=Math.floor((K-j*Q)/2),Ae=this.createSVGElement(B,K);for(let Oe=0,Fe=be;Oe<j;Oe++,Fe+=Q)for(let Ye=0,et=le;Ye<v;Ye++,et+=Q)if(x.get(Ye,Oe)===1){const Je=this.createSvgRectElement(et,Fe,Q,Q);Ae.appendChild(Je)}return Ae}createSVGElement(l,u){const h=document.createElementNS(tn.SVG_NS,"svg");return h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",u.toString()),h}createSvgRectElement(l,u,h,p){const x=document.createElementNS(tn.SVG_NS,"rect");return x.setAttributeNS(null,"x",l.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",h.toString()),x.setAttributeNS(null,"width",p.toString()),x.setAttributeNS(null,"fill","#000000"),x}}tn.QUIET_ZONE_SIZE=4,tn.SVG_NS="http://www.w3.org/2000/svg";class ri{encode(l,u,h,p,x){if(l.length===0)throw new g("Found empty contents");if(u!==xe.QR_CODE)throw new g("Can only encode QR_CODE, but got "+u);if(h<0||p<0)throw new g(`Requested dimensions are too small: ${h}x${p}`);let v=Nr.L,j=ri.QUIET_ZONE_SIZE;x!==null&&(x.get(lt.ERROR_CORRECTION)!==void 0&&(v=Nr.fromString(x.get(lt.ERROR_CORRECTION).toString())),x.get(lt.MARGIN)!==void 0&&(j=Number.parseInt(x.get(lt.MARGIN).toString(),10)));const _=Zt.encode(l,v,x);return ri.renderResult(_,h,p,j)}static renderResult(l,u,h,p){const x=l.getMatrix();if(x===null)throw new ce;const v=x.getWidth(),j=x.getHeight(),_=v+p*2,R=j+p*2,B=Math.max(u,_),K=Math.max(h,R),Q=Math.min(Math.floor(B/_),Math.floor(K/R)),le=Math.floor((B-v*Q)/2),be=Math.floor((K-j*Q)/2),Ae=new V(B,K);for(let Oe=0,Fe=be;Oe<j;Oe++,Fe+=Q)for(let Ye=0,et=le;Ye<v;Ye++,et+=Q)x.get(Ye,Oe)===1&&Ae.setRegion(et,Fe,Q,Q);return Ae}}ri.QUIET_ZONE_SIZE=4;class zi{encode(l,u,h,p,x){let v;switch(u){case xe.QR_CODE:v=new ri;break;default:throw new g("No encoder available for format "+u)}return v.encode(l,u,h,p,x)}}class na extends me{constructor(l,u,h,p,x,v,j,_){if(super(v,j),this.yuvData=l,this.dataWidth=u,this.dataHeight=h,this.left=p,this.top=x,p+v>u||x+j>h)throw new g("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(v,j)}getRow(l,u){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const p=(l+this.top)*this.dataWidth+this.left;return A.arraycopy(this.yuvData,p,u,0,h),u}getMatrix(){const l=this.getWidth(),u=this.getHeight();if(l===this.dataWidth&&u===this.dataHeight)return this.yuvData;const h=l*u,p=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return A.arraycopy(this.yuvData,x,p,0,h),p;for(let v=0;v<u;v++){const j=v*l;A.arraycopy(this.yuvData,x,p,j,l),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(l,u,h,p){return new na(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+u,h,p,!1)}renderThumbnail(){const l=this.getWidth()/na.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/na.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(l*u),p=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let v=0;v<u;v++){const j=v*l;for(let _=0;_<l;_++){const R=p[x+_*na.THUMBNAIL_SCALE_FACTOR]&255;h[j+_]=4278190080|R*65793}x+=this.dataWidth*na.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/na.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/na.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,u){const h=this.yuvData;for(let p=0,x=this.top*this.dataWidth+this.left;p<u;p++,x+=this.dataWidth){const v=x+l/2;for(let j=x,_=x+l-1;j<v;j++,_--){const R=h[j];h[j]=h[_],h[_]=R}}}invert(){return new Ne(this)}}na.THUMBNAIL_SCALE_FACTOR=2;class fo extends me{constructor(l,u,h,p,x,v,j){if(super(u,h),this.dataWidth=p,this.dataHeight=x,this.left=v,this.top=j,l.BYTES_PER_ELEMENT===4){const _=u*h,R=new Uint8ClampedArray(_);for(let B=0;B<_;B++){const K=l[B],Q=K>>16&255,le=K>>7&510,be=K&255;R[B]=(Q+le+be)/4&255}this.luminances=R}else this.luminances=l;if(p===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=h),v===void 0&&(this.left=0),j===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+h>this.dataHeight)throw new g("Crop rectangle does not fit within image data.")}getRow(l,u){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const p=(l+this.top)*this.dataWidth+this.left;return A.arraycopy(this.luminances,p,u,0,h),u}getMatrix(){const l=this.getWidth(),u=this.getHeight();if(l===this.dataWidth&&u===this.dataHeight)return this.luminances;const h=l*u,p=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return A.arraycopy(this.luminances,x,p,0,h),p;for(let v=0;v<u;v++){const j=v*l;A.arraycopy(this.luminances,x,p,j,l),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(l,u,h,p){return new fo(this.luminances,h,p,this.dataWidth,this.dataHeight,this.left+l,this.top+u)}invert(){return new Ne(this)}}class ho extends L{static forName(l){return this.getCharacterSetECIByName(l)}}class fs{}fs.ISO_8859_1=L.ISO8859_1;class mo{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class po{static singletonList(l){return[l]}static min(l,u){return l.sort(u)[0]}}class Yo{constructor(l){this.previous=l}getPrevious(){return this.previous}}class vn extends Yo{constructor(l,u,h){super(l),this.value=u,this.bitCount=h}appendTo(l,u){l.appendBits(this.value,this.bitCount)}add(l,u){return new vn(this,l,u)}addBinaryShift(l,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new vn(this,l,u)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+k.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class Ms extends vn{constructor(l,u,h){super(l,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=h}appendTo(l,u){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):h===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(u[this.binaryShiftStart+h],8)}addBinaryShift(l,u){return new Ms(this,l,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zo(G,l,u){return new Ms(G,l,u)}function Bs(G,l,u){return new vn(G,l,u)}const $c=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Er=0,xa=1,ni=2,qc=3,bn=4,Jo=new vn(null,0,0),Qo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Hc(G){for(let l of G)E.fill(l,-1);return G[Er][bn]=0,G[xa][bn]=0,G[xa][Er]=28,G[qc][bn]=0,G[ni][bn]=0,G[ni][Er]=15,G}const Fs=Hc(E.createInt32Array(6,6));class mi{constructor(l,u,h,p){this.token=l,this.mode=u,this.binaryShiftByteCount=h,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,u){let h=this.bitCount,p=this.token;if(l!==this.mode){let v=Qo[this.mode][l];p=Bs(p,v&65535,v>>16),h+=v>>16}let x=l===ni?4:5;return p=Bs(p,u,x),new mi(p,l,0,h+x)}shiftAndAppend(l,u){let h=this.token,p=this.mode===ni?4:5;return h=Bs(h,Fs[this.mode][l],p),h=Bs(h,u,5),new mi(h,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(l){let u=this.token,h=this.mode,p=this.bitCount;if(this.mode===bn||this.mode===ni){let j=Qo[h][Er];u=Bs(u,j&65535,j>>16),p+=j>>16,h=Er}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new mi(u,h,this.binaryShiftByteCount+1,p+x);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(l+1)),v}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Zo(u,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new mi(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let u=this.bitCount+(Qo[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?u+=mi.calculateBinaryShiftCost(l)-mi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(u+=10),u<=l.bitCount}toBitArray(l){let u=[];for(let p=this.endBinaryShift(l.length).token;p!==null;p=p.getPrevious())u.unshift(p);let h=new P;for(const p of u)p.appendTo(h,l);return h}toString(){return z.format("%s bits=%d bytes=%d",$c[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}mi.INITIAL_STATE=new mi(Jo,Er,0,0);function ia(G){const l=z.getCharCode(" "),u=z.getCharCode("."),h=z.getCharCode(",");G[Er][l]=1;const p=z.getCharCode("Z"),x=z.getCharCode("A");for(let Q=x;Q<=p;Q++)G[Er][Q]=Q-x+2;G[xa][l]=1;const v=z.getCharCode("z"),j=z.getCharCode("a");for(let Q=j;Q<=v;Q++)G[xa][Q]=Q-j+2;G[ni][l]=1;const _=z.getCharCode("9"),R=z.getCharCode("0");for(let Q=R;Q<=_;Q++)G[ni][Q]=Q-R+2;G[ni][h]=12,G[ni][u]=13;const B=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Q=0;Q<B.length;Q++)G[qc][z.getCharCode(B[Q])]=Q;const K=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Q=0;Q<K.length;Q++)z.getCharCode(K[Q])>0&&(G[bn][z.getCharCode(K[Q])]=Q);return G}const Ti=ia(E.createInt32Array(5,256));class ya{constructor(l){this.text=l}encode(){const l=z.getCharCode(" "),u=z.getCharCode(`
`);let h=po.singletonList(mi.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let v,j=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case z.getCharCode("\r"):v=j===u?2:0;break;case z.getCharCode("."):v=j===l?3:0;break;case z.getCharCode(","):v=j===l?4:0;break;case z.getCharCode(":"):v=j===l?5:0;break;default:v=0}v>0?(h=ya.updateStateListForPair(h,x,v),x++):h=this.updateStateListForChar(h,x)}return po.min(h,(x,v)=>x.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,u){const h=[];for(let p of l)this.updateStateForChar(p,u,h);return ya.simplifyStates(h)}updateStateForChar(l,u,h){let p=this.text[u]&255,x=Ti[l.getMode()][p]>0,v=null;for(let j=0;j<=bn;j++){let _=Ti[j][p];if(_>0){if(v==null&&(v=l.endBinaryShift(u)),!x||j===l.getMode()||j===ni){const R=v.latchAndAppend(j,_);h.push(R)}if(!x&&Fs[l.getMode()][j]>=0){const R=v.shiftAndAppend(j,_);h.push(R)}}}if(l.getBinaryShiftByteCount()>0||Ti[l.getMode()][p]===0){let j=l.addBinaryShiftChar(u);h.push(j)}}static updateStateListForPair(l,u,h){const p=[];for(let x of l)this.updateStateForPair(x,u,h,p);return this.simplifyStates(p)}static updateStateForPair(l,u,h,p){let x=l.endBinaryShift(u);if(p.push(x.latchAndAppend(bn,h)),l.getMode()!==bn&&p.push(x.shiftAndAppend(bn,h)),h===3||h===4){let v=x.latchAndAppend(ni,16-h).latchAndAppend(ni,1);p.push(v)}if(l.getBinaryShiftByteCount()>0){let v=l.addBinaryShiftChar(u).addBinaryShiftChar(u+1);p.push(v)}}static simplifyStates(l){let u=[];for(const h of l){let p=!0;for(const x of u){if(x.isBetterThanOrEqualTo(h)){p=!1;break}h.isBetterThanOrEqualTo(x)&&(u=u.filter(v=>v!==x))}p&&u.push(h)}return u}}class Qt{constructor(){}static encodeBytes(l){return Qt.encode(l,Qt.DEFAULT_EC_PERCENT,Qt.DEFAULT_AZTEC_LAYERS)}static encode(l,u,h){let p=new ya(l).encode(),x=k.truncDivision(p.getSize()*u,100)+11,v=p.getSize()+x,j,_,R,B,K;if(h!==Qt.DEFAULT_AZTEC_LAYERS){if(j=h<0,_=Math.abs(h),_>(j?Qt.MAX_NB_BITS_COMPACT:Qt.MAX_NB_BITS))throw new g(z.format("Illegal value %s for layers",h));R=Qt.totalBitsInLayer(_,j),B=Qt.WORD_SIZE[_];let Je=R-R%B;if(K=Qt.stuffBits(p,B),K.getSize()+x>Je)throw new g("Data to large for user specified layer");if(j&&K.getSize()>B*64)throw new g("Data to large for user specified layer")}else{B=0,K=null;for(let Je=0;;Je++){if(Je>Qt.MAX_NB_BITS)throw new g("Data too large for an Aztec code");if(j=Je<=3,_=j?Je+1:Je,R=Qt.totalBitsInLayer(_,j),v>R)continue;(K==null||B!==Qt.WORD_SIZE[_])&&(B=Qt.WORD_SIZE[_],K=Qt.stuffBits(p,B));let Ot=R-R%B;if(!(j&&K.getSize()>B*64)&&K.getSize()+x<=Ot)break}}let Q=Qt.generateCheckWords(K,R,B),le=K.getSize()/B,be=Qt.generateModeMessage(j,_,le),Ae=(j?11:14)+_*4,Oe=new Int32Array(Ae),Fe;if(j){Fe=Ae;for(let Je=0;Je<Oe.length;Je++)Oe[Je]=Je}else{Fe=Ae+1+2*k.truncDivision(k.truncDivision(Ae,2)-1,15);let Je=k.truncDivision(Ae,2),Ot=k.truncDivision(Fe,2);for(let Ft=0;Ft<Je;Ft++){let Kn=Ft+k.truncDivision(Ft,15);Oe[Je-Ft-1]=Ot-Kn-1,Oe[Je+Ft]=Ot+Kn+1}}let Ye=new V(Fe);for(let Je=0,Ot=0;Je<_;Je++){let Ft=(_-Je)*4+(j?9:12);for(let Kn=0;Kn<Ft;Kn++){let pi=Kn*2;for(let ii=0;ii<2;ii++)Q.get(Ot+pi+ii)&&Ye.set(Oe[Je*2+ii],Oe[Je*2+Kn]),Q.get(Ot+Ft*2+pi+ii)&&Ye.set(Oe[Je*2+Kn],Oe[Ae-1-Je*2-ii]),Q.get(Ot+Ft*4+pi+ii)&&Ye.set(Oe[Ae-1-Je*2-ii],Oe[Ae-1-Je*2-Kn]),Q.get(Ot+Ft*6+pi+ii)&&Ye.set(Oe[Ae-1-Je*2-Kn],Oe[Je*2+ii])}Ot+=Ft*8}if(Qt.drawModeMessage(Ye,j,Fe,be),j)Qt.drawBullsEye(Ye,k.truncDivision(Fe,2),5);else{Qt.drawBullsEye(Ye,k.truncDivision(Fe,2),7);for(let Je=0,Ot=0;Je<k.truncDivision(Ae,2)-1;Je+=15,Ot+=16)for(let Ft=k.truncDivision(Fe,2)&1;Ft<Fe;Ft+=2)Ye.set(k.truncDivision(Fe,2)-Ot,Ft),Ye.set(k.truncDivision(Fe,2)+Ot,Ft),Ye.set(Ft,k.truncDivision(Fe,2)-Ot),Ye.set(Ft,k.truncDivision(Fe,2)+Ot)}let et=new mo;return et.setCompact(j),et.setSize(Fe),et.setLayers(_),et.setCodeWords(le),et.setMatrix(Ye),et}static drawBullsEye(l,u,h){for(let p=0;p<h;p+=2)for(let x=u-p;x<=u+p;x++)l.set(x,u-p),l.set(x,u+p),l.set(u-p,x),l.set(u+p,x);l.set(u-h,u-h),l.set(u-h+1,u-h),l.set(u-h,u-h+1),l.set(u+h,u-h),l.set(u+h,u-h+1),l.set(u+h,u+h-1)}static generateModeMessage(l,u,h){let p=new P;return l?(p.appendBits(u-1,2),p.appendBits(h-1,6),p=Qt.generateCheckWords(p,28,4)):(p.appendBits(u-1,5),p.appendBits(h-1,11),p=Qt.generateCheckWords(p,40,4)),p}static drawModeMessage(l,u,h,p){let x=k.truncDivision(h,2);if(u)for(let v=0;v<7;v++){let j=x-3+v;p.get(v)&&l.set(j,x-5),p.get(v+7)&&l.set(x+5,j),p.get(20-v)&&l.set(j,x+5),p.get(27-v)&&l.set(x-5,j)}else for(let v=0;v<10;v++){let j=x-5+v+k.truncDivision(v,5);p.get(v)&&l.set(j,x-7),p.get(v+10)&&l.set(x+7,j),p.get(29-v)&&l.set(j,x+7),p.get(39-v)&&l.set(x-7,j)}}static generateCheckWords(l,u,h){let p=l.getSize()/h,x=new qt(Qt.getGF(h)),v=k.truncDivision(u,h),j=Qt.bitsToWords(l,h,v);x.encode(j,v-p);let _=u%h,R=new P;R.appendBits(0,_);for(const B of Array.from(j))R.appendBits(B,h);return R}static bitsToWords(l,u,h){let p=new Int32Array(h),x,v;for(x=0,v=l.getSize()/u;x<v;x++){let j=0;for(let _=0;_<u;_++)j|=l.get(x*u+_)?1<<u-_-1:0;p[x]=j}return p}static getGF(l){switch(l){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new g("Unsupported word size "+l)}}static stuffBits(l,u){let h=new P,p=l.getSize(),x=(1<<u)-2;for(let v=0;v<p;v+=u){let j=0;for(let _=0;_<u;_++)(v+_>=p||l.get(v+_))&&(j|=1<<u-1-_);(j&x)===x?(h.appendBits(j&x,u),v--):j&x?h.appendBits(j,u):(h.appendBits(j|1,u),v--)}return h}static totalBitsInLayer(l,u){return((u?88:112)+16*l)*l}}Qt.DEFAULT_EC_PERCENT=33,Qt.DEFAULT_AZTEC_LAYERS=0,Qt.MAX_NB_BITS=32,Qt.MAX_NB_BITS_COMPACT=4,Qt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class La{encode(l,u,h,p){return this.encodeWithHints(l,u,h,p,null)}encodeWithHints(l,u,h,p,x){let v=fs.ISO_8859_1,j=Qt.DEFAULT_EC_PERCENT,_=Qt.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(lt.CHARACTER_SET)&&(v=ho.forName(x.get(lt.CHARACTER_SET).toString())),x.has(lt.ERROR_CORRECTION)&&(j=k.parseInt(x.get(lt.ERROR_CORRECTION).toString())),x.has(lt.AZTEC_LAYERS)&&(_=k.parseInt(x.get(lt.AZTEC_LAYERS).toString()))),La.encodeLayers(l,u,h,p,v,j,_)}static encodeLayers(l,u,h,p,x,v,j){if(u!==xe.AZTEC)throw new g("Can only encode AZTEC, but got "+u);let _=Qt.encode(z.getBytes(l,x),v,j);return La.renderResult(_,h,p)}static renderResult(l,u,h){let p=l.getMatrix();if(p==null)throw new ce;let x=p.getWidth(),v=p.getHeight(),j=Math.max(u,x),_=Math.max(h,v),R=Math.min(j/x,_/v),B=(j-x*R)/2,K=(_-v*R)/2,Q=new V(j,_);for(let le=0,be=K;le<v;le++,be+=R)for(let Ae=0,Oe=B;Ae<x;Ae++,Oe+=R)p.get(Ae,le)&&Q.setRegion(Oe,be,R,R);return Q}}r.AbstractExpandedDecoder=ra,r.ArgumentException=m,r.ArithmeticException=Te,r.AztecCode=mo,r.AztecCodeReader=Et,r.AztecCodeWriter=La,r.AztecDecoder=st,r.AztecDetector=zt,r.AztecDetectorResult=It,r.AztecEncoder=Qt,r.AztecHighLevelEncoder=ya,r.AztecPoint=ht,r.BarcodeFormat=xe,r.Binarizer=w,r.BinaryBitmap=b,r.BitArray=P,r.BitMatrix=V,r.BitSource=un,r.BrowserAztecCodeReader=Ur,r.BrowserBarcodeReader=Fc,r.BrowserCodeReader=oe,r.BrowserDatamatrixCodeReader=Fo,r.BrowserMultiFormatReader=Pe,r.BrowserPDF417Reader=Ke,r.BrowserQRCodeReader=rt,r.BrowserQRCodeSvgWriter=tn,r.CharacterSetECI=L,r.ChecksumException=y,r.Code128Reader=$e,r.Code39Reader=At,r.DataMatrixDecodedBitStreamParser=Pa,r.DataMatrixReader=Vn,r.DecodeHintType=H,r.DecoderResult=pe,r.DefaultGridSampler=Cr,r.DetectorResult=Gt,r.EAN13Reader=pr,r.EncodeHintType=lt,r.Exception=f,r.FormatException=$,r.GenericGF=ze,r.GenericGFPoly=Ee,r.GlobalHistogramBinarizer=ye,r.GridSampler=Kt,r.GridSamplerInstance=Ut,r.HTMLCanvasElementLuminanceSource=Ie,r.HybridBinarizer=ve,r.ITFReader=Dt,r.IllegalArgumentException=g,r.IllegalStateException=ce,r.InvertedLuminanceSource=Ne,r.LuminanceSource=me,r.MathUtils=Ve,r.MultiFormatOneDReader=Os,r.MultiFormatReader=we,r.MultiFormatWriter=zi,r.NotFoundException=Z,r.OneDReader=Bt,r.PDF417DecodedBitStreamParser=Ue,r.PDF417DecoderErrorCorrection=$o,r.PDF417Reader=X,r.PDF417ResultMetadata=Wl,r.PerspectiveTransform=Rt,r.PlanarYUVLuminanceSource=na,r.QRCodeByteMatrix=mr,r.QRCodeDataMask=ki,r.QRCodeDecodedBitStreamParser=$r,r.QRCodeDecoderErrorCorrectionLevel=Nr,r.QRCodeDecoderFormatInformation=Gn,r.QRCodeEncoder=Zt,r.QRCodeEncoderQRCode=Sr,r.QRCodeMaskUtil=gt,r.QRCodeMatrixUtil=ut,r.QRCodeMode=Pt,r.QRCodeReader=ls,r.QRCodeVersion=mt,r.QRCodeWriter=ri,r.RGBLuminanceSource=fo,r.RSS14Reader=Wr,r.RSSExpandedReader=tt,r.ReaderException=ue,r.ReedSolomonDecoder=Ze,r.ReedSolomonEncoder=qt,r.ReedSolomonException=Re,r.Result=ne,r.ResultMetadataType=he,r.ResultPoint=He,r.StringUtils=z,r.UnsupportedOperationException=J,r.VideoInputDevice=je,r.WhiteRectangleDetector=rr,r.WriterException=Vt,r.ZXingArrays=E,r.ZXingCharset=ho,r.ZXingInteger=k,r.ZXingStandardCharsets=fs,r.ZXingStringBuilder=te,r.ZXingStringEncoding=M,r.ZXingSystem=A,r.createAbstractExpandedDecoder=$u,Object.defineProperty(r,"__esModule",{value:!0})})})(Xv,Xv.exports);var an=Xv.exports;const Mte=Oo(an),Bte=dS({__proto__:null,default:Mte},[an]);var hC=function(){function e(t,r,n){if(this.formatMap=new Map([[xt.QR_CODE,an.BarcodeFormat.QR_CODE],[xt.AZTEC,an.BarcodeFormat.AZTEC],[xt.CODABAR,an.BarcodeFormat.CODABAR],[xt.CODE_39,an.BarcodeFormat.CODE_39],[xt.CODE_93,an.BarcodeFormat.CODE_93],[xt.CODE_128,an.BarcodeFormat.CODE_128],[xt.DATA_MATRIX,an.BarcodeFormat.DATA_MATRIX],[xt.MAXICODE,an.BarcodeFormat.MAXICODE],[xt.ITF,an.BarcodeFormat.ITF],[xt.EAN_13,an.BarcodeFormat.EAN_13],[xt.EAN_8,an.BarcodeFormat.EAN_8],[xt.PDF_417,an.BarcodeFormat.PDF_417],[xt.RSS_14,an.BarcodeFormat.RSS_14],[xt.RSS_EXPANDED,an.BarcodeFormat.RSS_EXPANDED],[xt.UPC_A,an.BarcodeFormat.UPC_A],[xt.UPC_E,an.BarcodeFormat.UPC_E],[xt.UPC_EAN_EXTENSION,an.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Bte)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(an.DecodeHintType.POSSIBLE_FORMATS,i),a.set(an.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new an.MultiFormatReader(this.verbose,this.hints),n=new an.HTMLCanvasElementLuminanceSource(t),i=new an.BinaryBitmap(new an.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:QI.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Fte=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(m){try{f(n.next(m))}catch(g){o(g)}}function d(m){try{f(n.throw(m))}catch(g){o(g)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((n=n.apply(e,t||[])).next())})},Ute=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},mC=function(){function e(t,r,n){if(this.formatMap=new Map([[xt.QR_CODE,"qr_code"],[xt.AZTEC,"aztec"],[xt.CODABAR,"codabar"],[xt.CODE_39,"code_39"],[xt.CODE_93,"code_93"],[xt.CODE_128,"code_128"],[xt.DATA_MATRIX,"data_matrix"],[xt.ITF,"itf"],[xt.EAN_13,"ean_13"],[xt.EAN_8,"ean_8"],[xt.PDF_417,"pdf417"],[xt.UPC_A,"upc_a"],[xt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Fte(this,void 0,void 0,function(){var r,n;return Ute(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:QI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var o=a[i],c=o.boundingBox.width*o.boundingBox.height;c>n&&(n=c,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),pC=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(m){try{f(n.next(m))}catch(g){o(g)}}function d(m){try{f(n.throw(m))}catch(g){o(g)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((n=n.apply(e,t||[])).next())})},gC=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Wte=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&mC.isSupported()?(this.primaryDecoder=new mC(t,n,i),this.secondaryDecoder=new hC(t,n,i)):this.primaryDecoder=new hC(t,n,i)}return e.prototype.decodeAsync=function(t){return pC(this,void 0,void 0,function(){var r;return gC(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return pC(this,void 0,void 0,function(){var r,n;return gC(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),p3=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ap=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(m){try{f(n.next(m))}catch(g){o(g)}}function d(m){try{f(n.throw(m))}catch(g){o(g)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((n=n.apply(e,t||[])).next())})},Cp=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},tP=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),zte=function(e){p3(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(tP),$te=function(e){p3(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(zte),qte=function(e){p3(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(tP),Hte=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new $te(this.track)},e.prototype.torchFeature=function(){return new qte(this.track)},e}(),Vte=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return Ap(this,void 0,void 0,function(){var a,o;return Cp(this,function(c){switch(c.label){case 0:return a=new e(t,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:c.sent(),c.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Ap(this,void 0,void 0,function(){return Cp(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(c){t.mediaStream.removeTrack(c),c.stop(),++o,o>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Hte(this.getFirstTrackOrFail())},e}(),Gte=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return Ap(this,void 0,void 0,function(){return Cp(this,function(i){return[2,Vte.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return Ap(this,void 0,void 0,function(){var r,n;return Cp(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),xC=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(m){try{f(n.next(m))}catch(g){o(g)}}function d(m){try{f(n.throw(m))}catch(g){o(g)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((n=n.apply(e,t||[])).next())})},yC=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Kte=function(){function e(){}return e.failIfNotSupported=function(){return xC(this,void 0,void 0,function(){return yC(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return xC(this,void 0,void 0,function(){return yC(this,function(r){return[2,Gte.create(t)]})})},e}(),Xte=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(m){try{f(n.next(m))}catch(g){o(g)}}function d(m){try{f(n.throw(m))}catch(g){o(g)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((n=n.apply(e,t||[])).next())})},Yte=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Zte=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=gd.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=gd.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Xte(this,void 0,void 0,function(){var t,r,n,i,a,o,c;return Yte(this,function(d){switch(d.label){case 0:return t=function(f){for(var m=f.getVideoTracks(),g=0,b=m;g<b.length;g++){var y=b[g];y.enabled=!1,y.stop(),f.removeTrack(y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],a=0,o=n;a<o.length;a++)c=o[a],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var o=[],c=0,d=a;c<d.length;c++){var f=d[c];f.kind==="video"&&o.push({id:f.id,label:f.label})}t(o)},i=MediaStreamTrack;i.getSources(n)})},e}(),Tn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Tn||(Tn={}));var Jte=function(){function e(){this.state=Tn.NOT_STARTED,this.onGoingTransactionNewState=Tn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Tn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Tn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Tn.UNKNOWN:throw"Transition from unknown is not allowed";case Tn.NOT_STARTED:this.failIfNewStateIs(t,[Tn.PAUSED]);break;case Tn.SCANNING:break;case Tn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Qte=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Tn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Tn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Tn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Tn.PAUSED},e}(),ere=function(){function e(){}return e.create=function(){return new Qte(new Jte)},e}(),tre=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qa=function(e){tre(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Rte),rre=function(){function e(t,r){this.logger=r,this.fps=qa.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=qa.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?eP.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ol(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),nre=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new Lte(this.verbose),this.qrcode=new Wte(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ere.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var c=rre.create(r,this.logger);this.clearElement();var d=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=d,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:qa.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var g=this,b=this.stateManagerProxy.startTransition(Tn.SCANNING);return new Promise(function(y,w){var A=f?c.videoConstraints:g.createVideoConstraints(t);if(!A){b.cancel(),w("videoConstraints should be defined");return}var N={};(!f||c.aspectRatio)&&(N.aspectRatio=c.aspectRatio);var S={onRenderSurfaceReady:function(E,k){g.setupUi(E,k,c),g.isScanning=!0,g.foreverScan(c,n,o)}};Kte.failIfNotSupported().then(function(E){E.create(A).then(function(k){return k.render(a.element,N,S).then(function(P){g.renderedCamera=P,b.execute(),y(null)}).catch(function(P){b.cancel(),w(P)})}).catch(function(k){b.cancel(),w(gd.errorGettingUserMedia(k))})}).catch(function(E){b.cancel(),w(gd.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Tn.PAUSED),this.showPausedState(),(ol(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Tn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(qa.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ol(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var c=o.width,d=o.height,f=document.getElementById(n.elementId),m=f.clientWidth?f.clientWidth:qa.DEFAULT_WIDTH,g=Math.max(f.clientHeight?f.clientHeight:d,qa.FILE_SCAN_MIN_HEIGHT),b=n.computeCanvasDrawConfig(c,d,m,g);if(r){var y=n.createCanvasElement(m,g,"qr-canvas-visible");y.style.display="inline-block",f.appendChild(y);var w=y.getContext("2d");if(!w)throw"Unable to get 2d context from canvas";w.canvas.width=m,w.canvas.height=g,w.drawImage(o,0,0,c,d,b.x,b.y,b.width,b.height)}var A=qa.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(o.width,b.width),S=Math.max(o.height,b.height),E=N+2*A,k=S+2*A,P=n.createCanvasElement(E,k);f.appendChild(P);var W=P.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=E,W.canvas.height=k,W.drawImage(o,0,0,c,d,A,A,N,S);try{n.qrcode.decodeRobustlyAsync(P).then(function(H){i(fC.createFromQrcodeResult(H))}).catch(a)}catch(H){a("QR code parse error, error = ".concat(H))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Zte.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!eP.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[xt.QR_CODE,xt.AZTEC,xt.CODABAR,xt.CODE_39,xt.CODE_93,xt.CODE_128,xt.DATA_MATRIX,xt.MAXICODE,xt.ITF,xt.EAN_13,xt.EAN_8,xt.PDF_417,xt.RSS_14,xt.RSS_EXPANDED,xt.UPC_A,xt.UPC_E,xt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var o=a[i];Ote(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ol(t))return!0;if(!ol(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ol(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ol(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,r,a),c=function(f){if(f<qa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qa.MIN_QR_BOX_SIZE,"px.")},d=function(f){return f>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};c(o.width),c(o.height),o.width=d(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=ol(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&a.height<=r,c={x:0,y:0,width:t,height:r},d=o?this.getShadedRegionBounds(t,r,a):c,f=this.createCanvasElement(d.width,d.height),m={willReadFrequently:!0},g=f.getContext("2d",m);g.canvas.width=d.width,g.canvas.height=d.height,this.element.append(f),o&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=g,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=gd.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,fC.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=gd.codeParseError(i);return r(a,Dte.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,c=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,f=this.qrRegion.height*c,m=this.qrRegion.x*o,g=this.qrRegion.y*c;this.context.drawImage(a,m,g,d,f,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(y){!y&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){b()})):b()}).catch(function(y){i.logger.logError("Error happend while scanning context",y),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",o=function(w){if(w in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(w,"'")},c=Object.keys(t);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var d=Object.keys(t)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var f=t.facingMode;if(typeof f=="string"){if(o(f))return{facingMode:f}}else if(typeof f=="object")if(a in f){if(o(f["".concat(a)]))return{facingMode:{exact:f["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof f;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var g=t.deviceId;if(typeof g=="string")return{deviceId:g};if(typeof g=="object"){if(a in g)return{deviceId:{exact:g["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var b=typeof g;throw"Invalid type of 'deviceId' = ".concat(b)}}}var y=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(y)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,o=(i-r)/2;return{x:a,y:o,width:t,height:r}}else{var c=t,d=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(d)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?qa.BORDER_SHADER_MATCH_COLOR:qa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=ol(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(r-i.width)/2,c=(n-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(qa.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,f=40;this.insertShaderBorders(a,f,d,-d,null,0,!0),this.insertShaderBorders(a,f,d,-d,null,0,!1),this.insertShaderBorders(a,f,d,null,-d,0,!0),this.insertShaderBorders(a,f,d,null,-d,0,!1),this.insertShaderBorders(a,d,f+d,-d,null,-d,!0),this.insertShaderBorders(a,d,f+d,null,-d,-d,!0),this.insertShaderBorders(a,d,f+d,-d,null,-d,!1),this.insertShaderBorders(a,d,f+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,o,c){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=qa.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),c?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),vC;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(vC||(vC={}));const ire=()=>{const[e,t]=I.useState(!1),[r,n]=I.useState(null),[i,a]=I.useState(""),[o,c]=I.useState(!1),[d,f]=I.useState([]),[m,g]=I.useState(null),[b,y]=I.useState(0),[w,A]=I.useState(0),N=I.useRef(null),S="qr-reader",[E,k]=I.useState("scanner"),[P,W]=I.useState([]),[H,$]=I.useState([]),[F,L]=I.useState([]),[J,M]=I.useState(null),[z,te]=I.useState(!1);I.useEffect(()=>()=>{N.current&&N.current.stop().catch(console.error)},[]);const V=async()=>{try{a(""),t(!0);const ne=new nre(S);N.current=ne,await ne.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},ye,()=>{})}catch{a("❌ Camera access denied. Please allow camera permission."),t(!1)}},Z=async()=>{if(N.current)try{await N.current.stop(),N.current=null,t(!1)}catch(ne){console.error("Scanner stop error:",ne)}},ye=async ne=>{await Z(),c(!0);try{const ge=await ve(ne);n(ge),f(xe=>[ge,...xe.slice(0,9)])}catch(ge){a(ge.message||"Failed to process scan")}finally{c(!1)}},ve=async ne=>{var _e,he,pe;if(ne.toUpperCase().includes("RACK")||ne.match(/^R-[A-Z]-\d+$/i)){const Ee=(_e=(await _o.getAll({search:ne})).racks)==null?void 0:_e.find(Te=>Te.code.toUpperCase()===ne.toUpperCase());if(Ee)return{type:"rack",data:Ee,rawCode:ne}}if(ne.includes("-BOX-")){const Ce=ne.split("-BOX-")[0],Te=(he=(await wc.getAll({search:Ce})).shipments)==null?void 0:he.find(ze=>ze.qrCode&&Ce.includes(ze.qrCode));if(Te){const ce=(await(await fetch(`/api/shipments/${Te.id}/boxes`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json()).boxes.filter(Ze=>!Ze.rackId).length;return A(ce),{type:"shipment",data:{...Te,remainingBoxes:ce},rawCode:ne}}}const xe=(pe=(await wc.getAll({search:ne})).shipments)==null?void 0:pe.find(Ce=>Ce.referenceId.toUpperCase()===ne.toUpperCase());if(xe){const Te=(await(await fetch(`/api/shipments/${xe.id}/boxes`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json()).boxes.filter(ze=>!ze.rackId).length;return A(Te),{type:"shipment",data:{...xe,remainingBoxes:Te},rawCode:ne}}return{type:"unknown",data:null,rawCode:ne}},me=async()=>{if(!(!m||!r||r.type!=="rack")){if(!b||b<=0){a("Please enter how many boxes to assign");return}if(b>w){a(`Only ${w} boxes remaining!`);return}try{c(!0);const _e=(await(await fetch(`/api/shipments/${m.id}/boxes`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json()).boxes.filter(he=>!he.rackId).slice(0,b).map(he=>he.boxNumber);await fetch(`/api/shipments/${m.id}/assign-boxes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({rackId:r.data.id,boxNumbers:_e})}),b===w&&await fetch(`/api/shipments/${m.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({status:"IN_STORAGE"})}),alert(`✅ ${b} boxes assigned to ${r.data.code}!
📊 Rack capacity updated. Check Racks page for current status.`),g(null),n(null),y(0),A(0)}catch(ne){a(ne.message||"Failed to assign")}finally{c(!1)}}},Ne=()=>{n(null),a(""),g(null)},Ie=async()=>{try{c(!0),console.log("Loading pending shipments...");const ne=localStorage.getItem("authToken"),ge=await fetch("/api/shipments?status=PENDING",{headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"}});if(ge.ok){const xe=await ge.json();console.log("Loaded shipments:",xe);const _e=xe.shipments||xe||[],pe=(await Promise.all(_e.map(async Ce=>{try{const ze=(await(await fetch(`/api/shipments/${Ce.id}/boxes`,{headers:{Authorization:`Bearer ${ne}`}})).json()).boxes.filter(Re=>!Re.rackId).length;return ze>0?{...Ce,remainingBoxes:ze}:null}catch{return Ce}}))).filter(Ce=>Ce!==null);console.log("Shipments with unassigned boxes:",pe),W(pe),$(pe)}else console.error("Failed to load shipments:",ge.status),a(`Failed to load shipments: ${ge.status}`)}catch(ne){console.error("Error loading shipments:",ne),a("Failed to load shipments")}finally{c(!1)}},je=async(ne,ge)=>{try{c(!0);const he=(await(await fetch(`/api/shipments/${ne.id}/boxes`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json()).boxes.filter(pe=>!pe.rackId).length;n({type:"rack",data:ge,rawCode:ge.code}),g({...ne,remainingBoxes:he}),A(he),k("scanner"),te(!1)}catch{a("Failed to load rack/shipment details")}finally{c(!1)}},q=async ne=>{console.log("🎯 Choose Rack clicked for shipment:",ne),console.log("📦 Current racks:",F),M(ne),te(!0),console.log("✅ Rack selection enabled")},oe=async()=>{try{console.log("Loading racks...");const ne=localStorage.getItem("authToken"),ge=await fetch("/api/racks",{headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"}});if(ge.ok){const xe=await ge.json();console.log("Loaded racks response:",xe);const _e=xe.racks||xe||[];console.log("Racks array:",_e),L(Array.isArray(_e)?_e:[])}else console.error("Failed to load racks:",ge.status),L([])}catch(ne){console.error("Error loading racks:",ne),L([])}};return I.useEffect(()=>{E==="list"&&(Ie(),oe())},[E]),s.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"📱 Warehouse Scanner"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"مسح المستودع | مسح أو بحث يدوي"})]}),s.jsxs("div",{className:"flex gap-2 bg-white rounded-xl p-2 shadow-md border-2 border-gray-200",children:[s.jsxs("button",{onClick:()=>k("scanner"),className:`flex-1 py-4 px-6 rounded-lg font-bold text-lg transition-all ${E==="scanner"?"bg-primary-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["📸 QR Scanner",s.jsx("br",{}),s.jsx("span",{className:"text-sm font-normal",children:"مسح QR | الكاميرا"})]}),s.jsxs("button",{onClick:()=>k("list"),className:`flex-1 py-4 px-6 rounded-lg font-bold text-lg transition-all ${E==="list"?"bg-primary-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["📋 Pending List + Racks",s.jsx("br",{}),s.jsx("span",{className:"text-sm font-normal",children:"قائمة الانتظار | خريطة الرفوف"})]})]}),i&&s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-xl flex items-center gap-3",children:[s.jsx(to,{className:"h-6 w-6 flex-shrink-0"}),s.jsx("span",{className:"flex-1",children:i}),s.jsx("button",{onClick:()=>a(""),className:"text-red-500 hover:text-red-700 text-xl",children:"✕"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[E==="scanner"&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-200 overflow-hidden",children:[e&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-primary-600 mb-2",children:"📸 Scanning..."}),s.jsx("p",{className:"text-gray-600",children:"ضع رمز الاستجابة السريعة في الإطار"})]}),s.jsx("div",{id:S,className:"mx-auto"}),s.jsx("button",{onClick:Z,className:"w-full py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold",children:"Stop Camera / إيقاف الكاميرا"})]}),!e&&!r&&!o&&s.jsxs("div",{className:"p-12 text-center space-y-6",children:[s.jsx("div",{className:"mx-auto w-64 h-64 border-4 border-dashed border-primary-300 rounded-3xl flex items-center justify-center bg-gradient-to-br from-primary-50 to-blue-50",children:s.jsx(ko,{className:"h-32 w-32 text-primary-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ready to Scan"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"جاهز للمسح"})]}),s.jsxs("button",{onClick:V,className:"inline-flex items-center gap-3 px-10 py-5 bg-primary-600 text-white text-xl font-bold rounded-xl hover:bg-primary-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:[s.jsx(DE,{className:"h-7 w-7"}),"Start Camera"]})]}),o&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Processing scan..."})]}),r&&!o&&s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(bi,{className:"h-12 w-12 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-1",children:"Scan Successful! ✅"}),s.jsx("p",{className:"text-gray-600 font-mono text-lg",children:r.rawCode})]}),r.type==="rack"&&s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Cl,{className:"h-8 w-8 text-blue-600"}),s.jsx("h4",{className:"text-xl font-bold text-blue-900",children:"Rack Information"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Code:"}),s.jsx("p",{className:"font-bold",children:r.data.code})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Location:"}),s.jsx("p",{className:"font-bold",children:r.data.location})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Section:"}),s.jsx("p",{className:"font-bold",children:r.data.section})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Capacity:"}),s.jsxs("p",{className:"font-bold",children:[r.data.capacityUsed||0," / ",r.data.capacityTotal||0]})]})]}),m&&s.jsxs("div",{className:"mt-6 pt-6 border-t-2 border-blue-300",children:[s.jsxs("p",{className:"text-blue-900 font-semibold mb-4",children:['📦 Assign "',m.referenceId,'" to this rack?']}),s.jsxs("div",{className:"mb-4 bg-white p-4 rounded-lg border-2 border-blue-300",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"How Many Boxes to Assign? 📦"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",min:"1",max:w,value:b||"",onChange:ne=>y(parseInt(ne.target.value)||0),placeholder:`Max: ${w} boxes`,className:"flex-1 px-4 py-3 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx("button",{onClick:()=>y(w),className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold whitespace-nowrap",children:"📦 All"})]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["💡 Remaining: ",w,' boxes | Enter quantity or click "All" button']})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:me,disabled:o||!b,className:"flex-1 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed font-bold text-lg",children:"✅ Confirm Assignment"}),s.jsx("button",{onClick:()=>{g(null),y(0),A(0)},className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-bold",children:"Cancel"})]})]})]}),r.type==="shipment"&&s.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(jd,{className:"h-8 w-8 text-purple-600"}),s.jsx("h4",{className:"text-xl font-bold text-purple-900",children:"Shipment Information"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Reference:"}),s.jsx("p",{className:"font-bold",children:r.data.referenceId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Client:"}),s.jsx("p",{className:"font-bold",children:r.data.clientName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total Boxes:"}),s.jsx("p",{className:"font-bold",children:r.data.currentBoxCount})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Remaining:"}),s.jsxs("p",{className:"font-bold text-blue-600",children:[r.data.remainingBoxes||0," 📦"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx("p",{className:"font-bold",children:r.data.status})]})]}),(r.data.status==="PENDING"||r.data.remainingBoxes>0)&&s.jsx("div",{className:"mt-6 pt-6 border-t-2 border-purple-300",children:s.jsxs("button",{onClick:()=>{g(r.data),y(r.data.remainingBoxes||0),n(null),V()},className:"w-full py-4 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-bold text-lg",children:["📍 Scan Rack to Assign (",r.data.remainingBoxes," boxes left)"]})})]}),r.type==="unknown"&&s.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-6 text-center",children:[s.jsx(to,{className:"h-12 w-12 text-yellow-600 mx-auto mb-3"}),s.jsx("p",{className:"text-yellow-900 font-semibold text-lg",children:"QR code not found in system"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:Ne,className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-semibold",children:"Clear"}),s.jsxs("button",{onClick:()=>{n(null),V()},className:"flex-1 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold flex items-center justify-center gap-2",children:[s.jsx(Oh,{className:"h-5 w-5"}),"Scan Again"]})]})]})]}),!1,E==="list"&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b-2 border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"📋 Pending Shipments"}),s.jsx("p",{className:"text-gray-600",children:"الشحنات في انتظار التخزين"})]}),o?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading shipments..."})]}):H.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(jd,{className:"h-24 w-24 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-xl font-semibold",children:"No Pending Shipments"}),s.jsx("p",{className:"text-gray-400 mt-2",children:"لا توجد شحنات في الانتظار"}),s.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Create a new shipment from Dashboard to see it here"})]}):s.jsx("div",{className:"divide-y-2 divide-gray-200",children:H.map(ne=>s.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl font-bold text-primary-600",children:ne.referenceId}),s.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-semibold rounded-full",children:"PENDING"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Client:"}),s.jsx("p",{className:"font-semibold text-gray-900",children:ne.clientName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Boxes:"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[ne.totalBoxes||ne.currentBoxCount||0," 📦"]})]})]}),ne.notes&&s.jsxs("p",{className:"text-gray-600 text-sm",children:["📝 ",ne.notes]})]}),s.jsxs("button",{onClick:()=>q(ne),className:"px-8 py-4 bg-primary-600 text-white font-bold rounded-xl hover:bg-primary-700 transition-all shadow-lg hover:shadow-xl text-lg whitespace-nowrap",children:["📍 Choose Rack",s.jsx("br",{}),s.jsx("span",{className:"text-sm font-normal",children:"اختر الرف"})]})]}),z&&(J==null?void 0:J.id)===ne.id&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border-2 border-blue-300 rounded-xl",children:[s.jsx("h4",{className:"text-lg font-bold text-blue-900 mb-3",children:"🗺️ Select Rack | اختر الرف"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:F&&F.length>0?F.map(ge=>s.jsxs("button",{onClick:()=>je(ne,ge),disabled:ge.status==="FULL",className:`
                                  p-3 rounded-lg font-bold text-xs transition-all text-left
                                  ${ge.status==="AVAILABLE"?"bg-green-500 hover:bg-green-600 text-white":ge.status==="FULL"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-yellow-500 hover:bg-yellow-600 text-white"}
                                `,children:[s.jsx("div",{className:"font-bold text-sm",children:ge.code}),s.jsxs("div",{className:"text-xs opacity-90 mt-1",children:["📦 ",ge.capacityUsed||0,"/",ge.capacityTotal||0]})]},ge.id)):s.jsx("p",{className:"col-span-full text-gray-500 text-center py-4",children:"No racks available"})}),s.jsx("button",{onClick:()=>te(!1),className:"mt-3 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel | إلغاء"})]})]},ne.id))}),s.jsx("div",{className:"p-6 bg-gray-50 border-t-2 border-gray-200 text-center",children:s.jsx("button",{onClick:Ie,disabled:o,className:"px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 disabled:bg-gray-300 transition-colors",children:"🔄 Refresh List | تحديث القائمة"})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(fu,{className:"h-5 w-5"}),"Recent Scans"]}),s.jsx("div",{className:"space-y-2",children:d.length===0?s.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No scans yet"}):d.map((ne,ge)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[ne.type==="rack"?s.jsx(Cl,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}):ne.type==="shipment"?s.jsx(jd,{className:"h-5 w-5 text-purple-500 flex-shrink-0"}):s.jsx(ko,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"font-mono text-sm flex-1 truncate",children:ne.rawCode})]},ge))})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"💡 Tips"}),s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[s.jsx("li",{children:"• Scan shipment first"}),s.jsx("li",{children:"• Then scan rack to assign"}),s.jsx("li",{children:"• Keep QR code steady"}),s.jsx("li",{children:"• Good lighting helps"})]})]})]})]})]})},are=()=>{const[e,t]=I.useState(""),[r,n]=I.useState(""),[i,a]=I.useState(!1),[o,c]=I.useState(!1),[d,f]=I.useState(""),[m,g]=I.useState(!1),[b,y]=I.useState({primaryColor:"#4F46E5",secondaryColor:"#7C3AED",showCompanyName:!0,logoSize:"medium"});I.useEffect(()=>{(async()=>{try{const N=await fetch("/api/company/branding");if(N.ok){const S=await N.json();console.log("✅ Loaded branding:",S.branding),y({name:S.branding.name,logo:S.branding.logoUrl||S.branding.logo,primaryColor:S.branding.primaryColor,secondaryColor:S.branding.secondaryColor,showCompanyName:S.branding.showCompanyName,logoSize:S.branding.logoSize||"medium"})}else console.log("⚠️ Failed to load branding, using defaults")}catch(N){console.log("⚠️ Error loading branding, using defaults:",N)}})()},[]);const w=async A=>{A.preventDefault(),c(!0),f("");try{const N=await RJ.login(e,r);console.log("Login successful:",N.user),console.log("Token saved, navigating to dashboard..."),await new Promise(S=>setTimeout(S,100)),window.location.href="/dashboard"}catch(N){f(N.message||"Invalid email or password"),console.error("Login error:",N),c(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden transition-colors duration-500",style:{background:`linear-gradient(135deg, ${b.primaryColor}15 0%, ${b.secondaryColor}15 100%)`},children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob",style:{backgroundColor:`${b.primaryColor}30`}}),s.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000",style:{backgroundColor:`${b.secondaryColor}30`}}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000",style:{backgroundColor:`${b.primaryColor}20`}})]}),s.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[s.jsxs("div",{className:"text-center animate-fade-in-down",children:[b.logo?s.jsx("div",{className:`mx-auto mb-4 flex items-center justify-center ${b.logoSize==="small"?"h-12":b.logoSize==="large"?"h-32":"h-20"}`,children:s.jsx("img",{src:b.logo,alt:"Company Logo",className:`object-contain ${b.logoSize==="small"?"max-h-12":b.logoSize==="large"?"max-h-32":"max-h-20"}`})}):s.jsx("div",{className:"mx-auto h-16 w-16 rounded-xl flex items-center justify-center mb-4 shadow-lg transition-all duration-300",style:{background:`linear-gradient(135deg, ${b.primaryColor} 0%, ${b.secondaryColor} 100%)`},children:s.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:b.showCompanyName&&b.name?b.name:"Warehouse Management"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access your account"})]}),s.jsxs("form",{className:"mt-8 space-y-6 bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl border border-white/20 animate-fade-in-up",onSubmit:w,children:[d&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg animate-shake",children:d}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xp,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:A=>t(A.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"admin@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(BM,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:A=>n(A.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"••••••••"}),s.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:m?s.jsx(IM,{className:"h-5 w-5"}):s.jsx(Yp,{className:"h-5 w-5"})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:i,onChange:A=>a(A.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot password?"})})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:o?`linear-gradient(135deg, ${b.primaryColor} 0%, ${b.secondaryColor} 100%)`:`linear-gradient(135deg, ${b.primaryColor} 0%, ${b.secondaryColor} 100%)`,opacity:o?.7:1},children:o?"Signing in...":"Sign in"})}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Contact your administrator"})]})})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-yellow-800 font-medium mb-1",children:"Demo Credentials:"}),s.jsx("p",{className:"text-xs text-yellow-700",children:"Email: admin@warehouse.com"}),s.jsx("p",{className:"text-xs text-yellow-700",children:"Password: admin123"})]})]})]})},sre=()=>{const e=n0(),[t,r]=I.useState([]),[n,i]=I.useState(!0),[a,o]=I.useState(""),[c,d]=I.useState("all"),[f,m]=I.useState("all"),[g,b]=I.useState({total:0,totalAmount:0,paid:0,outstanding:0});I.useEffect(()=>{y()},[c,f,a]);const y=async()=>{try{i(!0);const N={};c!=="all"&&(N.status=c.toUpperCase()),f==="regular"?N.isWarehouseInvoice=!1:f==="warehouse"&&(N.isWarehouseInvoice=!0),a&&(N.search=a);const S=await Io.getInvoices(N),E=Array.isArray(S)?S:S.invoices||[];r(E),w(E)}catch(N){console.error("Load invoices error:",N)}finally{i(!1)}},w=N=>{const S=N.length,E=N.reduce((W,H)=>W+parseFloat(H.totalAmount||0),0),k=N.filter(W=>(W.paymentStatus||W.status)==="PAID").length,P=N.filter(W=>(W.paymentStatus||W.status)!=="PAID").reduce((W,H)=>W+parseFloat(H.totalAmount||0)-parseFloat(H.paidAmount||0),0);b({total:S,totalAmount:E,paid:k,outstanding:P})},A=N=>{const S={PENDING:"bg-yellow-100 text-yellow-800 border-yellow-300",PAID:"bg-green-100 text-green-800 border-green-300",PARTIAL:"bg-blue-100 text-blue-800 border-blue-300",OVERDUE:"bg-red-100 text-red-800 border-red-300",CANCELLED:"bg-gray-100 text-gray-800 border-gray-300"},E={PENDING:s.jsx(fu,{className:"h-4 w-4"}),PAID:s.jsx(bi,{className:"h-4 w-4"}),PARTIAL:s.jsx(Eo,{className:"h-4 w-4"}),OVERDUE:s.jsx(to,{className:"h-4 w-4"}),CANCELLED:s.jsx(to,{className:"h-4 w-4"})};return s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold border ${S[N]||S.PENDING}`,children:[E[N],N]})};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage billing and payment tracking"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Invoices"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:g.total})]}),s.jsx(eo,{className:"h-10 w-10 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:g.totalAmount.toFixed(3)}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"KWD"})]}),s.jsx(Eo,{className:"h-10 w-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Paid"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:g.paid}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Invoices"})]}),s.jsx(bi,{className:"h-10 w-10 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Outstanding"}),s.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:g.outstanding.toFixed(3)}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"KWD"})]}),s.jsx(fu,{className:"h-10 w-10 text-red-500"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by invoice number, client name...",value:a,onChange:N=>o(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dh,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:c,onChange:N=>d(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"partial",children:"Partial"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qy,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:f,onChange:N=>m(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"regular",children:"Regular Invoices"}),s.jsx("option",{value:"warehouse",children:"Warehouse Invoices"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?s.jsx("tr",{children:s.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading invoices..."})]})}):t.length>0?t.map(N=>{var E;const S=parseFloat(N.totalAmount)-parseFloat(N.paidAmount||0);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(eo,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-primary-600",children:N.invoiceNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(N.invoiceDate).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.clientName}),s.jsx("div",{className:"text-xs text-gray-500",children:N.clientPhone})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((E=N.shipment)==null?void 0:E.referenceId)||"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:[parseFloat(N.totalAmount).toFixed(3)," KWD"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:[parseFloat(N.paidAmount||0).toFixed(3)," KWD"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold",children:s.jsxs("span",{className:S>0?"text-red-600":"text-green-600",children:[S.toFixed(3)," KWD"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A(N.paymentStatus||N.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{onClick:()=>e(`/invoices/${N.id}`),className:"text-primary-600 hover:text-primary-900",children:"View Details →"})})]},N.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:"No invoices found"})})})]})})})]})},ore=({isOpen:e,onClose:t,invoice:r,onSuccess:n})=>{const i=parseFloat(r.totalAmount)-parseFloat(r.paidAmount||0),[a,o]=I.useState({amount:i.toFixed(3),paymentMethod:"CASH",transactionReference:"",receiptNumber:"",paymentDate:new Date().toISOString().split("T")[0],notes:""}),[c,d]=I.useState(!1),[f,m]=I.useState(""),g=async y=>{y.preventDefault();const w=parseFloat(a.amount);if(isNaN(w)||w<=0){m("Please enter a valid amount");return}if(w>i){m(`Amount cannot exceed balance due (${i.toFixed(3)} KWD)`);return}try{d(!0),m(""),await Io.recordPayment(r.id,{...a,amount:parseFloat(a.amount)});const A=parseFloat(a.amount),N=i-A;alert(`✅ PAYMENT RECORDED!

💰 Amount: ${A.toFixed(3)} KWD
📄 Method: ${a.paymentMethod}
📋 Invoice: ${r.invoiceNumber}

${N<=0?"✅ Invoice FULLY PAID!":`⚠️ Remaining Balance: ${N.toFixed(3)} KWD`}`),n(),t()}catch(A){m(A.message||"Failed to record payment")}finally{d(!1)}},b=i-parseFloat(a.amount||"0");return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Record Payment"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Invoice: ",r.invoiceNumber]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Pc,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"p-6 bg-blue-50 border-b",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Current Balance Due"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[i.toFixed(3)," KWD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"New Balance (After Payment)"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[b>=0?b.toFixed(3):"0.000"," KWD"]})]})]})}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[f&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:f}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payment Amount ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",step:"0.001",value:a.amount,onChange:y=>o({...a,amount:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0.000",required:!0,max:i,min:"0.001"}),s.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"KWD"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",i.toFixed(3)," KWD"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payment Method ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:a.paymentMethod,onChange:y=>o({...a,paymentMethod:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"CASH",children:"Cash"}),s.jsx("option",{value:"CARD",children:"Card"}),s.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),s.jsx("option",{value:"CHEQUE",children:"Cheque"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Reference"}),s.jsx("input",{type:"text",value:a.transactionReference,onChange:y=>o({...a,transactionReference:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Bank ref, card last 4 digits, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Number"}),s.jsx("input",{type:"text",value:a.receiptNumber,onChange:y=>o({...a,receiptNumber:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"RCP-001"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payment Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:a.paymentDate,onChange:y=>o({...a,paymentDate:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsx("textarea",{value:a.notes,onChange:y=>o({...a,notes:y.target.value}),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Additional payment details..."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Payment Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Invoice Total"}),s.jsxs("span",{className:"font-medium",children:[parseFloat(r.totalAmount).toFixed(3)," KWD"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Already Paid"}),s.jsxs("span",{className:"font-medium",children:[parseFloat(r.paidAmount||0).toFixed(3)," KWD"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-gray-600",children:"Current Payment"}),s.jsxs("span",{className:"font-bold text-green-600",children:[parseFloat(a.amount||"0").toFixed(3)," KWD"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Remaining Balance"}),s.jsxs("span",{className:"font-bold text-red-600",children:[b>=0?b.toFixed(3):"0.000"," KWD"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",disabled:c,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Recording...":"Record Payment"})]})]})]})}):null},lre="modulepreload",cre=function(e){return"/"+e},bC={},S2=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(d=>{if(d=cre(d),d in bC)return;bC[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":lre,f||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((b,y)=>{g.addEventListener("load",b),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};function Lr(e){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(e)}var io=Uint8Array,Xa=Uint16Array,g3=Int32Array,x3=new io([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y3=new io([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wC=new io([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rP=function(e,t){for(var r=new Xa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new g3(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},nP=rP(x3,2),ure=nP.b,Yv=nP.r;ure[28]=258,Yv[258]=28;var dre=rP(y3,0),NC=dre.r,Zv=new Xa(32768);for(var on=0;on<32768;++on){var Zl=(on&43690)>>1|(on&21845)<<1;Zl=(Zl&52428)>>2|(Zl&13107)<<2,Zl=(Zl&61680)>>4|(Zl&3855)<<4,Zv[on]=((Zl&65280)>>8|(Zl&255)<<8)>>1}var dh=function(e,t,r){for(var n=e.length,i=0,a=new Xa(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new Xa(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var c;if(r){c=new Xa(1<<t);var d=15-t;for(i=0;i<n;++i)if(e[i])for(var f=i<<4|e[i],m=t-e[i],g=o[e[i]-1]++<<m,b=g|(1<<m)-1;g<=b;++g)c[Zv[g]>>d]=f}else for(c=new Xa(n),i=0;i<n;++i)e[i]&&(c[i]=Zv[o[e[i]-1]++]>>15-e[i]);return c},Iu=new io(288);for(var on=0;on<144;++on)Iu[on]=8;for(var on=144;on<256;++on)Iu[on]=9;for(var on=256;on<280;++on)Iu[on]=7;for(var on=280;on<288;++on)Iu[on]=8;var jp=new io(32);for(var on=0;on<32;++on)jp[on]=5;var fre=dh(Iu,9,0),hre=dh(jp,5,0),iP=function(e){return(e+7)/8|0},mre=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new io(e.subarray(t,r))},al=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Hf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},E2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:sP,l:0};if(i==1){var o=new io(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(W,H){return W.f-H.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],f=0,m=1,g=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};m!=i-1;)c=r[r[f].f<r[g].f?f++:g++],d=r[f!=m&&r[f].f<r[g].f?f++:g++],r[m++]={s:-1,f:c.f+d.f,l:c,r:d};for(var b=a[0].s,n=1;n<i;++n)a[n].s>b&&(b=a[n].s);var y=new Xa(b+1),w=Jv(r[m-1],y,0);if(w>t){var n=0,A=0,N=w-t,S=1<<N;for(a.sort(function(H,$){return y[$.s]-y[H.s]||H.f-$.f});n<i;++n){var E=a[n].s;if(y[E]>t)A+=S-(1<<w-y[E]),y[E]=t;else break}for(A>>=N;A>0;){var k=a[n].s;y[k]<t?A-=1<<t-y[k]++-1:++n}for(;n>=0&&A;--n){var P=a[n].s;y[P]==t&&(--y[P],++A)}w=t}return{t:new io(y),l:w}},Jv=function(e,t,r){return e.s==-1?Math.max(Jv(e.l,t,r+1),Jv(e.r,t,r+1)):t[e.s]=r},AC=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Xa(++t),n=0,i=e[0],a=1,o=function(d){r[n++]=d},c=1;c<=t;++c)if(e[c]==i&&c!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[c]}return{c:r.subarray(0,n),n:t}},Vf=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},aP=function(e,t,r){var n=r.length,i=iP(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},CC=function(e,t,r,n,i,a,o,c,d,f,m){al(t,m++,r),++i[256];for(var g=E2(i,15),b=g.t,y=g.l,w=E2(a,15),A=w.t,N=w.l,S=AC(b),E=S.c,k=S.n,P=AC(A),W=P.c,H=P.n,$=new Xa(19),F=0;F<E.length;++F)++$[E[F]&31];for(var F=0;F<W.length;++F)++$[W[F]&31];for(var L=E2($,7),J=L.t,M=L.l,z=19;z>4&&!J[wC[z-1]];--z);var te=f+5<<3,V=Vf(i,Iu)+Vf(a,jp)+o,Z=Vf(i,b)+Vf(a,A)+o+14+3*z+Vf($,J)+2*$[16]+3*$[17]+7*$[18];if(d>=0&&te<=V&&te<=Z)return aP(t,m,e.subarray(d,d+f));var ye,ve,me,Ne;if(al(t,m,1+(Z<V)),m+=2,Z<V){ye=dh(b,y,0),ve=b,me=dh(A,N,0),Ne=A;var Ie=dh(J,M,0);al(t,m,k-257),al(t,m+5,H-1),al(t,m+10,z-4),m+=14;for(var F=0;F<z;++F)al(t,m+3*F,J[wC[F]]);m+=3*z;for(var je=[E,W],q=0;q<2;++q)for(var oe=je[q],F=0;F<oe.length;++F){var ne=oe[F]&31;al(t,m,Ie[ne]),m+=J[ne],ne>15&&(al(t,m,oe[F]>>5&127),m+=oe[F]>>12)}}else ye=fre,ve=Iu,me=hre,Ne=jp;for(var F=0;F<c;++F){var ge=n[F];if(ge>255){var ne=ge>>18&31;Hf(t,m,ye[ne+257]),m+=ve[ne+257],ne>7&&(al(t,m,ge>>23&31),m+=x3[ne]);var xe=ge&31;Hf(t,m,me[xe]),m+=Ne[xe],xe>3&&(Hf(t,m,ge>>5&8191),m+=y3[xe])}else Hf(t,m,ye[ge]),m+=ve[ge]}return Hf(t,m,ye[256]),m+ve[256]},pre=new g3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sP=new io(0),gre=function(e,t,r,n,i,a){var o=a.z||e.length,c=new io(n+o+5*(1+Math.ceil(o/7e3))+i),d=c.subarray(n,c.length-i),f=a.l,m=(a.r||0)&7;if(t){m&&(d[0]=a.r>>3);for(var g=pre[t-1],b=g>>13,y=g&8191,w=(1<<r)-1,A=a.p||new Xa(32768),N=a.h||new Xa(w+1),S=Math.ceil(r/3),E=2*S,k=function(Re){return(e[Re]^e[Re+1]<<S^e[Re+2]<<E)&w},P=new g3(25e3),W=new Xa(288),H=new Xa(32),$=0,F=0,L=a.i||0,J=0,M=a.w||0,z=0;L+2<o;++L){var te=k(L),V=L&32767,Z=N[te];if(A[V]=Z,N[te]=V,M<=L){var ye=o-L;if(($>7e3||J>24576)&&(ye>423||!f)){m=CC(e,d,0,P,W,H,F,J,z,L-z,m),J=$=F=0,z=L;for(var ve=0;ve<286;++ve)W[ve]=0;for(var ve=0;ve<30;++ve)H[ve]=0}var me=2,Ne=0,Ie=y,je=V-Z&32767;if(ye>2&&te==k(L-je))for(var q=Math.min(b,ye)-1,oe=Math.min(32767,L),ne=Math.min(258,ye);je<=oe&&--Ie&&V!=Z;){if(e[L+me]==e[L+me-je]){for(var ge=0;ge<ne&&e[L+ge]==e[L+ge-je];++ge);if(ge>me){if(me=ge,Ne=je,ge>q)break;for(var xe=Math.min(je,ge-2),_e=0,ve=0;ve<xe;++ve){var he=L-je+ve&32767,pe=A[he],Ce=he-pe&32767;Ce>_e&&(_e=Ce,Z=he)}}}V=Z,Z=A[V],je+=V-Z&32767}if(Ne){P[J++]=268435456|Yv[me]<<18|NC[Ne];var Ee=Yv[me]&31,Te=NC[Ne]&31;F+=x3[Ee]+y3[Te],++W[257+Ee],++H[Te],M=L+me,++$}else P[J++]=e[L],++W[e[L]]}}for(L=Math.max(L,M);L<o;++L)P[J++]=e[L],++W[e[L]];m=CC(e,d,f,P,W,H,F,J,z,L-z,m),f||(a.r=m&7|d[m/8|0]<<3,m-=7,a.h=N,a.p=A,a.i=L,a.w=M)}else{for(var L=a.w||0;L<o+f;L+=65535){var ze=L+65535;ze>=o&&(d[m/8|0]=f,ze=o),m=aP(d,m+1,e.subarray(L,ze))}a.i=o}return mre(c,0,n+iP(m)+i)},oP=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var c=Math.min(o+2655,a);o<c;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},xre=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new io(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return gre(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},lP=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},yre=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=oP();i.p(t.dictionary),lP(e,2,i.d())}};function Qv(e,t){t||(t={});var r=oP();r.p(e);var n=xre(e,t,t.dictionary?6:2,4);return yre(n,t),lP(n,n.length-4,r.d()),n}var vre=typeof TextDecoder<"u"&&new TextDecoder,bre=0;try{vre.decode(sP,{stream:!0}),bre=1}catch{}function wre(e){if(Array.isArray(e))return e}function Nre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,c=[],d=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function jC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Are(e,t){if(e){if(typeof e=="string")return jC(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jC(e,t):void 0}}function Cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SC(e,t){return wre(e)||Nre(e,t)||Are(e,t)||Cre()}function EC(e,t="utf8"){return new TextDecoder(t).decode(e)}const jre=new TextEncoder;function Sre(e){return jre.encode(e)}const Ere=1024*8,kre=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),k2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class v3{constructor(t=Ere,r={}){kr(this,"buffer");kr(this,"byteLength");kr(this,"byteOffset");kr(this,"length");kr(this,"offset");kr(this,"lastWrittenByte");kr(this,"littleEndian");kr(this,"_data");kr(this,"_mark");kr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof v3)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=k2[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===kre&&r!=="uint8"&&r!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+n));c.reverse();const d=new k2[r](c.buffer);return this.offset+=n,d.reverse(),d}const o=new k2[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return EC(this.readBytes(t))}decodeText(t=1,r="utf8"){return EC(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Sre(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function gf(e){let t=e.length;for(;--t>=0;)e[t]=0}const Tre=3,_re=258,cP=29,Ire=256,Pre=Ire+1+cP,uP=30,Ore=512,Rre=new Array((Pre+2)*2);gf(Rre);const Dre=new Array(uP*2);gf(Dre);const Lre=new Array(Ore);gf(Lre);const Mre=new Array(_re-Tre+1);gf(Mre);const Bre=new Array(cP);gf(Bre);const Fre=new Array(uP);gf(Fre);const Ure=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var eb=Ure;const Wre=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},zre=new Uint32Array(Wre()),$re=(e,t,r,n)=>{const i=zre,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var yo=$re,tb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},dP={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const qre=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Hre=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)qre(r,n)&&(e[n]=r[n])}}return e},Vre=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},fP={assign:Hre,flattenChunks:Vre};let hP=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hP=!1}const Yh=new Uint8Array(256);for(let e=0;e<256;e++)Yh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Yh[254]=Yh[254]=1;var Gre=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,c=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(c),a=0,i=0;a<c;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const Kre=(e,t)=>{if(t<65534&&e.subarray&&hP)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Xre=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let c=Yh[o];if(c>4){a[i++]=65533,n+=c-1;continue}for(o&=c===2?31:c===3?15:7;c>1&&n<r;)o=o<<6|e[n++]&63,c--;if(c>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return Kre(a,i)},Yre=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Yh[e[r]]>t?r:t},rb={string2buf:Gre,buf2string:Xre,utf8border:Yre};function Zre(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Jre=Zre;const E1=16209,Qre=16191;var ene=function(t,r){let n,i,a,o,c,d,f,m,g,b,y,w,A,N,S,E,k,P,W,H,$,F,L,J;const M=t.state;n=t.next_in,L=t.input,i=n+(t.avail_in-5),a=t.next_out,J=t.output,o=a-(r-t.avail_out),c=a+(t.avail_out-257),d=M.dmax,f=M.wsize,m=M.whave,g=M.wnext,b=M.window,y=M.hold,w=M.bits,A=M.lencode,N=M.distcode,S=(1<<M.lenbits)-1,E=(1<<M.distbits)-1;e:do{w<15&&(y+=L[n++]<<w,w+=8,y+=L[n++]<<w,w+=8),k=A[y&S];t:for(;;){if(P=k>>>24,y>>>=P,w-=P,P=k>>>16&255,P===0)J[a++]=k&65535;else if(P&16){W=k&65535,P&=15,P&&(w<P&&(y+=L[n++]<<w,w+=8),W+=y&(1<<P)-1,y>>>=P,w-=P),w<15&&(y+=L[n++]<<w,w+=8,y+=L[n++]<<w,w+=8),k=N[y&E];r:for(;;){if(P=k>>>24,y>>>=P,w-=P,P=k>>>16&255,P&16){if(H=k&65535,P&=15,w<P&&(y+=L[n++]<<w,w+=8,w<P&&(y+=L[n++]<<w,w+=8)),H+=y&(1<<P)-1,H>d){t.msg="invalid distance too far back",M.mode=E1;break e}if(y>>>=P,w-=P,P=a-o,H>P){if(P=H-P,P>m&&M.sane){t.msg="invalid distance too far back",M.mode=E1;break e}if($=0,F=b,g===0){if($+=f-P,P<W){W-=P;do J[a++]=b[$++];while(--P);$=a-H,F=J}}else if(g<P){if($+=f+g-P,P-=g,P<W){W-=P;do J[a++]=b[$++];while(--P);if($=0,g<W){P=g,W-=P;do J[a++]=b[$++];while(--P);$=a-H,F=J}}}else if($+=g-P,P<W){W-=P;do J[a++]=b[$++];while(--P);$=a-H,F=J}for(;W>2;)J[a++]=F[$++],J[a++]=F[$++],J[a++]=F[$++],W-=3;W&&(J[a++]=F[$++],W>1&&(J[a++]=F[$++]))}else{$=a-H;do J[a++]=J[$++],J[a++]=J[$++],J[a++]=J[$++],W-=3;while(W>2);W&&(J[a++]=J[$++],W>1&&(J[a++]=J[$++]))}}else if(P&64){t.msg="invalid distance code",M.mode=E1;break e}else{k=N[(k&65535)+(y&(1<<P)-1)];continue r}break}}else if(P&64)if(P&32){M.mode=Qre;break e}else{t.msg="invalid literal/length code",M.mode=E1;break e}else{k=A[(k&65535)+(y&(1<<P)-1)];continue t}break}}while(n<i&&a<c);W=w>>3,n-=W,w-=W<<3,y&=(1<<w)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<c?257+(c-a):257-(a-c),M.hold=y,M.bits=w};const Yu=15,kC=852,TC=592,_C=0,T2=1,IC=2,tne=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rne=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nne=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ine=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ane=(e,t,r,n,i,a,o,c)=>{const d=c.bits;let f=0,m=0,g=0,b=0,y=0,w=0,A=0,N=0,S=0,E=0,k,P,W,H,$,F=null,L;const J=new Uint16Array(Yu+1),M=new Uint16Array(Yu+1);let z=null,te,V,Z;for(f=0;f<=Yu;f++)J[f]=0;for(m=0;m<n;m++)J[t[r+m]]++;for(y=d,b=Yu;b>=1&&J[b]===0;b--);if(y>b&&(y=b),b===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,c.bits=1,0;for(g=1;g<b&&J[g]===0;g++);for(y<g&&(y=g),N=1,f=1;f<=Yu;f++)if(N<<=1,N-=J[f],N<0)return-1;if(N>0&&(e===_C||b!==1))return-1;for(M[1]=0,f=1;f<Yu;f++)M[f+1]=M[f]+J[f];for(m=0;m<n;m++)t[r+m]!==0&&(o[M[t[r+m]]++]=m);if(e===_C?(F=z=o,L=20):e===T2?(F=tne,z=rne,L=257):(F=nne,z=ine,L=0),E=0,m=0,f=g,$=a,w=y,A=0,W=-1,S=1<<y,H=S-1,e===T2&&S>kC||e===IC&&S>TC)return 1;for(;;){te=f-A,o[m]+1<L?(V=0,Z=o[m]):o[m]>=L?(V=z[o[m]-L],Z=F[o[m]-L]):(V=96,Z=0),k=1<<f-A,P=1<<w,g=P;do P-=k,i[$+(E>>A)+P]=te<<24|V<<16|Z|0;while(P!==0);for(k=1<<f-1;E&k;)k>>=1;if(k!==0?(E&=k-1,E+=k):E=0,m++,--J[f]===0){if(f===b)break;f=t[r+o[m]]}if(f>y&&(E&H)!==W){for(A===0&&(A=y),$+=g,w=f-A,N=1<<w;w+A<b&&(N-=J[w+A],!(N<=0));)w++,N<<=1;if(S+=1<<w,e===T2&&S>kC||e===IC&&S>TC)return 1;W=E&H,i[W]=y<<24|w<<16|$-a|0}}return E!==0&&(i[$+E]=f-A<<24|64<<16|0),c.bits=y,0};var fh=ane;const sne=0,mP=1,pP=2,{Z_FINISH:PC,Z_BLOCK:one,Z_TREES:k1,Z_OK:Pu,Z_STREAM_END:lne,Z_NEED_DICT:cne,Z_STREAM_ERROR:Ts,Z_DATA_ERROR:gP,Z_MEM_ERROR:xP,Z_BUF_ERROR:une,Z_DEFLATED:OC}=dP,Yg=16180,RC=16181,DC=16182,LC=16183,MC=16184,BC=16185,FC=16186,UC=16187,WC=16188,zC=16189,Sp=16190,sl=16191,_2=16192,$C=16193,I2=16194,qC=16195,HC=16196,VC=16197,GC=16198,T1=16199,_1=16200,KC=16201,XC=16202,YC=16203,ZC=16204,JC=16205,P2=16206,QC=16207,ej=16208,fn=16209,yP=16210,vP=16211,dne=852,fne=592,hne=15,mne=hne,tj=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function pne(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Yg||t.mode>vP?1:0},bP=e=>{if(Wu(e))return Ts;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Yg,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(dne),t.distcode=t.distdyn=new Int32Array(fne),t.sane=1,t.back=-1,Pu},wP=e=>{if(Wu(e))return Ts;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bP(e)},NP=(e,t)=>{let r;if(Wu(e))return Ts;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ts:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,wP(e))},AP=(e,t)=>{if(!e)return Ts;const r=new pne;e.state=r,r.strm=e,r.window=null,r.mode=Yg;const n=NP(e,t);return n!==Pu&&(e.state=null),n},gne=e=>AP(e,mne);let rj=!0,O2,R2;const xne=e=>{if(rj){O2=new Int32Array(512),R2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(fh(mP,e.lens,0,288,O2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;fh(pP,e.lens,0,32,R2,0,e.work,{bits:5}),rj=!1}e.lencode=O2,e.lenbits=9,e.distcode=R2,e.distbits=5},CP=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},yne=(e,t)=>{let r,n,i,a,o,c,d,f,m,g,b,y,w,A,N=0,S,E,k,P,W,H,$,F;const L=new Uint8Array(4);let J,M;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wu(e)||!e.output||!e.input&&e.avail_in!==0)return Ts;r=e.state,r.mode===sl&&(r.mode=_2),o=e.next_out,i=e.output,d=e.avail_out,a=e.next_in,n=e.input,c=e.avail_in,f=r.hold,m=r.bits,g=c,b=d,F=Pu;e:for(;;)switch(r.mode){case Yg:if(r.wrap===0){r.mode=_2;break}for(;m<16;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,L[0]=f&255,L[1]=f>>>8&255,r.check=yo(r.check,L,2,0),f=0,m=0,r.mode=RC;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=fn;break}if((f&15)!==OC){e.msg="unknown compression method",r.mode=fn;break}if(f>>>=4,m-=4,$=(f&15)+8,r.wbits===0&&(r.wbits=$),$>15||$>r.wbits){e.msg="invalid window size",r.mode=fn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?zC:sl,f=0,m=0;break;case RC:for(;m<16;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(r.flags=f,(r.flags&255)!==OC){e.msg="unknown compression method",r.mode=fn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=fn;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,r.check=yo(r.check,L,2,0)),f=0,m=0,r.mode=DC;case DC:for(;m<32;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,L[2]=f>>>16&255,L[3]=f>>>24&255,r.check=yo(r.check,L,4,0)),f=0,m=0,r.mode=LC;case LC:for(;m<16;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,r.check=yo(r.check,L,2,0)),f=0,m=0,r.mode=MC;case MC:if(r.flags&1024){for(;m<16;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(L[0]=f&255,L[1]=f>>>8&255,r.check=yo(r.check,L,2,0)),f=0,m=0}else r.head&&(r.head.extra=null);r.mode=BC;case BC:if(r.flags&1024&&(y=r.length,y>c&&(y=c),y&&(r.head&&($=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+y),$)),r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,y,a)),c-=y,a+=y,r.length-=y),r.length))break e;r.length=0,r.mode=FC;case FC:if(r.flags&2048){if(c===0)break e;y=0;do $=n[a+y++],r.head&&$&&r.length<65536&&(r.head.name+=String.fromCharCode($));while($&&y<c);if(r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,y,a)),c-=y,a+=y,$)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=UC;case UC:if(r.flags&4096){if(c===0)break e;y=0;do $=n[a+y++],r.head&&$&&r.length<65536&&(r.head.comment+=String.fromCharCode($));while($&&y<c);if(r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,y,a)),c-=y,a+=y,$)break e}else r.head&&(r.head.comment=null);r.mode=WC;case WC:if(r.flags&512){for(;m<16;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=fn;break}f=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=sl;break;case zC:for(;m<32;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}e.adler=r.check=tj(f),f=0,m=0,r.mode=Sp;case Sp:if(r.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=c,r.hold=f,r.bits=m,cne;e.adler=r.check=1,r.mode=sl;case sl:if(t===one||t===k1)break e;case _2:if(r.last){f>>>=m&7,m-=m&7,r.mode=P2;break}for(;m<3;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}switch(r.last=f&1,f>>>=1,m-=1,f&3){case 0:r.mode=$C;break;case 1:if(xne(r),r.mode=T1,t===k1){f>>>=2,m-=2;break e}break;case 2:r.mode=HC;break;case 3:e.msg="invalid block type",r.mode=fn}f>>>=2,m-=2;break;case $C:for(f>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=fn;break}if(r.length=f&65535,f=0,m=0,r.mode=I2,t===k1)break e;case I2:r.mode=qC;case qC:if(y=r.length,y){if(y>c&&(y=c),y>d&&(y=d),y===0)break e;i.set(n.subarray(a,a+y),o),c-=y,a+=y,d-=y,o+=y,r.length-=y;break}r.mode=sl;break;case HC:for(;m<14;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(r.nlen=(f&31)+257,f>>>=5,m-=5,r.ndist=(f&31)+1,f>>>=5,m-=5,r.ncode=(f&15)+4,f>>>=4,m-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=fn;break}r.have=0,r.mode=VC;case VC:for(;r.have<r.ncode;){for(;m<3;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}r.lens[z[r.have++]]=f&7,f>>>=3,m-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,J={bits:r.lenbits},F=fh(sne,r.lens,0,19,r.lencode,0,r.work,J),r.lenbits=J.bits,F){e.msg="invalid code lengths set",r.mode=fn;break}r.have=0,r.mode=GC;case GC:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[f&(1<<r.lenbits)-1],S=N>>>24,E=N>>>16&255,k=N&65535,!(S<=m);){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(k<16)f>>>=S,m-=S,r.lens[r.have++]=k;else{if(k===16){for(M=S+2;m<M;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(f>>>=S,m-=S,r.have===0){e.msg="invalid bit length repeat",r.mode=fn;break}$=r.lens[r.have-1],y=3+(f&3),f>>>=2,m-=2}else if(k===17){for(M=S+3;m<M;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}f>>>=S,m-=S,$=0,y=3+(f&7),f>>>=3,m-=3}else{for(M=S+7;m<M;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}f>>>=S,m-=S,$=0,y=11+(f&127),f>>>=7,m-=7}if(r.have+y>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=fn;break}for(;y--;)r.lens[r.have++]=$}}if(r.mode===fn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=fn;break}if(r.lenbits=9,J={bits:r.lenbits},F=fh(mP,r.lens,0,r.nlen,r.lencode,0,r.work,J),r.lenbits=J.bits,F){e.msg="invalid literal/lengths set",r.mode=fn;break}if(r.distbits=6,r.distcode=r.distdyn,J={bits:r.distbits},F=fh(pP,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,J),r.distbits=J.bits,F){e.msg="invalid distances set",r.mode=fn;break}if(r.mode=T1,t===k1)break e;case T1:r.mode=_1;case _1:if(c>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=c,r.hold=f,r.bits=m,ene(e,b),o=e.next_out,i=e.output,d=e.avail_out,a=e.next_in,n=e.input,c=e.avail_in,f=r.hold,m=r.bits,r.mode===sl&&(r.back=-1);break}for(r.back=0;N=r.lencode[f&(1<<r.lenbits)-1],S=N>>>24,E=N>>>16&255,k=N&65535,!(S<=m);){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(E&&!(E&240)){for(P=S,W=E,H=k;N=r.lencode[H+((f&(1<<P+W)-1)>>P)],S=N>>>24,E=N>>>16&255,k=N&65535,!(P+S<=m);){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}f>>>=P,m-=P,r.back+=P}if(f>>>=S,m-=S,r.back+=S,r.length=k,E===0){r.mode=JC;break}if(E&32){r.back=-1,r.mode=sl;break}if(E&64){e.msg="invalid literal/length code",r.mode=fn;break}r.extra=E&15,r.mode=KC;case KC:if(r.extra){for(M=r.extra;m<M;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=XC;case XC:for(;N=r.distcode[f&(1<<r.distbits)-1],S=N>>>24,E=N>>>16&255,k=N&65535,!(S<=m);){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(!(E&240)){for(P=S,W=E,H=k;N=r.distcode[H+((f&(1<<P+W)-1)>>P)],S=N>>>24,E=N>>>16&255,k=N&65535,!(P+S<=m);){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}f>>>=P,m-=P,r.back+=P}if(f>>>=S,m-=S,r.back+=S,E&64){e.msg="invalid distance code",r.mode=fn;break}r.offset=k,r.extra=E&15,r.mode=YC;case YC:if(r.extra){for(M=r.extra;m<M;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=fn;break}r.mode=ZC;case ZC:if(d===0)break e;if(y=b-d,r.offset>y){if(y=r.offset-y,y>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=fn;break}y>r.wnext?(y-=r.wnext,w=r.wsize-y):w=r.wnext-y,y>r.length&&(y=r.length),A=r.window}else A=i,w=o-r.offset,y=r.length;y>d&&(y=d),d-=y,r.length-=y;do i[o++]=A[w++];while(--y);r.length===0&&(r.mode=_1);break;case JC:if(d===0)break e;i[o++]=r.length,d--,r.mode=_1;break;case P2:if(r.wrap){for(;m<32;){if(c===0)break e;c--,f|=n[a++]<<m,m+=8}if(b-=d,e.total_out+=b,r.total+=b,r.wrap&4&&b&&(e.adler=r.check=r.flags?yo(r.check,i,b,o-b):eb(r.check,i,b,o-b)),b=d,r.wrap&4&&(r.flags?f:tj(f))!==r.check){e.msg="incorrect data check",r.mode=fn;break}f=0,m=0}r.mode=QC;case QC:if(r.wrap&&r.flags){for(;m<32;){if(c===0)break e;c--,f+=n[a++]<<m,m+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=fn;break}f=0,m=0}r.mode=ej;case ej:F=lne;break e;case fn:F=gP;break e;case yP:return xP;case vP:default:return Ts}return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=c,r.hold=f,r.bits=m,(r.wsize||b!==e.avail_out&&r.mode<fn&&(r.mode<P2||t!==PC))&&CP(e,e.output,e.next_out,b-e.avail_out),g-=e.avail_in,b-=e.avail_out,e.total_in+=g,e.total_out+=b,r.total+=b,r.wrap&4&&b&&(e.adler=r.check=r.flags?yo(r.check,i,b,e.next_out-b):eb(r.check,i,b,e.next_out-b)),e.data_type=r.bits+(r.last?64:0)+(r.mode===sl?128:0)+(r.mode===T1||r.mode===I2?256:0),(g===0&&b===0||t===PC)&&F===Pu&&(F=une),F},vne=e=>{if(Wu(e))return Ts;let t=e.state;return t.window&&(t.window=null),e.state=null,Pu},bne=(e,t)=>{if(Wu(e))return Ts;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Pu):Ts},wne=(e,t)=>{const r=t.length;let n,i,a;return Wu(e)||(n=e.state,n.wrap!==0&&n.mode!==Sp)?Ts:n.mode===Sp&&(i=1,i=eb(i,t,r,0),i!==n.check)?gP:(a=CP(e,t,r,r),a?(n.mode=yP,xP):(n.havedict=1,Pu))};var Nne=wP,Ane=NP,Cne=bP,jne=gne,Sne=AP,Ene=yne,kne=vne,Tne=bne,_ne=wne,Ine="pako inflate (from Nodeca project)",ul={inflateReset:Nne,inflateReset2:Ane,inflateResetKeep:Cne,inflateInit:jne,inflateInit2:Sne,inflate:Ene,inflateEnd:kne,inflateGetHeader:Tne,inflateSetDictionary:_ne,inflateInfo:Ine};function Pne(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var One=Pne;const jP=Object.prototype.toString,{Z_NO_FLUSH:Rne,Z_FINISH:Dne,Z_OK:Zh,Z_STREAM_END:D2,Z_NEED_DICT:L2,Z_STREAM_ERROR:Lne,Z_DATA_ERROR:nj,Z_MEM_ERROR:Mne}=dP;function N0(e){this.options=fP.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jre,this.strm.avail_out=0;let r=ul.inflateInit2(this.strm,t.windowBits);if(r!==Zh)throw new Error(tb[r]);if(this.header=new One,ul.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=rb.string2buf(t.dictionary):jP.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ul.inflateSetDictionary(this.strm,t.dictionary),r!==Zh)))throw new Error(tb[r])}N0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,c;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Dne:Rne,jP.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=ul.inflate(r,o),a===L2&&i&&(a=ul.inflateSetDictionary(r,i),a===Zh?a=ul.inflate(r,o):a===nj&&(a=L2));r.avail_in>0&&a===D2&&r.state.wrap>0&&e[r.next_in]!==0;)ul.inflateReset(r),a=ul.inflate(r,o);switch(a){case Lne:case nj:case L2:case Mne:return this.onEnd(a),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||a===D2))if(this.options.to==="string"){let d=rb.utf8border(r.output,r.next_out),f=r.next_out-d,m=rb.buf2string(r.output,d);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(d,d+f),0),this.onData(m)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Zh&&c===0)){if(a===D2)return a=ul.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};N0.prototype.onData=function(e){this.chunks.push(e)};N0.prototype.onEnd=function(e){e===Zh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fP.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Bne(e,t){const r=new N0(t);if(r.push(e),r.err)throw r.msg||tb[r.err];return r.result}var Fne=N0,Une=Bne,Wne={Inflate:Fne,inflate:Une};const{Inflate:zne,inflate:$ne}=Wne;var ij=zne,qne=$ne;const SP=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;SP[e]=t}const aj=4294967295;function Hne(e,t,r){let n=e;for(let i=0;i<r;i++)n=SP[(n^t[i])&255]^n>>>8;return n}function Vne(e,t){return(Hne(aj,e,t)^aj)>>>0}function sj(e,t,r){const n=e.readUint32(),i=Vne(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function EP(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function kP(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function TP(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function _P(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function IP(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+Gne(t[a-i],r[a],r[a-i])&255}}function Gne(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}function Kne(e,t,r,n,i,a){switch(e){case 0:EP(t,r,i);break;case 1:kP(t,r,i,a);break;case 2:TP(t,r,n,i);break;case 3:_P(t,r,n,i,a);break;case 4:IP(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Xne=new Uint16Array([255]),Yne=new Uint8Array(Xne.buffer),Zne=Yne[0]===255;function Jne(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*i,d=new Uint8Array(n*r*c);let f=0;for(let m=0;m<7;m++){const g=o[m],b=Math.ceil((r-g.x)/g.xStep),y=Math.ceil((n-g.y)/g.yStep);if(b<=0||y<=0)continue;const w=b*c,A=new Uint8Array(w);for(let N=0;N<y;N++){const S=t[f++],E=t.subarray(f,f+w);f+=w;const k=new Uint8Array(w);Kne(S,E,k,A,w,c),A.set(k);for(let P=0;P<b;P++){const W=g.x+P*g.xStep,H=g.y+N*g.yStep;if(!(W>=r||H>=n))for(let $=0;$<c;$++)d[(H*r+W)*c+$]=k[P*c+$]}}}if(a===16){const m=new Uint16Array(d.buffer);if(Zne)for(let g=0;g<m.length;g++)m[g]=Qne(m[g]);return m}else return d}function Qne(e){return(e&255)<<8|e>>8&255}const eie=new Uint16Array([255]),tie=new Uint8Array(eie.buffer),rie=tie[0]===255,nie=new Uint8Array(0);function oj(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,c=Math.ceil(a/8*i*r),d=new Uint8Array(n*c);let f=nie,m=0,g,b;for(let y=0;y<n;y++){switch(g=t.subarray(m+1,m+1+c),b=d.subarray(y*c,(y+1)*c),t[m]){case 0:EP(g,b,c);break;case 1:kP(g,b,c,o);break;case 2:TP(g,b,f,c);break;case 3:_P(g,b,f,c,o);break;case 4:IP(g,b,f,c,o);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}f=b,m+=c+1}if(a===16){const y=new Uint16Array(d.buffer);if(rie)for(let w=0;w<y.length;w++)y[w]=iie(y[w]);return y}else return d}function iie(e){return(e&255)<<8|e>>8&255}const J1=Uint8Array.of(137,80,78,71,13,10,26,10);function lj(e){if(!aie(e.readBytes(J1.length)))throw new Error("wrong PNG signature")}function aie(e){if(e.length<J1.length)return!1;for(let t=0;t<J1.length;t++)if(e[t]!==J1[t])return!1;return!0}const sie="tEXt",oie=0,PP=new TextDecoder("latin1");function lie(e){if(uie(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const cie=/^[\u0000-\u00FF]*$/;function uie(e){if(!cie.test(e))throw new Error("invalid latin1 text")}function die(e,t,r){const n=OP(t);e[n]=fie(t,r-n.length-1)}function OP(e){for(e.mark();e.readByte()!==oie;);const t=e.offset;e.reset();const r=PP.decode(e.readBytes(t-e.offset-1));return e.skip(1),lie(r),r}function fie(e,t){return PP.decode(e.readBytes(t))}const $a={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},M2={UNKNOWN:-1,DEFLATE:0},cj={UNKNOWN:-1,ADAPTIVE:0},B2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},I1={NONE:0,BACKGROUND:1,PREVIOUS:2},F2={SOURCE:0,OVER:1};class hie extends v3{constructor(r,n={}){super(r);kr(this,"_checkCrc");kr(this,"_inflator");kr(this,"_png");kr(this,"_apng");kr(this,"_end");kr(this,"_hasPalette");kr(this,"_palette");kr(this,"_hasTransparency");kr(this,"_transparency");kr(this,"_compressionMethod");kr(this,"_filterMethod");kr(this,"_interlaceMethod");kr(this,"_colorType");kr(this,"_isAnimated");kr(this,"_numberOfFrames");kr(this,"_numberOfPlays");kr(this,"_frames");kr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new ij,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=M2.UNKNOWN,this._filterMethod=cj.UNKNOWN,this._interlaceMethod=B2.UNKNOWN,this._colorType=$a.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(lj(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(lj(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case sie:die(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?sj(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?sj(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=mie(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case $a.GREYSCALE:i=1;break;case $a.TRUECOLOUR:i=3;break;case $a.INDEXED_COLOUR:i=1;break;case $a.GREYSCALE_ALPHA:i=2;break;case $a.TRUECOLOUR_ALPHA:i=4;break;case $a.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==M2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case $a.GREYSCALE:case $a.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case $a.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case $a.UNKNOWN:case $a.GREYSCALE_ALPHA:case $a.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=OP(this),i=this.readUint8();if(i!==M2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:qne(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=oj({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case I1.NONE:break;case I1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*r.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)i.data[c+d]=0}break;case I1.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,c)=>{const d=((o+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,f=(o*n.width+c)*this._png.channels;return{index:d,frameIndex:f}};switch(n.blendOp){case F2.SOURCE:for(let o=0;o<n.height;o++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:f}=a(o,c);for(let m=0;m<this._png.channels;m++)r.data[d+m]=n.data[f+m]}break;case F2.OVER:for(let o=0;o<n.height;o++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:f}=a(o,c);for(let m=0;m<this._png.channels;m++){const g=n.data[f+this._png.channels-1]/i,b=m%(this._png.channels-1)===0?1:n.data[f+m],y=Math.floor(g*b+(1-g)*r.data[d+m]);r.data[d+m]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==cj.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===B2.NO_INTERLACE)this._png.data=oj({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===B2.ADAM7)this._png.data=Jne({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:I1.NONE,blendOp:F2.SOURCE,data:r}),this._inflator=new ij,this._writingDataChunks=!1}}function mie(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var uj;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(uj||(uj={}));function pie(e,t){return new hie(e,t).decode()}var Yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function U2(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var Vr={log:U2,warn:function(e){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):U2.call(null,arguments))},error:function(e){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):U2(e))}};function W2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){tu(n.response,t,r)},n.onerror=function(){Vr.error("could not download file")},n.send()}function dj(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function P1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var tu=Yt.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Yt.URL||Yt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?dj(i.href)?W2(e,t,r):P1(i,i.target="_blank"):P1(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){P1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(dj(e))W2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){P1(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Lr(a)!=="object"&&(Vr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return W2(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(Yt.HTMLElement)||Yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},c.readAsDataURL(e)}else{var d=Yt.URL||Yt.webkitURL,f=d.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function RP(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+c+d+f}}var Q1=Yt.atob.bind(Yt),fj=Yt.btoa.bind(Yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function z2(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Gi(r,n,i,a,t[0],7,-680876936),a=Gi(a,r,n,i,t[1],12,-389564586),i=Gi(i,a,r,n,t[2],17,606105819),n=Gi(n,i,a,r,t[3],22,-1044525330),r=Gi(r,n,i,a,t[4],7,-176418897),a=Gi(a,r,n,i,t[5],12,1200080426),i=Gi(i,a,r,n,t[6],17,-1473231341),n=Gi(n,i,a,r,t[7],22,-45705983),r=Gi(r,n,i,a,t[8],7,1770035416),a=Gi(a,r,n,i,t[9],12,-1958414417),i=Gi(i,a,r,n,t[10],17,-42063),n=Gi(n,i,a,r,t[11],22,-1990404162),r=Gi(r,n,i,a,t[12],7,1804603682),a=Gi(a,r,n,i,t[13],12,-40341101),i=Gi(i,a,r,n,t[14],17,-1502002290),r=Ki(r,n=Gi(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Ki(a,r,n,i,t[6],9,-1069501632),i=Ki(i,a,r,n,t[11],14,643717713),n=Ki(n,i,a,r,t[0],20,-373897302),r=Ki(r,n,i,a,t[5],5,-701558691),a=Ki(a,r,n,i,t[10],9,38016083),i=Ki(i,a,r,n,t[15],14,-660478335),n=Ki(n,i,a,r,t[4],20,-405537848),r=Ki(r,n,i,a,t[9],5,568446438),a=Ki(a,r,n,i,t[14],9,-1019803690),i=Ki(i,a,r,n,t[3],14,-187363961),n=Ki(n,i,a,r,t[8],20,1163531501),r=Ki(r,n,i,a,t[13],5,-1444681467),a=Ki(a,r,n,i,t[2],9,-51403784),i=Ki(i,a,r,n,t[7],14,1735328473),r=Xi(r,n=Ki(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Xi(a,r,n,i,t[8],11,-2022574463),i=Xi(i,a,r,n,t[11],16,1839030562),n=Xi(n,i,a,r,t[14],23,-35309556),r=Xi(r,n,i,a,t[1],4,-1530992060),a=Xi(a,r,n,i,t[4],11,1272893353),i=Xi(i,a,r,n,t[7],16,-155497632),n=Xi(n,i,a,r,t[10],23,-1094730640),r=Xi(r,n,i,a,t[13],4,681279174),a=Xi(a,r,n,i,t[0],11,-358537222),i=Xi(i,a,r,n,t[3],16,-722521979),n=Xi(n,i,a,r,t[6],23,76029189),r=Xi(r,n,i,a,t[9],4,-640364487),a=Xi(a,r,n,i,t[12],11,-421815835),i=Xi(i,a,r,n,t[15],16,530742520),r=Yi(r,n=Xi(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Yi(a,r,n,i,t[7],10,1126891415),i=Yi(i,a,r,n,t[14],15,-1416354905),n=Yi(n,i,a,r,t[5],21,-57434055),r=Yi(r,n,i,a,t[12],6,1700485571),a=Yi(a,r,n,i,t[3],10,-1894986606),i=Yi(i,a,r,n,t[10],15,-1051523),n=Yi(n,i,a,r,t[1],21,-2054922799),r=Yi(r,n,i,a,t[8],6,1873313359),a=Yi(a,r,n,i,t[15],10,-30611744),i=Yi(i,a,r,n,t[6],15,-1560198380),n=Yi(n,i,a,r,t[13],21,1309151649),r=Yi(r,n,i,a,t[4],6,-145523070),a=Yi(a,r,n,i,t[11],10,-1120210379),i=Yi(i,a,r,n,t[2],15,718787259),n=Yi(n,i,a,r,t[9],21,-343485551),e[0]=cc(r,e[0]),e[1]=cc(n,e[1]),e[2]=cc(i,e[2]),e[3]=cc(a,e[3])}function Zg(e,t,r,n,i,a){return t=cc(cc(t,e),cc(n,a)),cc(t<<i|t>>>32-i,r)}function Gi(e,t,r,n,i,a,o){return Zg(t&r|~t&n,e,t,i,a,o)}function Ki(e,t,r,n,i,a,o){return Zg(t&n|r&~n,e,t,i,a,o)}function Xi(e,t,r,n,i,a,o){return Zg(t^r^n,e,t,i,a,o)}function Yi(e,t,r,n,i,a,o){return Zg(r^(t|~n),e,t,i,a,o)}function DP(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)z2(n,gie(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(z2(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,z2(n,i),n}function gie(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var hj="0123456789abcdef".split("");function xie(e){for(var t="",r=0;r<4;r++)t+=hj[e>>8*r+4&15]+hj[e>>8*r&15];return t}function yie(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function nb(e){return DP(e).map(yie).join("")}var vie=function(e){for(var t=0;t<e.length;t++)e[t]=xie(e[t]);return e.join("")}(DP("hello"))!="5d41402abc4b2a76b9719d911017c592";function cc(e,t){if(vie){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ib(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),c=[],d=0;d<256;d++)c[d]=d;var f=0;for(d=0;d<256;d++){var m=c[d];f=(f+m+o.charCodeAt(d))%256,c[d]=c[f],c[f]=m}r=e,n=c}else c=n;var g=t.length,b=0,y=0,w="";for(d=0;d<g;d++)y=(y+(m=c[b=(b+1)%256]))%256,c[b]=c[y],c[y]=m,o=c[(c[b]+c[y])%256],w+=String.fromCharCode(t.charCodeAt(d)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mj={print:4,modify:8,copy:16,"annot-forms":32};function Qu(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(c){if(mj.perm!==void 0)throw new Error("Invalid permission: "+c);i+=mj[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=nb(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ib(this.encryptionKey,this.padding)}function ed(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function pj(e){if(Lr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(c){Yt.console&&Vr.error("jsPDF PubSub Error",c.message,c)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ep(e){if(!(this instanceof Ep))return new Ep(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function LP(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ru(e,t,r,n,i){if(!(this instanceof ru))return new ru(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,LP.call(this,n,i)}function xd(e,t,r,n,i){if(!(this instanceof xd))return new xd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,LP.call(this,n,i)}function _t(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],c=1,d=16,f="S",m=null;Lr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),f=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,b={},y={internal:{},__private__:{}};y.__private__.PubSub=pj;var w="1.3",A=y.__private__.getPdfVersion=function(){return w};y.__private__.setPdfVersion=function(O){w=O};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return N};var S=y.__private__.getPageFormat=function(O){return N[O]};i=i||"a4";var E="compat",k="advanced",P=E;function W(){this.saveGraphicsState(),ce(new Lt(zt,0,0,-zt,0,Xo()*zt).toString()+" cm"),this.setFontSize(this.getFontSize()/zt),f="n",P=k}function H(){this.restoreGraphicsState(),f="S",P=E}var $=y.__private__.combineFontStyleAndFontWeight=function(O,X){if(O=="bold"&&X=="normal"||O=="bold"&&X==400||O=="normal"&&X=="italic"||O=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(O=X==400||X==="normal"?O==="italic"?"italic":"normal":X!=700&&X!=="bold"||O!=="normal"?(X==700?"bold":X)+""+O:"bold"),O};y.advancedAPI=function(O){var X=P===E;return X&&W.call(this),typeof O!="function"||(O(this),X&&H.call(this)),this},y.compatAPI=function(O){var X=P===k;return X&&H.call(this),typeof O!="function"||(O(this),X&&W.call(this)),this},y.isAdvancedAPI=function(){return P===k};var F,L=function(O){if(P!==k)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=y.roundToPrecision=y.__private__.roundToPrecision=function(O,X){var ue=t||X;if(isNaN(O)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(ue).replace(/0+$/,"")};F=y.hpf=y.__private__.hpf=typeof d=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return J(O,d)}:d==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return J(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return J(O,16)};var M=y.f2=y.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return J(O,2)},z=y.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return J(O,3)},te=y.scale=y.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return P===E?O*zt:P===k?O:void 0},V=function(O){return te(function(X){return P===E?Xo()-X:P===k?X:void 0}(O))};y.__private__.setPrecision=y.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(t=parseInt(O,10))};var Z,ye="00000000000000000000000000000000",ve=y.__private__.getFileId=function(){return ye},me=y.__private__.setFileId=function(O){return ye=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(zr=new Qu(m.userPermissions,m.userPassword,m.ownerPassword,ye)),ye};y.setFileId=function(O){return me(O),this},y.getFileId=function(){return ve()};var Ne=y.__private__.convertDateToPDFDate=function(O){var X=O.getTimezoneOffset(),ue=X<0?"+":"-",we=Math.floor(Math.abs(X/60)),Pe=Math.abs(X%60),Ke=[ue,ne(we),"'",ne(Pe),"'"].join("");return["D:",O.getFullYear(),ne(O.getMonth()+1),ne(O.getDate()),ne(O.getHours()),ne(O.getMinutes()),ne(O.getSeconds()),Ke].join("")},Ie=y.__private__.convertPDFDateToDate=function(O){var X=parseInt(O.substr(2,4),10),ue=parseInt(O.substr(6,2),10)-1,we=parseInt(O.substr(8,2),10),Pe=parseInt(O.substr(10,2),10),Ke=parseInt(O.substr(12,2),10),rt=parseInt(O.substr(14,2),10);return new Date(X,ue,we,Pe,Ke,rt,0)},je=y.__private__.setCreationDate=function(O){var X;if(O===void 0&&(O=new Date),O instanceof Date)X=Ne(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=O}return Z=X},q=y.__private__.getCreationDate=function(O){var X=Z;return O==="jsDate"&&(X=Ie(Z)),X};y.setCreationDate=function(O){return je(O),this},y.getCreationDate=function(O){return q(O)};var oe,ne=y.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},ge=y.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},xe=0,_e=[],he=[],pe=0,Ce=[],Ee=[],Te=!1,ze=he;y.__private__.setCustomOutputDestination=function(O){Te=!0,ze=O};var Re=function(O){Te||(ze=O)};y.__private__.resetCustomOutputDestination=function(){Te=!1,ze=he};var ce=y.__private__.out=function(O){return O=O.toString(),pe+=O.length+1,ze.push(O),ze},Ze=y.__private__.write=function(O){return ce(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},ot=y.__private__.getArrayBuffer=function(O){for(var X=O.length,ue=new ArrayBuffer(X),we=new Uint8Array(ue);X--;)we[X]=O.charCodeAt(X);return ue},st=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return st};var Ve=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(O){return Ve=P===k?O/zt:O,this};var Ct,He=y.__private__.getFontSize=y.getFontSize=function(){return P===E?Ve:Ve*zt},Gt=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(O){return Gt=O,this},y.__private__.getR2L=y.getR2L=function(){return Gt};var It,rr=y.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))Ct=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');Ct=O}else Ct=parseInt(O,10)};y.__private__.getZoomMode=function(){return Ct};var Kt,Rt=y.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');It=O};y.__private__.getPageMode=function(){return It};var Cr=y.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Kt=O};y.__private__.getLayoutMode=function(){return Kt},y.__private__.setDisplayMode=y.setDisplayMode=function(O,X,ue){return rr(O),Cr(X),Rt(ue),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(O){if(Object.keys(Ut).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[O]},y.__private__.getDocumentProperties=function(){return Ut},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(O){for(var X in Ut)Ut.hasOwnProperty(X)&&O[X]&&(Ut[X]=O[X]);return this},y.__private__.setDocumentProperty=function(O,X){if(Object.keys(Ut).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[O]=X};var ht,zt,Et,Ur,Bt,$e={},At={},Dt=[],ft={},nr={},Xt={},cn={},Wt=null,pr=0,Ht=[],vr=new pj(y),ti=e.hotfixes||[],$n={},Kr={},ji=[],Lt=function O(X,ue,we,Pe,Ke,rt){if(!(this instanceof O))return new O(X,ue,we,Pe,Ke,rt);isNaN(X)&&(X=1),isNaN(ue)&&(ue=0),isNaN(we)&&(we=0),isNaN(Pe)&&(Pe=1),isNaN(Ke)&&(Ke=0),isNaN(rt)&&(rt=0),this._matrix=[X,ue,we,Pe,Ke,rt]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(O)},Lt.prototype.multiply=function(O){var X=O.sx*this.sx+O.shy*this.shx,ue=O.sx*this.shy+O.shy*this.sy,we=O.shx*this.sx+O.sy*this.shx,Pe=O.shx*this.shy+O.sy*this.sy,Ke=O.tx*this.sx+O.ty*this.shx+this.tx,rt=O.tx*this.shy+O.ty*this.sy+this.ty;return new Lt(X,ue,we,Pe,Ke,rt)},Lt.prototype.decompose=function(){var O=this.sx,X=this.shy,ue=this.shx,we=this.sy,Pe=this.tx,Ke=this.ty,rt=Math.sqrt(O*O+X*X),pt=(O/=rt)*ue+(X/=rt)*we;ue-=O*pt,we-=X*pt;var lt=Math.sqrt(ue*ue+we*we);return pt/=lt,O*(we/=lt)<X*(ue/=lt)&&(O=-O,X=-X,pt=-pt,rt=-rt),{scale:new Lt(rt,0,0,lt,0,0),translate:new Lt(1,0,0,1,Pe,Ke),rotate:new Lt(O,X,-X,O,0,0),skew:new Lt(1,0,pt,1,0,0)}},Lt.prototype.toString=function(O){return this.join(" ")},Lt.prototype.inversed=function(){var O=this.sx,X=this.shy,ue=this.shx,we=this.sy,Pe=this.tx,Ke=this.ty,rt=1/(O*we-X*ue),pt=we*rt,lt=-X*rt,qt=-ue*rt,gt=O*rt;return new Lt(pt,lt,qt,gt,-pt*Pe-qt*Ke,-lt*Pe-gt*Ke)},Lt.prototype.applyToPoint=function(O){var X=O.x*this.sx+O.y*this.shx+this.tx,ue=O.x*this.shy+O.y*this.sy+this.ty;return new jn(X,ue)},Lt.prototype.applyToRectangle=function(O){var X=this.applyToPoint(O),ue=this.applyToPoint(new jn(O.x+O.w,O.y+O.h));return new Wl(X.x,X.y,ue.x-X.x,ue.y-X.y)},Lt.prototype.clone=function(){var O=this.sx,X=this.shy,ue=this.shx,we=this.sy,Pe=this.tx,Ke=this.ty;return new Lt(O,X,ue,we,Pe,Ke)},y.Matrix=Lt;var qn=y.matrixMult=function(O,X){return X.multiply(O)},Ps=new Lt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Ps;var Hn=function(O,X){if(!nr[O]){var ue=(X instanceof ru?"Sh":"P")+(Object.keys(ft).length+1).toString(10);X.id=ue,nr[O]=ue,ft[ue]=X,vr.publish("addPattern",X)}};y.ShadingPattern=ru,y.TilingPattern=xd,y.addShadingPattern=function(O,X){return L("addShadingPattern()"),Hn(O,X),this},y.beginTilingPattern=function(O){L("beginTilingPattern()"),zl(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},y.endTilingPattern=function(O,X){L("endTilingPattern()"),X.stream=Ee[oe].join(`
`),Hn(O,X),vr.publish("endTilingPattern",X),ji.pop().restore()};var Fi,ur=y.__private__.newObject=function(){var O=Xr();return Tr(O,!0),O},Xr=y.__private__.newObjectDeferred=function(){return xe++,_e[xe]=function(){return pe},xe},Tr=function(O,X){return X=typeof X=="boolean"&&X,_e[O]=pe,X&&ce(O+" 0 obj"),O},dt=y.__private__.newAdditionalObject=function(){var O={objId:Xr(),content:""};return Ce.push(O),O},ta=Xr(),ra=Xr(),en=y.__private__.decodeColorString=function(O){var X=O.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var ue=parseFloat(X[0]);X=[ue,ue,ue,"r"]}for(var we="#",Pe=0;Pe<3;Pe++)we+=("0"+Math.floor(255*parseFloat(X[Pe])).toString(16)).slice(-2);return we},fi=y.__private__.encodeColorString=function(O){var X;typeof O=="string"&&(O={ch1:O});var ue=O.ch1,we=O.ch2,Pe=O.ch3,Ke=O.ch4,rt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var pt=new RP(ue);if(pt.ok)ue=pt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var lt=parseInt(ue.substr(1),16);ue=lt>>16&255,we=lt>>8&255,Pe=255&lt}if(we===void 0||Ke===void 0&&ue===we&&we===Pe)X=typeof ue=="string"?ue+" "+rt[0]:O.precision===2?M(ue/255)+" "+rt[0]:z(ue/255)+" "+rt[0];else if(Ke===void 0||Lr(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",rt[1]].join(" ");X=typeof ue=="string"?[ue,we,Pe,rt[1]].join(" "):O.precision===2?[M(ue/255),M(we/255),M(Pe/255),rt[1]].join(" "):[z(ue/255),z(we/255),z(Pe/255),rt[1]].join(" ")}else X=typeof ue=="string"?[ue,we,Pe,Ke,rt[2]].join(" "):O.precision===2?[M(ue),M(we),M(Pe),M(Ke),rt[2]].join(" "):[z(ue),z(we),z(Pe),z(Ke),rt[2]].join(" ");return X},Ui=y.__private__.getFilters=function(){return o},Si=y.__private__.putStream=function(O){var X=(O=O||{}).data||"",ue=O.filters||Ui(),we=O.alreadyAppliedFilters||[],Pe=O.addLength1||!1,Ke=X.length,rt=O.objectId,pt=function(Pn){return Pn};if(m!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(pt=zr.encryptor(rt,0));var lt={};ue===!0&&(ue=["FlateEncode"]);var qt=O.additionalKeyValues||[],gt=(lt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(X,ue):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(lt.data.length!==0&&(qt.push({key:"Length",value:lt.data.length}),Pe===!0&&qt.push({key:"Length1",value:Ke})),gt.length!=0)if(gt.split("/").length-1==1)qt.push({key:"Filter",value:gt});else{qt.push({key:"Filter",value:"["+gt+"]"});for(var mr=0;mr<qt.length;mr+=1)if(qt[mr].key==="DecodeParms"){for(var Sr=[],Vt=0;Vt<lt.reverseChain.split("/").length-1;Vt+=1)Sr.push("null");Sr.push(qt[mr].value),qt[mr].value="["+Sr.join(" ")+"]"}}ce("<<");for(var ut=0;ut<qt.length;ut++)ce("/"+qt[ut].key+" "+qt[ut].value);ce(">>"),lt.data.length!==0&&(ce("stream"),ce(pt(lt.data)),ce("endstream"))},hi=y.__private__.putPage=function(O){var X=O.number,ue=O.data,we=O.objId,Pe=O.contentsObjId;Tr(we,!0),ce("<</Type /Page"),ce("/Parent "+O.rootDictionaryObjId+" 0 R"),ce("/Resources "+O.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(F(O.mediaBox.bottomLeftX))+" "+parseFloat(F(O.mediaBox.bottomLeftY))+" "+F(O.mediaBox.topRightX)+" "+F(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&ce("/CropBox ["+F(O.cropBox.bottomLeftX)+" "+F(O.cropBox.bottomLeftY)+" "+F(O.cropBox.topRightX)+" "+F(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&ce("/BleedBox ["+F(O.bleedBox.bottomLeftX)+" "+F(O.bleedBox.bottomLeftY)+" "+F(O.bleedBox.topRightX)+" "+F(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&ce("/TrimBox ["+F(O.trimBox.bottomLeftX)+" "+F(O.trimBox.bottomLeftY)+" "+F(O.trimBox.topRightX)+" "+F(O.trimBox.topRightY)+"]"),O.artBox!==null&&ce("/ArtBox ["+F(O.artBox.bottomLeftX)+" "+F(O.artBox.bottomLeftY)+" "+F(O.artBox.topRightX)+" "+F(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&ce("/UserUnit "+O.userUnit),vr.publish("putPage",{objId:we,pageContext:Ht[X],pageNumber:X,page:ue}),ce("/Contents "+Pe+" 0 R"),ce(">>"),ce("endobj");var Ke=ue.join(`
`);return P===k&&(Ke+=`
Q`),Tr(Pe,!0),Si({data:Ke,filters:Ui(),objectId:Pe}),ce("endobj"),we},ss=y.__private__.putPages=function(){var O,X,ue=[];for(O=1;O<=pr;O++)Ht[O].objId=Xr(),Ht[O].contentsObjId=Xr();for(O=1;O<=pr;O++)ue.push(hi({number:O,data:Ee[O],objId:Ht[O].objId,contentsObjId:Ht[O].contentsObjId,mediaBox:Ht[O].mediaBox,cropBox:Ht[O].cropBox,bleedBox:Ht[O].bleedBox,trimBox:Ht[O].trimBox,artBox:Ht[O].artBox,userUnit:Ht[O].userUnit,rootDictionaryObjId:ta,resourceDictionaryObjId:ra}));Tr(ta,!0),ce("<</Type /Pages");var we="/Kids [";for(X=0;X<pr;X++)we+=ue[X]+" 0 R ";ce(we+"]"),ce("/Count "+pr),ce(">>"),ce("endobj"),vr.publish("postPutPages")},Bo=function(O){vr.publish("putFont",{font:O,out:ce,newObject:ur,putStream:Si}),O.isAlreadyPutted!==!0&&(O.objectNumber=ur(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+ed(O.postScriptName)),ce("/Subtype /Type1"),typeof O.encoding=="string"&&ce("/Encoding /"+O.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Ei=function(O){O.objectNumber=ur();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[F(O.x),F(O.y),F(O.x+O.width),F(O.y+O.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var ue=O.pages[1].join(`
`);Si({data:ue,additionalKeyValues:X,objectId:O.objectNumber}),ce("endobj")},Cn=function(O,X){X||(X=21);var ue=ur(),we=function(rt,pt){var lt,qt=[],gt=1/(pt-1);for(lt=0;lt<1;lt+=gt)qt.push(lt);if(qt.push(1),rt[0].offset!=0){var mr={offset:0,color:rt[0].color};rt.unshift(mr)}if(rt[rt.length-1].offset!=1){var Sr={offset:1,color:rt[rt.length-1].color};rt.push(Sr)}for(var Vt="",ut=0,Pn=0;Pn<qt.length;Pn++){for(lt=qt[Pn];lt>rt[ut+1].offset;)ut++;var Zt=rt[ut].offset,tn=(lt-Zt)/(rt[ut+1].offset-Zt),ri=rt[ut].color,zi=rt[ut+1].color;Vt+=ge(Math.round((1-tn)*ri[0]+tn*zi[0]).toString(16))+ge(Math.round((1-tn)*ri[1]+tn*zi[1]).toString(16))+ge(Math.round((1-tn)*ri[2]+tn*zi[2]).toString(16))}return Vt.trim()}(O.colors,X),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+X+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Si({data:we,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),ce("endobj"),O.objectNumber=ur(),ce("<< /ShadingType "+O.type),ce("/ColorSpace /DeviceRGB");var Ke="/Coords ["+F(parseFloat(O.coords[0]))+" "+F(parseFloat(O.coords[1]))+" ";O.type===2?Ke+=F(parseFloat(O.coords[2]))+" "+F(parseFloat(O.coords[3])):Ke+=F(parseFloat(O.coords[2]))+" "+F(parseFloat(O.coords[3]))+" "+F(parseFloat(O.coords[4]))+" "+F(parseFloat(O.coords[5])),ce(Ke+="]"),O.matrix&&ce("/Matrix ["+O.matrix.toString()+"]"),ce("/Function "+ue+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},jr=function(O,X){var ue=Xr(),we=ur();X.push({resourcesOid:ue,objectOid:we}),O.objectNumber=we;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+O.boundingBox.map(F).join(" ")+"]"}),Pe.push({key:"XStep",value:F(O.xStep)}),Pe.push({key:"YStep",value:F(O.yStep)}),Pe.push({key:"Resources",value:ue+" 0 R"}),O.matrix&&Pe.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Si({data:O.stream,additionalKeyValues:Pe,objectId:O.objectNumber}),ce("endobj")},$u=function(O){for(var X in O.objectNumber=ur(),ce("<<"),O)switch(X){case"opacity":ce("/ca "+M(O[X]));break;case"stroke-opacity":ce("/CA "+M(O[X]))}ce(">>"),ce("endobj")},pa=function(O){Tr(O.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var X in ce("/Font <<"),$e)$e.hasOwnProperty(X)&&(g===!1||g===!0&&b.hasOwnProperty(X))&&ce("/"+X+" "+$e[X].objectNumber+" 0 R");ce(">>")}(),function(){if(Object.keys(ft).length>0){for(var X in ce("/Shading <<"),ft)ft.hasOwnProperty(X)&&ft[X]instanceof ru&&ft[X].objectNumber>=0&&ce("/"+X+" "+ft[X].objectNumber+" 0 R");vr.publish("putShadingPatternDict"),ce(">>")}}(),function(X){if(Object.keys(ft).length>0){for(var ue in ce("/Pattern <<"),ft)ft.hasOwnProperty(ue)&&ft[ue]instanceof y.TilingPattern&&ft[ue].objectNumber>=0&&ft[ue].objectNumber<X&&ce("/"+ue+" "+ft[ue].objectNumber+" 0 R");vr.publish("putTilingPatternDict"),ce(">>")}}(O.objectOid),function(){if(Object.keys(Xt).length>0){var X;for(X in ce("/ExtGState <<"),Xt)Xt.hasOwnProperty(X)&&Xt[X].objectNumber>=0&&ce("/"+X+" "+Xt[X].objectNumber+" 0 R");vr.publish("putGStateDict"),ce(">>")}}(),function(){for(var X in ce("/XObject <<"),$n)$n.hasOwnProperty(X)&&$n[X].objectNumber>=0&&ce("/"+X+" "+$n[X].objectNumber+" 0 R");vr.publish("putXobjectDict"),ce(">>")}(),ce(">>"),ce("endobj")},Ml=function(O){At[O.fontName]=At[O.fontName]||{},At[O.fontName][O.fontStyle]=O.id},tt=function(O,X,ue,we,Pe){var Ke={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:O,fontName:X,fontStyle:ue,encoding:we,isStandardFont:Pe||!1,metadata:{}};return vr.publish("addFont",{font:Ke,instance:this}),$e[Ke.id]=Ke,Ml(Ke),Ke.id},ga=y.__private__.pdfEscape=y.pdfEscape=function(O,X){return function(ue,we){var Pe,Ke,rt,pt,lt,qt,gt,mr,Sr;if(rt=(we=we||{}).sourceEncoding||"Unicode",lt=we.outputEncoding,(we.autoencode||lt)&&$e[ht].metadata&&$e[ht].metadata[rt]&&$e[ht].metadata[rt].encoding&&(pt=$e[ht].metadata[rt].encoding,!lt&&$e[ht].encoding&&(lt=$e[ht].encoding),!lt&&pt.codePages&&(lt=pt.codePages[0]),typeof lt=="string"&&(lt=pt[lt]),lt)){for(gt=!1,qt=[],Pe=0,Ke=ue.length;Pe<Ke;Pe++)(mr=lt[ue.charCodeAt(Pe)])?qt.push(String.fromCharCode(mr)):qt.push(ue[Pe]),qt[Pe].charCodeAt(0)>>8&&(gt=!0);ue=qt.join("")}for(Pe=ue.length;gt===void 0&&Pe!==0;)ue.charCodeAt(Pe-1)>>8&&(gt=!0),Pe--;if(!gt)return ue;for(qt=we.noBOM?[]:[254,255],Pe=0,Ke=ue.length;Pe<Ke;Pe++){if((Sr=(mr=ue.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(Sr),qt.push(mr-(Sr<<8))}return String.fromCharCode.apply(void 0,qt)}(O,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wr=y.__private__.beginPage=function(O){Ee[++pr]=[],Ht[pr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},gr(pr),Re(Ee[oe])},Os=function(O,X){var ue,we,Pe;switch(r=X||r,typeof O=="string"&&(ue=S(O.toLowerCase()),Array.isArray(ue)&&(we=ue[0],Pe=ue[1])),Array.isArray(O)&&(we=O[0]*zt,Pe=O[1]*zt),isNaN(we)&&(we=i[0],Pe=i[1]),(we>14400||Pe>14400)&&(Vr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Pe=Math.min(14400,Pe)),i=[we,Pe],r.substr(0,1)){case"l":Pe>we&&(i=[Pe,we]);break;case"p":we>Pe&&(i=[Pe,we])}Wr(i),zo(Wc),ce($o),Ul!==0&&ce(Ul+" J"),Ls!==0&&ce(Ls+" j"),vr.publish("addPage",{pageNumber:pr})},Fc=function(O){O>0&&O<=pr&&(Ee.splice(O,1),Ht.splice(O,1),pr--,oe>pr&&(oe=pr),this.setPage(oe))},gr=function(O){O>0&&O<=pr&&(oe=O)},hr=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ee.length-1},sr=function(O,X,ue){var we,Pe=void 0;return ue=ue||{},O=O!==void 0?O:$e[ht].fontName,X=X!==void 0?X:$e[ht].fontStyle,we=O.toLowerCase(),At[we]!==void 0&&At[we][X]!==void 0?Pe=At[we][X]:At[O]!==void 0&&At[O][X]!==void 0?Pe=At[O][X]:ue.disableWarning===!1&&Vr.warn("Unable to look up font label for font '"+O+"', '"+X+"'. Refer to getFontList() for available fonts."),Pe||ue.noFallback||(Pe=At.times[X])==null&&(Pe=At.times.normal),Pe},co=y.__private__.putInfo=function(){var O=ur(),X=function(we){return we};for(var ue in m!==null&&(X=zr.encryptor(O,0)),ce("<<"),ce("/Producer ("+ga(X("jsPDF "+_t.version))+")"),Ut)Ut.hasOwnProperty(ue)&&Ut[ue]&&ce("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+ga(X(Ut[ue]))+")");ce("/CreationDate ("+ga(X(Z))+")"),ce(">>"),ce("endobj")},Uc=y.__private__.putCatalog=function(O){var X=(O=O||{}).rootDictionaryObjId||ta;switch(ur(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+X+" 0 R"),Ct||(Ct="fullwidth"),Ct){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Ct;ue.substr(ue.length-1)==="%"&&(Ct=parseInt(Ct)/100),typeof Ct=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+M(Ct)+"]")}switch(Kt||(Kt="continuous"),Kt){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}It&&ce("/PageMode /"+It),vr.publish("putCatalog"),ce(">>"),ce("endobj")},un=y.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(xe+1)),ce("/Root "+xe+" 0 R"),ce("/Info "+(xe-1)+" 0 R"),m!==null&&ce("/Encrypt "+zr.oid+" 0 R"),ce("/ID [ <"+ye+"> <"+ye+"> ]"),ce(">>")},dn=y.__private__.putHeader=function(){ce("%PDF-"+w),ce("%ºß¬à")},Pa=y.__private__.putXRef=function(){var O="0000000000";ce("xref"),ce("0 "+(xe+1)),ce("0000000000 65535 f ");for(var X=1;X<=xe;X++)typeof _e[X]=="function"?ce((O+_e[X]()).slice(-10)+" 00000 n "):_e[X]!==void 0?ce((O+_e[X]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Rs=y.__private__.buildDocument=function(){var O;xe=0,pe=0,he=[],_e=[],Ce=[],ta=Xr(),ra=Xr(),Re(he),vr.publish("buildDocument"),dn(),ss(),function(){vr.publish("putAdditionalObjects");for(var ue=0;ue<Ce.length;ue++){var we=Ce[ue];Tr(we.objId,!0),ce(we.content),ce("endobj")}vr.publish("postPutAdditionalObjects")}(),O=[],function(){for(var ue in $e)$e.hasOwnProperty(ue)&&(g===!1||g===!0&&b.hasOwnProperty(ue))&&Bo($e[ue])}(),function(){var ue;for(ue in Xt)Xt.hasOwnProperty(ue)&&$u(Xt[ue])}(),function(){for(var ue in $n)$n.hasOwnProperty(ue)&&Ei($n[ue])}(),function(ue){var we;for(we in ft)ft.hasOwnProperty(we)&&(ft[we]instanceof ru?Cn(ft[we]):ft[we]instanceof xd&&jr(ft[we],ue))}(O),vr.publish("putResources"),O.forEach(pa),pa({resourcesOid:ra,objectOid:Number.MAX_SAFE_INTEGER}),vr.publish("postPutResources"),m!==null&&(zr.oid=ur(),ce("<<"),ce("/Filter /Standard"),ce("/V "+zr.v),ce("/R "+zr.r),ce("/U <"+zr.toHexString(zr.U)+">"),ce("/O <"+zr.toHexString(zr.O)+">"),ce("/P "+zr.P),ce(">>"),ce("endobj")),co(),Uc();var X=pe;return Pa(),un(),ce("startxref"),ce(""+X),ce("%%EOF"),Re(Ee[oe]),he.join(`
`)},Ir=y.__private__.getBlob=function(O){return new Blob([ot(O)],{type:"application/pdf"})},Vn=y.output=y.__private__.output=(Fi=function(O,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",O){case void 0:return Rs();case"save":y.save(X.filename);break;case"arraybuffer":return ot(Rs());case"blob":return Ir(Rs());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(Ir(Rs()))||void 0;Vr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",we=Rs();try{ue=fj(we)}catch{ue=fj(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+X.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Pe=X.pdfObjectUrl,Ke="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",pt=Yt.open();return pt!==null&&pt.document.write(rt),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',qt=Yt.open();if(qt!==null){qt.document.write(lt);var gt=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=X.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',Sr=Yt.open();if(Sr!==null&&(Sr.document.write(mr),Sr.document.title=X.filename),Sr||typeof safari>"u")return Sr;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",X);default:return null}},Fi.foo=function(){try{return Fi.apply(this,arguments)}catch(ue){var O=ue.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var X="Error in function "+O.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Yt.console)throw new Error(X);Yt.console.error(X,ue),Yt.alert&&alert(X)}},Fi.foo.bar=Fi,Fi.foo),Fo=function(O){return Array.isArray(ti)===!0&&ti.indexOf(O)>-1};switch(n){case"pt":zt=1;break;case"mm":zt=72/25.4;break;case"cm":zt=72/2.54;break;case"in":zt=72;break;case"px":zt=Fo("px_scaling")==1?.75:96/72;break;case"pc":case"em":zt=12;break;case"ex":zt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);zt=n}var zr=null;je(),me();var Nr=y.__private__.getPageInfo=y.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[O].objId,pageNumber:O,pageContext:Ht[O]}},Gn=y.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Ht)if(Ht[X].objId===O)break;return Nr(X)},Le=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ht[oe].objId,pageNumber:oe,pageContext:Ht[oe]}};y.addPage=function(){return Os.apply(this,arguments),this},y.setPage=function(){return gr.apply(this,arguments),Re.call(this,Ee[oe]),this},y.insertPage=function(O){return this.addPage(),this.movePage(oe,O),this},y.movePage=function(O,X){var ue,we;if(O>X){ue=Ee[O],we=Ht[O];for(var Pe=O;Pe>X;Pe--)Ee[Pe]=Ee[Pe-1],Ht[Pe]=Ht[Pe-1];Ee[X]=ue,Ht[X]=we,this.setPage(X)}else if(O<X){ue=Ee[O],we=Ht[O];for(var Ke=O;Ke<X;Ke++)Ee[Ke]=Ee[Ke+1],Ht[Ke]=Ht[Ke+1];Ee[X]=ue,Ht[X]=we,this.setPage(X)}return this},y.deletePage=function(){return Fc.apply(this,arguments),this},y.__private__.text=y.text=function(O,X,ue,we,Pe){var Ke,rt,pt,lt,qt,gt,mr,Sr,Vt,ut=(we=we||{}).scope||this;if(typeof O=="number"&&typeof X=="number"&&(typeof ue=="string"||Array.isArray(ue))){var Pn=ue;ue=X,X=O,O=Pn}if(arguments[3]instanceof Lt==0?(pt=arguments[4],lt=arguments[5],Lr(mr=arguments[3])==="object"&&mr!==null||(typeof pt=="string"&&(lt=pt,pt=null),typeof mr=="string"&&(lt=mr,mr=null),typeof mr=="number"&&(pt=mr,mr=null),we={flags:mr,angle:pt,align:lt})):(L("The transform parameter of text() with a Matrix value"),Vt=Pe),isNaN(X)||isNaN(ue)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return ut;var Zt,tn="",ri=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Ds,zi=ut.internal.scaleFactor;function na(Ye){return Ye=Ye.split("	").join(Array(we.TabLen||9).join(" ")),ga(Ye,mr)}function fo(Ye){for(var et,Je=Ye.concat(),Ot=[],Ft=Je.length;Ft--;)typeof(et=Je.shift())=="string"?Ot.push(et):Array.isArray(Ye)&&(et.length===1||et[1]===void 0&&et[2]===void 0)?Ot.push(et[0]):Ot.push([et[0],et[1],et[2]]);return Ot}function ho(Ye,et){var Je;if(typeof Ye=="string")Je=et(Ye)[0];else if(Array.isArray(Ye)){for(var Ot,Ft,Kn=Ye.concat(),pi=[],ii=Kn.length;ii--;)typeof(Ot=Kn.shift())=="string"?pi.push(et(Ot)[0]):Array.isArray(Ot)&&typeof Ot[0]=="string"&&(Ft=et(Ot[0],Ot[1],Ot[2]),pi.push([Ft[0],Ft[1],Ft[2]]));Je=pi}return Je}var fs=!1,mo=!0;if(typeof O=="string")fs=!0;else if(Array.isArray(O)){var po=O.concat();rt=[];for(var Yo,vn=po.length;vn--;)(typeof(Yo=po.shift())!="string"||Array.isArray(Yo)&&typeof Yo[0]!="string")&&(mo=!1);fs=mo}if(fs===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Ms=Ve/ut.internal.scaleFactor,Zo=Ms*(ri-1);switch(we.baseline){case"bottom":ue-=Zo;break;case"top":ue+=Ms-Zo;break;case"hanging":ue+=Ms-2*Zo;break;case"middle":ue+=Ms/2-Zo}if((gt=we.maxWidth||0)>0&&(typeof O=="string"?O=ut.splitTextToSize(O,gt):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Ye,et){return Ye.concat(ut.splitTextToSize(et,gt))},[]))),Ke={text:O,x:X,y:ue,options:we,mutex:{pdfEscape:ga,activeFontKey:ht,fonts:$e,activeFontSize:Ve}},vr.publish("preProcessText",Ke),O=Ke.text,pt=(we=Ke.options).angle,Vt instanceof Lt==0&&pt&&typeof pt=="number"){pt*=Math.PI/180,we.rotationDirection===0&&(pt=-pt),P===k&&(pt=-pt);var Bs=Math.cos(pt),$c=Math.sin(pt);Vt=new Lt(Bs,$c,-$c,Bs,0,0)}else pt&&pt instanceof Lt&&(Vt=pt);P!==k||Vt||(Vt=Ps),(qt=we.charSpace||us)!==void 0&&(tn+=F(te(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sr=we.horizontalScale)!==void 0&&(tn+=F(100*Sr)+` Tz
`),we.lang;var Er=-1,xa=we.renderingMode!==void 0?we.renderingMode:we.stroke,ni=ut.internal.getCurrentPageInfo().pageContext;switch(xa){case 0:case!1:case"fill":Er=0;break;case 1:case!0:case"stroke":Er=1;break;case 2:case"fillThenStroke":Er=2;break;case 3:case"invisible":Er=3;break;case 4:case"fillAndAddForClipping":Er=4;break;case 5:case"strokeAndAddPathForClipping":Er=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Er=6;break;case 7:case"addToPathForClipping":Er=7}var qc=ni.usedRenderingMode!==void 0?ni.usedRenderingMode:-1;Er!==-1?tn+=Er+` Tr
`:qc!==-1&&(tn+=`0 Tr
`),Er!==-1&&(ni.usedRenderingMode=Er),lt=we.align||"left";var bn,Jo=Ve*ri,Qo=ut.internal.pageSize.getWidth(),Hc=$e[ht];qt=we.charSpace||us,gt=we.maxWidth||0,mr=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Fs=[],mi=function(Ye){return ut.getStringUnitWidth(Ye,{font:Hc,charSpace:qt,fontSize:Ve,doKerning:!1})*Ve/zi};if(Object.prototype.toString.call(O)==="[object Array]"){var ia;rt=fo(O),lt!=="left"&&(bn=rt.map(mi));var Ti,ya=0;if(lt==="right"){X-=bn[0],O=[],vn=rt.length;for(var Qt=0;Qt<vn;Qt++)Qt===0?(Ti=$t(X),ia=qr(ue)):(Ti=te(ya-bn[Qt]),ia=-Jo),O.push([rt[Qt],Ti,ia]),ya=bn[Qt]}else if(lt==="center"){X-=bn[0]/2,O=[],vn=rt.length;for(var La=0;La<vn;La++)La===0?(Ti=$t(X),ia=qr(ue)):(Ti=te((ya-bn[La])/2),ia=-Jo),O.push([rt[La],Ti,ia]),ya=bn[La]}else if(lt==="left"){O=[],vn=rt.length;for(var G=0;G<vn;G++)O.push(rt[G])}else if(lt==="justify"&&Hc.encoding==="Identity-H"){O=[],vn=rt.length,gt=gt!==0?gt:Qo;for(var l=0,u=0;u<vn;u++)if(ia=u===0?qr(ue):-Jo,Ti=u===0?$t(X):l,u<vn-1){var h=te((gt-bn[u])/(rt[u].split(" ").length-1)),p=rt[u].split(" ");O.push([p[0]+" ",Ti,ia]),l=0;for(var x=1;x<p.length;x++){var v=(mi(p[x-1]+" "+p[x])-mi(p[x]))*zi+h;x==p.length-1?O.push([p[x],v,0]):O.push([p[x]+" ",v,0]),l-=v}}else O.push([rt[u],Ti,ia]);O.push(["",l,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],vn=rt.length,gt=gt!==0?gt:Qo,u=0;u<vn;u++){ia=u===0?qr(ue):-Jo,Ti=u===0?$t(X):0;var j=rt[u].split(" ").length-1,_=j>0?(gt-bn[u])/j:0;u<vn-1?Fs.push(F(te(_))):Fs.push(0),O.push([rt[u],Ti,ia])}}}(typeof we.R2L=="boolean"?we.R2L:Gt)===!0&&(O=ho(O,function(Ye,et,Je){return[Ye.split("").reverse().join(""),et,Je]})),Ke={text:O,x:X,y:ue,options:we,mutex:{pdfEscape:ga,activeFontKey:ht,fonts:$e,activeFontSize:Ve}},vr.publish("postProcessText",Ke),O=Ke.text,Zt=Ke.mutex.isHex||!1;var R=$e[ht].encoding;R!=="WinAnsiEncoding"&&R!=="StandardEncoding"||(O=ho(O,function(Ye,et,Je){return[na(Ye),et,Je]})),rt=fo(O),O=[];for(var B,K,Q,le=Array.isArray(rt[0])?1:0,be="",Ae=function(Ye,et,Je){var Ot="";return Je instanceof Lt?(Je=typeof we.angle=="number"?qn(Je,new Lt(1,0,0,1,Ye,et)):qn(new Lt(1,0,0,1,Ye,et),Je),P===k&&(Je=qn(new Lt(1,0,0,-1,0,0),Je)),Ot=Je.join(" ")+` Tm
`):Ot=F(Ye)+" "+F(et)+` Td
`,Ot},Oe=0;Oe<rt.length;Oe++){switch(be="",le){case 1:Q=(Zt?"<":"(")+rt[Oe][0]+(Zt?">":")"),B=parseFloat(rt[Oe][1]),K=parseFloat(rt[Oe][2]);break;case 0:Q=(Zt?"<":"(")+rt[Oe]+(Zt?">":")"),B=$t(X),K=qr(ue)}Fs!==void 0&&Fs[Oe]!==void 0&&(be=Fs[Oe]+` Tw
`),Oe===0?O.push(be+Ae(B,K,Vt)+Q):le===0?O.push(be+Q):le===1&&O.push(be+Ae(B,K,Vt)+Q)}O=le===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Fe=`BT
/`;return Fe+=ht+" "+Ve+` Tf
`,Fe+=F(Ve*ri)+` TL
`,Fe+=qo+`
`,Fe+=tn,Fe+=O,ce(Fe+="ET"),b[ht]=!0,ut};var se=y.__private__.clip=y.clip=function(O){return ce(O==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return se("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ce("n"),this};var mt=y.__private__.isValidStyle=function(O){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(X=!0),X};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(O){return mt(O)&&(f=O),this};var yn=y.__private__.getStyle=y.getStyle=function(O){var X=f;switch(O){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=O}return X},ki=y.close=function(){return ce("h"),this};y.stroke=function(){return ce("S"),this},y.fill=function(O){return uo("f",O),this},y.fillEvenOdd=function(O){return uo("f*",O),this},y.fillStroke=function(O){return uo("B",O),this},y.fillStrokeEvenOdd=function(O){return uo("B*",O),this};var uo=function(O,X){Lr(X)==="object"?Pt(X,O):ce(O)},Uo=function(O){O===null||P===k&&O===void 0||(O=yn(O),ce(O))};function Wi(O,X,ue,we,Pe){var Ke=new xd(X||this.boundingBox,ue||this.xStep,we||this.yStep,this.gState,Pe||this.matrix);Ke.stream=this.stream;var rt=O+"$$"+this.cloneIndex+++"$$";return Hn(rt,Ke),Ke}var Pt=function(O,X){var ue=nr[O.key],we=ft[ue];if(we instanceof ru)ce("q"),ce($r(X)),we.gState&&y.setGState(we.gState),ce(O.matrix.toString()+" cm"),ce("/"+ue+" sh"),ce("Q");else if(we instanceof xd){var Pe=new Lt(1,0,0,-1,0,Xo());O.matrix&&(Pe=Pe.multiply(O.matrix||Ps),ue=Wi.call(we,O.key,O.boundingBox,O.xStep,O.yStep,Pe).id),ce("q"),ce("/Pattern cs"),ce("/"+ue+" scn"),we.gState&&y.setGState(we.gState),ce(X),ce("Q")}},$r=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bl=y.moveTo=function(O,X){return ce(F(te(O))+" "+F(V(X))+" m"),this},Wo=y.lineTo=function(O,X){return ce(F(te(O))+" "+F(V(X))+" l"),this},os=y.curveTo=function(O,X,ue,we,Pe,Ke){return ce([F(te(O)),F(V(X)),F(te(ue)),F(V(we)),F(te(Pe)),F(V(Ke)),"c"].join(" ")),this};y.__private__.line=y.line=function(O,X,ue,we,Pe){if(isNaN(O)||isNaN(X)||isNaN(ue)||isNaN(we)||!mt(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return P===E?this.lines([[ue-O,we-X]],O,X,[1,1],Pe||"S"):this.lines([[ue-O,we-X]],O,X,[1,1]).stroke()},y.__private__.lines=y.lines=function(O,X,ue,we,Pe,Ke){var rt,pt,lt,qt,gt,mr,Sr,Vt,ut,Pn,Zt,tn;if(typeof O=="number"&&(tn=ue,ue=X,X=O,O=tn),we=we||[1,1],Ke=Ke||!1,isNaN(X)||isNaN(ue)||!Array.isArray(O)||!Array.isArray(we)||!mt(Pe)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bl(X,ue),rt=we[0],pt=we[1],qt=O.length,Pn=X,Zt=ue,lt=0;lt<qt;lt++)(gt=O[lt]).length===2?(Pn=gt[0]*rt+Pn,Zt=gt[1]*pt+Zt,Wo(Pn,Zt)):(mr=gt[0]*rt+Pn,Sr=gt[1]*pt+Zt,Vt=gt[2]*rt+Pn,ut=gt[3]*pt+Zt,Pn=gt[4]*rt+Pn,Zt=gt[5]*pt+Zt,os(mr,Sr,Vt,ut,Pn,Zt));return Ke&&ki(),Uo(Pe),this},y.path=function(O){for(var X=0;X<O.length;X++){var ue=O[X],we=ue.c;switch(ue.op){case"m":Bl(we[0],we[1]);break;case"l":Wo(we[0],we[1]);break;case"c":os.apply(this,we);break;case"h":ki()}}return this},y.__private__.rect=y.rect=function(O,X,ue,we,Pe){if(isNaN(O)||isNaN(X)||isNaN(ue)||isNaN(we)||!mt(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return P===E&&(we=-we),ce([F(te(O)),F(V(X)),F(te(ue)),F(te(we)),"re"].join(" ")),Uo(Pe),this},y.__private__.triangle=y.triangle=function(O,X,ue,we,Pe,Ke,rt){if(isNaN(O)||isNaN(X)||isNaN(ue)||isNaN(we)||isNaN(Pe)||isNaN(Ke)||!mt(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-O,we-X],[Pe-ue,Ke-we],[O-Pe,X-Ke]],O,X,[1,1],rt,!0),this},y.__private__.roundedRect=y.roundedRect=function(O,X,ue,we,Pe,Ke,rt){if(isNaN(O)||isNaN(X)||isNaN(ue)||isNaN(we)||isNaN(Pe)||isNaN(Ke)||!mt(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ue),Ke=Math.min(Ke,.5*we),this.lines([[ue-2*Pe,0],[Pe*pt,0,Pe,Ke-Ke*pt,Pe,Ke],[0,we-2*Ke],[0,Ke*pt,-Pe*pt,Ke,-Pe,Ke],[2*Pe-ue,0],[-Pe*pt,0,-Pe,-Ke*pt,-Pe,-Ke],[0,2*Ke-we],[0,-Ke*pt,Pe*pt,-Ke,Pe,-Ke]],O+Pe,X,[1,1],rt,!0),this},y.__private__.ellipse=y.ellipse=function(O,X,ue,we,Pe){if(isNaN(O)||isNaN(X)||isNaN(ue)||isNaN(we)||!mt(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*ue,rt=4/3*(Math.SQRT2-1)*we;return Bl(O+ue,X),os(O+ue,X-rt,O+Ke,X-we,O,X-we),os(O-Ke,X-we,O-ue,X-rt,O-ue,X),os(O-ue,X+rt,O-Ke,X+we,O,X+we),os(O+Ke,X+we,O+ue,X+rt,O+ue,X),Uo(Pe),this},y.__private__.circle=y.circle=function(O,X,ue,we){if(isNaN(O)||isNaN(X)||isNaN(ue)||!mt(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,X,ue,ue,we)},y.setFont=function(O,X,ue){return ue&&(X=$(X,ue)),ht=sr(O,X,{disableWarning:!1}),this};var Fl=y.__private__.getFont=y.getFont=function(){return $e[sr.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var O,X,ue={};for(O in At)if(At.hasOwnProperty(O))for(X in ue[O]=[],At[O])At[O].hasOwnProperty(X)&&ue[O].push(X);return ue},y.addFont=function(O,X,ue,we,Pe){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(ue=$(ue,we)),tt.call(this,O,X,ue,Pe=Pe||"Identity-H")};var Ds,Wc=e.lineWidth||.200025,wt=y.__private__.getLineWidth=y.getLineWidth=function(){return Wc},zo=y.__private__.setLineWidth=y.setLineWidth=function(O){return Wc=O,ce(F(te(O))+" w"),this};y.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(O,X){if(O=O||[],X=X||0,isNaN(X)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(ue){return F(te(ue))}).join(" "),X=F(te(X)),ce("["+O+"] "+X+" d"),this};var ls=y.__private__.getLineHeight=y.getLineHeight=function(){return Ve*Ds};y.__private__.getLineHeight=y.getLineHeight=function(){return Ve*Ds};var Mt=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(Ds=O),this},vf=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Ds};Mt(e.lineHeight);var $t=y.__private__.getHorizontalCoordinate=function(O){return te(O)},qr=y.__private__.getVerticalCoordinate=function(O){return P===k?O:Ht[oe].mediaBox.topRightY-Ht[oe].mediaBox.bottomLeftY-te(O)},bf=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(O){return F($t(O))},zc=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(O){return F(qr(O))},$o=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return en($o)},y.__private__.setStrokeColor=y.setDrawColor=function(O,X,ue,we){return $o=fi({ch1:O,ch2:X,ch3:ue,ch4:we,pdfColorType:"draw",precision:2}),ce($o),this};var Oa=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return en(Oa)},y.__private__.setFillColor=y.setFillColor=function(O,X,ue,we){return Oa=fi({ch1:O,ch2:X,ch3:ue,ch4:we,pdfColorType:"fill",precision:2}),ce(Oa),this};var qo=e.textColor||"0 g",cs=y.__private__.getTextColor=y.getTextColor=function(){return en(qo)};y.__private__.setTextColor=y.setTextColor=function(O,X,ue,we){return qo=fi({ch1:O,ch2:X,ch3:ue,ch4:we,pdfColorType:"text",precision:3}),this};var us=e.charSpace,Ho=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(us||0)};y.__private__.setCharSpace=y.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return us=O,this};var Ul=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(O){var X=y.CapJoinStyles[O];if(X===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ul=X,ce(X+" J"),this};var Ls=0;y.__private__.setLineJoin=y.setLineJoin=function(O){var X=y.CapJoinStyles[O];if(X===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ls=X,ce(X+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(F(te(O))+" M"),this},y.GState=Ep,y.setGState=function(O){(O=typeof O=="string"?Xt[cn[O]]:Ra(null,O)).equals(Wt)||(ce("/"+O.id+" gs"),Wt=O)};var Ra=function(O,X){if(!O||!cn[O]){var ue=!1;for(var we in Xt)if(Xt.hasOwnProperty(we)&&Xt[we].equals(X)){ue=!0;break}if(ue)X=Xt[we];else{var Pe="GS"+(Object.keys(Xt).length+1).toString(10);Xt[Pe]=X,X.id=Pe}return O&&(cn[O]=X.id),vr.publish("addGState",X),X}};y.addGState=function(O,X){return Ra(O,X),this},y.saveGraphicsState=function(){return ce("q"),Dt.push({key:ht,size:Ve,color:qo}),this},y.restoreGraphicsState=function(){ce("Q");var O=Dt.pop();return ht=O.key,Ve=O.size,qo=O.color,Wt=null,this},y.setCurrentTransformationMatrix=function(O){return ce(O.toString()+" cm"),this},y.comment=function(O){return ce("#"+O),this};var jn=function(O,X){var ue=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Ke){isNaN(Ke)||(ue=parseFloat(Ke))}});var we=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Ke){isNaN(Ke)||(we=parseFloat(Ke))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Ke){Pe=Ke.toString()}}),this},Wl=function(O,X,ue,we){jn.call(this,O,X),this.type="rect";var Pe=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(rt){isNaN(rt)||(Pe=parseFloat(rt))}});var Ke=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(rt){isNaN(rt)||(Ke=parseFloat(rt))}}),this},Vo=function(){this.page=pr,this.currentPage=oe,this.pages=Ee.slice(0),this.pagesContext=Ht.slice(0),this.x=Et,this.y=Ur,this.matrix=Bt,this.width=qu(oe),this.height=cr(oe),this.outputDestination=ze,this.id="",this.objectNumber=-1};Vo.prototype.restore=function(){pr=this.page,oe=this.currentPage,Ht=this.pagesContext,Ee=this.pages,Et=this.x,Ur=this.y,Bt=this.matrix,Hu(oe,this.width),ds(oe,this.height),ze=this.outputDestination};var zl=function(O,X,ue,we,Pe){ji.push(new Vo),pr=oe=0,Ee=[],Et=O,Ur=X,Bt=Pe,Wr([ue,we])};for(var Go in y.beginFormObject=function(O,X,ue,we,Pe){return zl(O,X,ue,we,Pe),this},y.endFormObject=function(O){return function(X){if(Kr[X])ji.pop().restore();else{var ue=new Vo,we="Xo"+(Object.keys($n).length+1).toString(10);ue.id=we,Kr[X]=we,$n[we]=ue,vr.publish("addFormObject",ue),ji.pop().restore()}}(O),this},y.doFormObject=function(O,X){var ue=$n[Kr[O]];return ce("q"),ce(X.toString()+" cm"),ce("/"+ue.id+" Do"),ce("Q"),this},y.getFormObject=function(O){var X=$n[Kr[O]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},y.save=function(O,X){return O=O||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(tu(Ir(Rs()),O),typeof tu.unload=="function"&&Yt.setTimeout&&setTimeout(tu.unload,911),this):new Promise(function(ue,we){try{var Pe=tu(Ir(Rs()),O);typeof tu.unload=="function"&&Yt.setTimeout&&setTimeout(tu.unload,911),ue(Pe)}catch(Ke){we(Ke.message)}})},_t.API)_t.API.hasOwnProperty(Go)&&(Go==="events"&&_t.API.events.length?function(O,X){var ue,we,Pe;for(Pe=X.length-1;Pe!==-1;Pe--)ue=X[Pe][0],we=X[Pe][1],O.subscribe.apply(O,[ue].concat(typeof we=="function"?[we]:we))}(vr,_t.API.events):y[Go]=_t.API[Go]);function qu(O){return Ht[O].mediaBox.topRightX-Ht[O].mediaBox.bottomLeftX}function Hu(O,X){Ht[O].mediaBox.topRightX=X+Ht[O].mediaBox.bottomLeftX}function cr(O){return Ht[O].mediaBox.topRightY-Ht[O].mediaBox.bottomLeftY}function ds(O,X){Ht[O].mediaBox.topRightY=X+Ht[O].mediaBox.bottomLeftY}var Ko=y.getPageWidth=function(O){return qu(O=O||oe)/zt},Da=y.setPageWidth=function(O,X){Hu(O,X*zt)},Xo=y.getPageHeight=function(O){return cr(O=O||oe)/zt},Ue=y.setPageHeight=function(O,X){ds(O,X*zt)};return y.internal={pdfEscape:ga,getStyle:yn,getFont:Fl,getFontSize:He,getCharSpace:Ho,getTextColor:cs,getLineHeight:ls,getLineHeightFactor:vf,getLineWidth:wt,write:Ze,getHorizontalCoordinate:$t,getVerticalCoordinate:qr,getCoordinateString:bf,getVerticalCoordinateString:zc,collections:{},newObject:ur,newAdditionalObject:dt,newObjectDeferred:Xr,newObjectDeferredBegin:Tr,getFilters:Ui,putStream:Si,events:vr,scaleFactor:zt,pageSize:{getWidth:function(){return Ko(oe)},setWidth:function(O){Da(oe,O)},getHeight:function(){return Xo(oe)},setHeight:function(O){Ue(oe,O)}},encryptionOptions:m,encryption:zr,getEncryptor:function(O){return m!==null?zr.encryptor(O,0):function(X){return X}},output:Vn,getNumberOfPages:hr,pages:Ee,out:ce,f2:M,f3:z,getPageInfo:Nr,getPageInfoByObjId:Gn,getCurrentPageInfo:Le,getPDFVersion:A,Point:jn,Rectangle:Wl,Matrix:Lt,hasHotfix:Fo},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Ko(oe)},set:function(O){Da(oe,O)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Xo(oe)},set:function(O){Ue(oe,O)},enumerable:!0,configurable:!0}),(function(O){for(var X=0,ue=st.length;X<ue;X++){var we=tt.call(this,O[X][0],O[X][1],O[X][2],st[X][3],!0);g===!1&&(b[we]=!0);var Pe=O[X][0].split("-");Ml({id:we,fontName:Pe[0],fontStyle:Pe[1]||""})}vr.publish("addFonts",{fonts:$e,dictionary:At})}).call(y,st),ht="F1",Os(i,r),vr.publish("initialized"),y}Qu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Qu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qu.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Qu.prototype.processOwnerPassword=function(e,t){return ib(nb(t).substr(0,5),e)},Qu.prototype.encryptor=function(e,t){var r=nb(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return ib(r,n)}},Ep.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Lr(e)!==Lr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},_t.API={events:[]},_t.version="3.0.3";var _n=_t.API,b3=1,zu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(e){return e.toFixed(2)},Jl=function(e){return e.toFixed(5)};_n.__acroform__={};var Ia=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},gj=function(e){return e*b3},bo=function(e){var t=new BP,r=Nt.internal.getHeight(e)||0,n=Nt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jt(n)),Number(Jt(r))],t},bie=_n.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},wie=_n.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Nie=_n.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Mn=_n.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nie(e,t-1)},Bn=_n.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bie(e,t-1)},Fn=_n.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wie(e,t-1)},Aie=_n.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],c=e[3],d={};return d.lowerLeft_X=r(i)||0,d.lowerLeft_Y=n(a+c)||0,d.upperRight_X=r(i+o)||0,d.upperRight_Y=n(a)||0,[Number(Jt(d.lowerLeft_X)),Number(Jt(d.lowerLeft_Y)),Number(Jt(d.upperRight_X)),Number(Jt(d.upperRight_Y))]},Cie=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=ab(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Jt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=bo(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},ab=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(M){return M.split(`
`)}):i.map(function(M){return[M]});var a=r,o=Nt.internal.getHeight(e)||0;o=o<0?-o:o;var c=Nt.internal.getWidth(e)||0;c=c<0?-c:c;var d=function(M,z,te){if(M+1<i.length){var V=z+" "+i[M+1][0];return O1(V,e,te).width<=c-4}return!1};a++;e:for(;a>0;){t="",a--;var f,m,g=O1("3",e,a).height,b=e.multiline?o-a:(o-g)/2,y=b+=2,w=0,A=0,N=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+O1(t,e,a=12).width+", FieldWidth:"+c+`
`;break}for(var S="",E=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var P=!1;if(i[k].length!==1&&N!==i[k].length-1){if((g+2)*(E+2)+2>o)continue e;S+=i[k][N],P=!0,A=k,k--}else{S=(S+=i[k][N]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var W=parseInt(k),H=d(W,S,a),$=k>=i.length-1;if(H&&!$){S+=" ",N=0;continue}if(H||$){if($)A=W;else if(e.multiline&&(g+2)*(E+2)+2>o)continue e}else{if(!e.multiline||(g+2)*(E+2)+2>o)continue e;A=W}}for(var F="",L=w;L<=A;L++){var J=i[L];if(e.multiline){if(L===A){F+=J[N]+" ",N=(N+1)%J.length;continue}if(L===w){F+=J[J.length-1]+" ";continue}}F+=J[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,m=O1(F,e,a).width,e.textAlign){case"right":f=c-m-2;break;case"center":f=(c-m)/2;break;default:f=2}t+=Jt(f)+" "+Jt(y)+` Td
`,t+="("+zu(F)+`) Tj
`,t+=-Jt(f)+` 0 Td
`,y=-(a+2),m=0,w=P?A:A+1,E++,S=""}break}return n.text=t,n.fontSize=a,n},O1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},jie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Sie=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Eie=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(so.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(jie)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");b3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new FP,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Sie(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var c=n[o],d=[],f=c.Rect;if(c.Rect&&(c.Rect=Aie(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Nt.createDefaultAppearanceStream(c),Lr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=Cie(c);d.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var g="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var y=c.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var o in y)if(y.hasOwnProperty(o)){var w=y[o];typeof w=="function"&&(w=w.call(i,c)),g+="/"+o+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=y)=="function"&&(w=w.call(i,c)),g+="/"+o+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:c.objId}),i.internal.out("endobj")}a&&function(A,N){for(var S in A)if(A.hasOwnProperty(S)){var E=S,k=A[S];N.internal.newObjectDeferredBegin(k.objId,!0),Lr(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete A[E]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},MP=_n.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Lr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+zu(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$2=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+zu(n(e))+")"},Co=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Co.prototype.toString=function(){return this.objId+" 0 R"},Co.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Co.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:MP(i,this.objId,this.scope)}):i instanceof Co?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var BP=function(){Co.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ia(BP,Co);var FP=function(){Co.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+zu(r(e))+")"}},set:function(r){e=r}})};Ia(FP,Co);var so=function e(){Co.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mn(t,3)},set:function(S){S?this.F=Bn(t,3):this.F=Fn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof kp)return;a="FieldObject"+e.FieldNum++}var S=function(E){return E};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+zu(S(a))+")"},set:function(S){a=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(S){a=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/b3:f},set:function(S){f=S}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(S){m=S}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof kp||this instanceof xu))return $2(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=S}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof yi==0?$2(b,this.objId,this.scope):b},set:function(S){S=S.toString(),b=this instanceof yi==0?S.substr(0,1)==="("?Zu(S.substr(1,S.length-2)):Zu(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi==1?Zu(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof yi==1?"/"+S:S}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof yi==0?$2(y,this.objId,this.scope):y},set:function(S){S=S.toString(),y=this instanceof yi==0?S.substr(0,1)==="("?Zu(S.substr(1,S.length-2)):Zu(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi==1?Zu(y.substr(1,y.length-1)):y},set:function(S){S=S.toString(),y=this instanceof yi==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(S){S=!!S,A=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(S){w=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,1)},set:function(S){S?this.Ff=Bn(this.Ff,1):this.Ff=Fn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,2)},set:function(S){S?this.Ff=Bn(this.Ff,2):this.Ff=Fn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,3)},set:function(S){S?this.Ff=Bn(this.Ff,3):this.Ff=Fn(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');N=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(N){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ia(so,Co);var kd=function(){so.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return MP(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,c){c||(c=1);for(var d,f=[];d=o.exec(a);)f.push(d[c]);return f}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,18)},set:function(r){r?this.Ff=Bn(this.Ff,18):this.Ff=Fn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bn(this.Ff,19):this.Ff=Fn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,20)},set:function(r){r?(this.Ff=Bn(this.Ff,20),t.sort()):this.Ff=Fn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,22)},set:function(r){r?this.Ff=Bn(this.Ff,22):this.Ff=Fn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,23)},set:function(r){r?this.Ff=Bn(this.Ff,23):this.Ff=Fn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,27)},set:function(r){r?this.Ff=Bn(this.Ff,27):this.Ff=Fn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ia(kd,so);var Td=function(){kd.call(this),this.fontName="helvetica",this.combo=!1};Ia(Td,kd);var _d=function(){Td.call(this),this.combo=!0};Ia(_d,Td);var em=function(){_d.call(this),this.edit=!0};Ia(em,_d);var yi=function(){so.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,15)},set:function(r){r?this.Ff=Bn(this.Ff,15):this.Ff=Fn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,16)},set:function(r){r?this.Ff=Bn(this.Ff,16):this.Ff=Fn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,17)},set:function(r){r?this.Ff=Bn(this.Ff,17):this.Ff=Fn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,26)},set:function(r){r?this.Ff=Bn(this.Ff,26):this.Ff=Fn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+zu(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Lr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ia(yi,so);var tm=function(){yi.call(this),this.pushButton=!0};Ia(tm,yi);var Id=function(){yi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ia(Id,yi);var kp=function(){var e,t;so.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+zu(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Lr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ia(kp,so),Id.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Id.prototype.createOption=function(e){var t=new kp;return t.Parent=this,t.optionName=e,this.Kids.push(t),kie.call(this.scope,t),t};var rm=function(){yi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};Ia(rm,yi);var xu=function(){so.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,13)},set:function(t){t?this.Ff=Bn(this.Ff,13):this.Ff=Fn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,21)},set:function(t){t?this.Ff=Bn(this.Ff,21):this.Ff=Fn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,23)},set:function(t){t?this.Ff=Bn(this.Ff,23):this.Ff=Fn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,24)},set:function(t){t?this.Ff=Bn(this.Ff,24):this.Ff=Fn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,25)},set:function(t){t?this.Ff=Bn(this.Ff,25):this.Ff=Fn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,26)},set:function(t){t?this.Ff=Bn(this.Ff,26):this.Ff=Fn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ia(xu,so);var nm=function(){xu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,14)},set:function(e){e?this.Ff=Bn(this.Ff,14):this.Ff=Fn(this.Ff,14)}}),this.password=!0};Ia(nm,xu);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=bo(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=ab(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Jt(Nt.internal.getWidth(e))+" "+Jt(Nt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=bo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Nt.internal.getHeight(e),o=Nt.internal.getWidth(e),c=ab(e,e.caption);return i.push("1 g"),i.push("0 0 "+Jt(o)+" "+Jt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jt(o-1)+" "+Jt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Jt(c.fontSize)+" Tf "+n),i.push(c.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=bo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(Nt.internal.getWidth(e))+" "+Jt(Nt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Nt.RadioButton.Circle.YesNormal,t.D[e]=Nt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=bo(e);t.scope=e.scope;var r=[],n=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Nt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Jl(Nt.internal.getWidth(e)/2)+" "+Jl(Nt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bo(e);t.scope=e.scope;var r=[],n=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Nt.internal.Bezier_C).toFixed(5)),o=Number((n*Nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jl(Nt.internal.getWidth(e)/2)+" "+Jl(Nt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Jl(Nt.internal.getWidth(e)/2)+" "+Jl(Nt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=bo(e);t.scope=e.scope;var r=[],n=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jl(Nt.internal.getWidth(e)/2)+" "+Jl(Nt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Nt.RadioButton.Cross.YesNormal,t.D[e]=Nt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=bo(e);t.scope=e.scope;var r=[],n=Nt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Jt(Nt.internal.getWidth(e)-2)+" "+Jt(Nt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bo(e);t.scope=e.scope;var r=Nt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(Nt.internal.getWidth(e))+" "+Jt(Nt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jt(Nt.internal.getWidth(e)-2)+" "+Jt(Nt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=bo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(Nt.internal.getWidth(e))+" "+Jt(Nt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Nt.internal.getWidth(e),r=Nt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Nt.internal.getWidth=function(e){var t=0;return Lr(e)==="object"&&(t=gj(e.Rect[2])),t},Nt.internal.getHeight=function(e){var t=0;return Lr(e)==="object"&&(t=gj(e.Rect[3])),t};var kie=_n.addField=function(e){if(Eie(this,e),!(e instanceof so))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};_n.AcroFormChoiceField=kd,_n.AcroFormListBox=Td,_n.AcroFormComboBox=_d,_n.AcroFormEditBox=em,_n.AcroFormButton=yi,_n.AcroFormPushButton=tm,_n.AcroFormRadioButton=Id,_n.AcroFormCheckBox=rm,_n.AcroFormTextField=xu,_n.AcroFormPasswordField=nm,_n.AcroFormAppearance=Nt,_n.AcroForm={ChoiceField:kd,ListBox:Td,ComboBox:_d,EditBox:em,Button:yi,PushButton:tm,RadioButton:Id,CheckBox:rm,TextField:xu,PasswordField:nm,Appearance:Nt},_t.AcroForm={ChoiceField:kd,ListBox:Td,ComboBox:_d,EditBox:em,Button:yi,PushButton:tm,RadioButton:Id,CheckBox:rm,TextField:xu,PasswordField:nm,Appearance:Nt};_t.AcroForm;function UP(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(M,z){var te,V,Z,ye,ve,me=r;if((z=z||r)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(H(M))for(ve in n)for(Z=n[ve],te=0;te<Z.length;te+=1){for(ye=!0,V=0;V<Z[te].length;V+=1)if(Z[te][V]!==void 0&&Z[te][V]!==M[V]){ye=!1;break}if(ye===!0){me=ve;break}}else for(ve in n)for(Z=n[ve],te=0;te<Z.length;te+=1){for(ye=!0,V=0;V<Z[te].length;V+=1)if(Z[te][V]!==void 0&&Z[te][V]!==M.charCodeAt(V)){ye=!1;break}if(ye===!0){me=ve;break}}return me===r&&z!==r&&(me=z),me},a=function M(z){for(var te=this.internal.write,V=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:z.width}),ye.push({key:"Height",value:z.height}),z.colorSpace===S.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===S.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var ve="",me=0,Ne=z.transparency.length;me<Ne;me++)ve+=z.transparency[me]+" "+z.transparency[me]+" ";ye.push({key:"Mask",value:"["+ve+"]"})}z.sMask!==void 0&&ye.push({key:"SMask",value:z.objectId+1+" 0 R"});var Ie=z.filter!==void 0?["/"+z.filter]:void 0;if(V({data:z.data,additionalKeyValues:ye,alreadyAppliedFilters:Ie,objectId:z.objectId}),te("endobj"),"sMask"in z&&z.sMask!==void 0){var je,q=(je=z.sMaskBitsPerComponent)!==null&&je!==void 0?je:z.bitsPerComponent,oe={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:z.sMask};"filter"in z&&(oe.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(z.width),oe.filter=z.filter),M.call(this,oe)}if(z.colorSpace===S.INDEXED){var ne=this.internal.newObject();V({data:F(new Uint8Array(z.palette)),objectId:ne}),te("endobj")}},o=function(){var M=this.internal.collections[t+"images"];for(var z in M)a.call(this,M[z])},c=function(){var M,z=this.internal.collections[t+"images"],te=this.internal.write;for(var V in z)te("/I"+(M=z[V]).index,M.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var M=this.internal.collections[t+"images"];return d.call(this),M},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},g=function(M){return typeof e["process"+M.toUpperCase()]=="function"},b=function(M){return Lr(M)==="object"&&M.nodeType===1},y=function(M,z){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var te=""+M.getAttribute("src");if(te.indexOf("data:image/")===0)return Q1(unescape(te).split("base64,").pop());var V=e.loadFile(te,!0);if(V!==void 0)return V}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var Z;switch(z){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return Q1(M.toDataURL(Z,1).split("base64,").pop())}},w=function(M){var z=this.internal.collections[t+"images"];if(z){for(var te in z)if(M===z[te].alias)return z[te]}},A=function(M,z,te){return M||z||(M=-96,z=-96),M<0&&(M=-1*te.width*72/M/this.internal.scaleFactor),z<0&&(z=-1*te.height*72/z/this.internal.scaleFactor),M===0&&(M=z*te.width/te.height),z===0&&(z=M*te.height/te.width),[M,z]},N=function(M,z,te,V,Z,ye){var ve=A.call(this,te,V,Z),me=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,Ie=f.call(this);if(te=ve[0],V=ve[1],Ie[Z.index]=Z,ye){ye*=Math.PI/180;var je=Math.cos(ye),q=Math.sin(ye),oe=function(ge){return ge.toFixed(4)},ne=[oe(je),oe(q),oe(-1*q),oe(je),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,me(M),Ne(z+V),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([me(te),"0","0",me(V),"0","0","cm"].join(" "))):this.internal.write([me(te),"0","0",me(V),me(M),Ne(z+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(M){var z,te,V=0;if(typeof M=="string")for(te=M.length,z=0;z<te;z++)V=(V<<5)-V+M.charCodeAt(z),V|=0;else if(H(M))for(te=M.byteLength/2,z=0;z<te;z++)V=(V<<5)-V+M[z],V|=0;return V},P=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var z=!0;return M.length===0&&(z=!1),M.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(z=!1),z},W=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var z=M.indexOf(",");return z<0?null:M.substring(0,z).trim().endsWith("base64")?M.substring(z+1):null};e.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},$=e.__addimage__.binaryStringToUint8Array=function(M){for(var z=M.length,te=new Uint8Array(z),V=0;V<z;V++)te[V]=M.charCodeAt(V);return te},F=e.__addimage__.arrayBufferToBinaryString=function(M){for(var z="",te=H(M)?M:new Uint8Array(M),V=0;V<te.length;V+=8192)z+=String.fromCharCode.apply(null,te.subarray(V,V+8192));return z};e.addImage=function(){var M,z,te,V,Z,ye,ve,me,Ne;if(typeof arguments[1]=="number"?(z=r,te=arguments[1],V=arguments[2],Z=arguments[3],ye=arguments[4],ve=arguments[5],me=arguments[6],Ne=arguments[7]):(z=arguments[1],te=arguments[2],V=arguments[3],Z=arguments[4],ye=arguments[5],ve=arguments[6],me=arguments[7],Ne=arguments[8]),Lr(M=arguments[0])==="object"&&!b(M)&&"imageData"in M){var Ie=M;M=Ie.imageData,z=Ie.format||z||r,te=Ie.x||te||0,V=Ie.y||V||0,Z=Ie.w||Ie.width||Z,ye=Ie.h||Ie.height||ye,ve=Ie.alias||ve,me=Ie.compression||me,Ne=Ie.rotation||Ie.angle||Ne}var je=this.internal.getFilters();if(me===void 0&&je.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(te)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var q=L.call(this,M,z,ve,me);return N.call(this,te,V,Z,ye,q,Ne),this};var L=function(M,z,te,V){var Z,ye,ve;if(typeof M=="string"&&i(M)===r){M=unescape(M);var me=J(M,!1);(me!==""||(me=e.loadFile(M,!0))!==void 0)&&(M=me)}if(b(M)&&(M=y(M,z)),z=i(M,z),!g(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((ve=te)==null||ve.length===0)&&(te=function(Ne){return typeof Ne=="string"||H(Ne)?k(Ne):H(Ne.data)?k(Ne.data):null}(M)),(Z=w.call(this,te))||(M instanceof Uint8Array||z==="RGBA"||(ye=M,M=$(M)),Z=this["process"+z.toUpperCase()](M,m.call(this),te,function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in e.image_compression?Ne:E.NONE}(V),ye)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},J=e.__addimage__.convertBase64ToBinaryString=function(M,z){z=typeof z!="boolean"||z;var te,V="";if(typeof M=="string"){var Z;te=(Z=W(M))!==null&&Z!==void 0?Z:M;try{V=Q1(te)}catch(ye){if(z)throw P(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(M){var z,te,V="";if(b(M)&&(M=y(M)),typeof M=="string"&&i(M)===r&&((V=J(M,!1))===""&&(V=e.loadFile(M)||""),M=V),te=i(M),!g(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(M instanceof Uint8Array||(M=$(M)),!(z=this["process"+te.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=te,z}})(_t.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};_t.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,m=!1,g=0;g<f.length&&!m;g++)switch((n=f[g]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){n=f[b];var y=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(A.objId),E=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+y(S(n.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+y(S(E))+") >>",A.content=a;var k=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(A.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(w(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var W=this.annotations._nameMap[n.options.name];n.options.pageNumber=W.page,n.options.top=W.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var H=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+H+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(r),y:f(n),w:d(r+i),h:f(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,c,d=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var m=this.splitTextToSize(r,c).length;o=Math.ceil(f*m)}else c=d,o=f;return this.text(r,n,i,a),i+=.2*f,a.align==="center"&&(n-=d/2),a.align==="right"&&(n-=d),this.link(n,i-f,c,o,a),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(_t.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},c=e.__arabicParser__.isArabicEndLetter=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(A){return o(A)&&i.indexOf(A.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(A){return o(A)&&a(A)&&t[A.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(A){var N=0,S=r,E="",k=0;for(N=0;N<A.length;N+=1)S[A.charCodeAt(N)]!==void 0?(k++,typeof(S=S[A.charCodeAt(N)])=="number"&&(E+=String.fromCharCode(S),S=r,k=0),N===A.length-1&&(S=r,E+=A.charAt(N-(k-1)),N-=k-1,k=0)):(S=r,E+=A.charAt(N-k),N-=k,k=0);return E};e.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&n[A.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(A,N,S){return o(A)?a(A)===!1?-1:!f(A)||!o(N)&&!o(S)||!o(S)&&c(N)||c(A)&&!o(N)||c(A)&&d(N)||c(A)&&c(N)?0:m(A)&&o(N)&&!c(N)&&o(S)&&f(S)?3:c(A)||!o(S)?1:2:-1},y=function(A){var N=0,S=0,E=0,k="",P="",W="",H=(A=A||"").split("\\s+"),$=[];for(N=0;N<H.length;N+=1){for($.push(""),S=0;S<H[N].length;S+=1)k=H[N][S],P=H[N][S-1],W=H[N][S+1],o(k)?(E=b(k,P,W),$[N]+=E!==-1?String.fromCharCode(t[k.charCodeAt(0)][E]):k):$[N]+=k;$[N]=g($[N])}return $.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var A,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(N)){var E=0;for(S=[],E=0;E<N.length;E+=1)Array.isArray(N[E])?S.push([y(N[E][0]),N[E][1],N[E][2]]):S.push([y(N[E])]);A=S}else A=y(N);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};e.events.push(["preProcessText",w])}(_t.API),_t.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(_t.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(A){w=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,f){n.call(this);var m=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,y=0,w=0,A=0,N=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var S=f.maxWidth;S>0?typeof d=="string"?d=this.splitTextToSize(d,S):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(k,P){return k.concat(N.splitTextToSize(P,S))},[])):d=Array.isArray(d)?d:[d];for(var E=0;E<d.length;E++)y<(A=this.getStringUnitWidth(d[E],{font:g})*m)&&(y=A);return y!==0&&(w=d.length),{w:y/=b,h:Math.max((w*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,y&&b&&(this.printHeaderRow(d.lineNumber,!0),d.y+=b[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-m,d.y+m,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+m,{align:"center",baseline:"top",maxWidth:d.width-m-m}):this.text(d.text,d.x+m,d.y+m,{align:"left",baseline:"top",maxWidth:d.width-m-m})),this.internal.__cell__.lastCell=d,this};e.table=function(d,f,m,g,b){if(n.call(this),!m)throw new Error("No data for PDF table.");var y,w,A,N,S=[],E=[],k=[],P={},W={},H=[],$=[],F=(b=b||{}).autoSize||!1,L=b.printHeaders!==!1,J=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,M=b.margins||Object.assign({width:this.getPageWidth()},t),z=typeof b.padding=="number"?b.padding:3,te=b.headerBackgroundColor||"#c8c8c8",V=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=V,this.setFontSize(J),g==null)E=S=Object.keys(m[0]),k=S.map(function(){return"left"});else if(Array.isArray(g)&&Lr(g[0])==="object")for(S=g.map(function(Ie){return Ie.name}),E=g.map(function(Ie){return Ie.prompt||Ie.name||""}),k=g.map(function(Ie){return Ie.align||"left"}),y=0;y<g.length;y+=1)W[g[y].name]=.7499990551181103*g[y].width;else Array.isArray(g)&&typeof g[0]=="string"&&(E=S=g,k=S.map(function(){return"left"}));if(F||Array.isArray(g)&&typeof g[0]=="string")for(y=0;y<S.length;y+=1){for(P[N=S[y]]=m.map(function(Ie){return Ie[N]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(E[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=P[N],this.setFont(void 0,"normal"),A=0;A<w.length;A+=1)H.push(this.getTextDimensions(w[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[N]=Math.max.apply(null,H)+z+z,H=[]}if(L){var Z={};for(y=0;y<S.length;y+=1)Z[S[y]]={},Z[S[y]].text=E[y],Z[S[y]].align=k[y];var ye=c.call(this,Z,W);$=S.map(function(Ie){return new a(d,f,W[Ie],ye,Z[Ie].text,void 0,Z[Ie].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var ve=g.reduce(function(Ie,je){return Ie[je.name]=je.align,Ie},{});for(y=0;y<m.length;y+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:y,data:m[y]},this);var me=c.call(this,m[y],W);for(A=0;A<S.length;A+=1){var Ne=m[y][S[A]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:y,col:A,data:Ne},this),o.call(this,new a(d,f,W[S[A]],me,Ne,y+2,ve[S[A]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var c=function(d,f){var m=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(d).map(function(y){var w=d[y];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*g/b+m+m},this).reduce(function(y,w){return Math.max(y,w)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(m.y=this.internal.__cell__.margins.top||0,b.push(m)),m.lineNumber=d;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(w)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}}(_t.API);var WP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sb=UP(zP),$P=[100,200,300,400,500,600,700,800,900],Tie=UP($P);function q2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return WP[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof sb[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function xj(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var _ie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vj(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function bj(e){return e.trimLeft()}function Iie(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Pie(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var R1,wj,Nj,Ju,D1,Aj,Cj,jj,H2=["times"];function Sj(e,t,r,n,i){var a=4,o=kj;switch(i){case _t.API.image_compression.FAST:a=1,o=Ej;break;case _t.API.image_compression.MEDIUM:a=6,o=Tj;break;case _t.API.image_compression.SLOW:a=9,o=_j}e=function(d,f,m,g){for(var b,y=d.length/f,w=new Uint8Array(d.length+y),A=[Oie,Ej,kj,Tj,_j],N=0;N<y;N+=1){var S=N*f,E=d.subarray(S,S+f);if(g)w.set(g(E,m,b),S+N);else{for(var k=A.length,P=[],W=0;W<k;W+=1)P[W]=A[W](E,m,b);var H=Die(P.concat());w.set(P[H],S+N)}b=E}return w}(e,t,Math.ceil(r*n/8),o);var c=Qv(e,{level:a});return _t.API.__addimage__.arrayBufferToBinaryString(c)}function Oie(e){var t=Array.apply([],e);return t.unshift(0),t}function Ej(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function kj(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=e[a]-o+256&255}return i}function Tj(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,c=r&&r[a]||0;i[a+1]=e[a]+256-(o+c>>>1)&255}return i}function _j(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=Rie(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function Rie(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function Die(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function V2(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return qP(e,i)>>a&o}function Ij(e,t,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),c=(1<<n)-1,d=(t&c)<<o;(function(f,m,g){if(m+1<f.byteLength)f.setUint16(m,g,!1);else{var b=g>>8&255;f.setUint8(m,b)}})(e,a,qP(e,a)&~(c<<o)&65535|d)}function qP(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Lie(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var c=null,d=null;a&&(c=t,d=o,t+=3*o);var f=!0,m=[],g=0,b=null,y=0,w=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=e[t++];g=e[t++]|e[t++]<<8,b=e[t++],1&A||(b=null),y=A>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,P=e[t++],W=P>>6&1,H=1<<1+(7&P),$=c,F=d,L=!1;P>>7&&(L=!0,$=t,F=H,t+=3*H);var J=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}m.push({x:N,y:S,width:E,height:k,has_local_palette:L,palette_offset:$,palette_size:F,data_offset:J,data_length:t-J,transparent_index:b,interlaced:!!W,delay:g,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return w},this.frameInfo=function(z){if(z<0||z>=m.length)throw new Error("Frame index out of range.");return m[z]},this.decodeAndBlitFrameBGRA=function(z,te){var V=this.frameInfo(z),Z=V.width*V.height,ye=new Uint8Array(Z);Pj(e,V.data_offset,ye,Z);var ve=V.palette_offset,me=V.transparent_index;me===null&&(me=256);var Ne=V.width,Ie=r-Ne,je=Ne,q=4*(V.y*r+V.x),oe=4*((V.y+V.height)*r+V.x),ne=q,ge=4*Ie;V.interlaced===!0&&(ge+=4*r*7);for(var xe=8,_e=0,he=ye.length;_e<he;++_e){var pe=ye[_e];if(je===0&&(je=Ne,(ne+=ge)>=oe&&(ge=4*Ie+4*r*(xe-1),ne=q+(Ne+Ie)*(xe<<1),xe>>=1)),pe===me)ne+=4;else{var Ce=e[ve+3*pe],Ee=e[ve+3*pe+1],Te=e[ve+3*pe+2];te[ne++]=Te,te[ne++]=Ee,te[ne++]=Ce,te[ne++]=255}--je}},this.decodeAndBlitFrameRGBA=function(z,te){var V=this.frameInfo(z),Z=V.width*V.height,ye=new Uint8Array(Z);Pj(e,V.data_offset,ye,Z);var ve=V.palette_offset,me=V.transparent_index;me===null&&(me=256);var Ne=V.width,Ie=r-Ne,je=Ne,q=4*(V.y*r+V.x),oe=4*((V.y+V.height)*r+V.x),ne=q,ge=4*Ie;V.interlaced===!0&&(ge+=4*r*7);for(var xe=8,_e=0,he=ye.length;_e<he;++_e){var pe=ye[_e];if(je===0&&(je=Ne,(ne+=ge)>=oe&&(ge=4*Ie+4*r*(xe-1),ne=q+(Ne+Ie)*(xe<<1),xe>>=1)),pe===me)ne+=4;else{var Ce=e[ve+3*pe],Ee=e[ve+3*pe+1],Te=e[ve+3*pe+2];te[ne++]=Ce,te[ne++]=Ee,te[ne++]=Te,te[ne++]=255}--je}}}function Pj(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,c=o+1,d=i+1,f=(1<<d)-1,m=0,g=0,b=0,y=e[t++],w=new Int32Array(4096),A=null;;){for(;m<16&&y!==0;)g|=e[t++]<<m,m+=8,y===1?y=e[t++]:--y;if(m<d)break;var N=g&f;if(g>>=d,m-=d,N!==a){if(N===o)break;for(var S=N<c?N:A,E=0,k=S;k>a;)k=w[k]>>8,++E;var P=k;if(b+E+(S!==N?1:0)>n)return void Vr.log("Warning, gif stream longer than expected.");r[b++]=P;var W=b+=E;for(S!==N&&(r[b++]=P),k=S;E--;)k=w[k],r[--W]=255&k,k>>=8;A!==null&&c<4096&&(w[c++]=A<<8|P,c>=f+1&&d<12&&(++d,f=f<<1|1)),A=N}else c=o+1,f=(1<<(d=i+1))-1,A=null}return b!==n&&Vr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function G2(e){var t,r,n,i,a,o=Math.floor,c=new Array(64),d=new Array(64),f=new Array(64),m=new Array(64),g=new Array(65535),b=new Array(65535),y=new Array(64),w=new Array(64),A=[],N=0,S=7,E=new Array(64),k=new Array(64),P=new Array(64),W=new Array(256),H=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(q,oe){for(var ne=0,ge=0,xe=new Array,_e=1;_e<=16;_e++){for(var he=1;he<=q[_e];he++)xe[oe[ge]]=[],xe[oe[ge]][0]=ne,xe[oe[ge]][1]=_e,ge++,ne++;ne*=2}return xe}function ve(q){for(var oe=q[0],ne=q[1]-1;ne>=0;)oe&1<<ne&&(N|=1<<S),ne--,--S<0&&(N==255?(me(255),me(0)):me(N),S=7,N=0)}function me(q){A.push(q)}function Ne(q){me(q>>8&255),me(255&q)}function Ie(q,oe,ne,ge,xe){for(var _e,he=xe[0],pe=xe[240],Ce=function(Ve,Ct){var He,Gt,It,rr,Kt,Rt,Cr,Ut,ht,zt,Et=0;for(ht=0;ht<8;++ht){He=Ve[Et],Gt=Ve[Et+1],It=Ve[Et+2],rr=Ve[Et+3],Kt=Ve[Et+4],Rt=Ve[Et+5],Cr=Ve[Et+6];var Ur=He+(Ut=Ve[Et+7]),Bt=He-Ut,$e=Gt+Cr,At=Gt-Cr,Dt=It+Rt,ft=It-Rt,nr=rr+Kt,Xt=rr-Kt,cn=Ur+nr,Wt=Ur-nr,pr=$e+Dt,Ht=$e-Dt;Ve[Et]=cn+pr,Ve[Et+4]=cn-pr;var vr=.707106781*(Ht+Wt);Ve[Et+2]=Wt+vr,Ve[Et+6]=Wt-vr;var ti=.382683433*((cn=Xt+ft)-(Ht=At+Bt)),$n=.5411961*cn+ti,Kr=1.306562965*Ht+ti,ji=.707106781*(pr=ft+At),Lt=Bt+ji,qn=Bt-ji;Ve[Et+5]=qn+$n,Ve[Et+3]=qn-$n,Ve[Et+1]=Lt+Kr,Ve[Et+7]=Lt-Kr,Et+=8}for(Et=0,ht=0;ht<8;++ht){He=Ve[Et],Gt=Ve[Et+8],It=Ve[Et+16],rr=Ve[Et+24],Kt=Ve[Et+32],Rt=Ve[Et+40],Cr=Ve[Et+48];var Ps=He+(Ut=Ve[Et+56]),Hn=He-Ut,Fi=Gt+Cr,ur=Gt-Cr,Xr=It+Rt,Tr=It-Rt,dt=rr+Kt,ta=rr-Kt,ra=Ps+dt,en=Ps-dt,fi=Fi+Xr,Ui=Fi-Xr;Ve[Et]=ra+fi,Ve[Et+32]=ra-fi;var Si=.707106781*(Ui+en);Ve[Et+16]=en+Si,Ve[Et+48]=en-Si;var hi=.382683433*((ra=ta+Tr)-(Ui=ur+Hn)),ss=.5411961*ra+hi,Bo=1.306562965*Ui+hi,Ei=.707106781*(fi=Tr+ur),Cn=Hn+Ei,jr=Hn-Ei;Ve[Et+40]=jr+ss,Ve[Et+24]=jr-ss,Ve[Et+8]=Cn+Bo,Ve[Et+56]=Cn-Bo,Et++}for(ht=0;ht<64;++ht)zt=Ve[ht]*Ct[ht],y[ht]=zt>0?zt+.5|0:zt-.5|0;return y}(q,oe),Ee=0;Ee<64;++Ee)w[$[Ee]]=Ce[Ee];var Te=w[0]-ne;ne=w[0],Te==0?ve(ge[0]):(ve(ge[b[_e=32767+Te]]),ve(g[_e]));for(var ze=63;ze>0&&w[ze]==0;)ze--;if(ze==0)return ve(he),ne;for(var Re,ce=1;ce<=ze;){for(var Ze=ce;w[ce]==0&&ce<=ze;)++ce;var ot=ce-Ze;if(ot>=16){Re=ot>>4;for(var st=1;st<=Re;++st)ve(pe);ot&=15}_e=32767+w[ce],ve(xe[(ot<<4)+b[_e]]),ve(g[_e]),ce++}return ze!=63&&ve(he),ne}function je(q){q=Math.min(Math.max(q,1),100),a!=q&&(function(oe){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ge=0;ge<64;ge++){var xe=o((ne[ge]*oe+50)/100);xe=Math.min(Math.max(xe,1),255),c[$[ge]]=xe}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var pe=o((_e[he]*oe+50)/100);pe=Math.min(Math.max(pe,1),255),d[$[he]]=pe}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,Te=0;Te<8;Te++)for(var ze=0;ze<8;ze++)f[Ee]=1/(c[$[Ee]]*Ce[Te]*Ce[ze]*8),m[Ee]=1/(d[$[Ee]]*Ce[Te]*Ce[ze]*8),Ee++}(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),a=q)}this.encode=function(q,oe){oe&&je(oe),A=new Array,N=0,S=7,Ne(65496),Ne(65504),Ne(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),Ne(1),Ne(1),me(0),me(0),function(){Ne(65499),Ne(132),me(0);for(var Gt=0;Gt<64;Gt++)me(c[Gt]);me(1);for(var It=0;It<64;It++)me(d[It])}(),function(Gt,It){Ne(65472),Ne(17),me(8),Ne(It),Ne(Gt),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)}(q.width,q.height),function(){Ne(65476),Ne(418),me(0);for(var Gt=0;Gt<16;Gt++)me(F[Gt+1]);for(var It=0;It<=11;It++)me(L[It]);me(16);for(var rr=0;rr<16;rr++)me(J[rr+1]);for(var Kt=0;Kt<=161;Kt++)me(M[Kt]);me(1);for(var Rt=0;Rt<16;Rt++)me(z[Rt+1]);for(var Cr=0;Cr<=11;Cr++)me(te[Cr]);me(17);for(var Ut=0;Ut<16;Ut++)me(V[Ut+1]);for(var ht=0;ht<=161;ht++)me(Z[ht])}(),Ne(65498),Ne(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var ne=0,ge=0,xe=0;N=0,S=7,this.encode.displayName="_encode_";for(var _e,he,pe,Ce,Ee,Te,ze,Re,ce,Ze=q.data,ot=q.width,st=q.height,Ve=4*ot,Ct=0;Ct<st;){for(_e=0;_e<Ve;){for(Ee=Ve*Ct+_e,ze=-1,Re=0,ce=0;ce<64;ce++)Te=Ee+(Re=ce>>3)*Ve+(ze=4*(7&ce)),Ct+Re>=st&&(Te-=Ve*(Ct+1+Re-st)),_e+ze>=Ve&&(Te-=_e+ze-Ve+4),he=Ze[Te++],pe=Ze[Te++],Ce=Ze[Te++],E[ce]=(H[he]+H[pe+256|0]+H[Ce+512|0]>>16)-128,k[ce]=(H[he+768|0]+H[pe+1024|0]+H[Ce+1280|0]>>16)-128,P[ce]=(H[he+1280|0]+H[pe+1536|0]+H[Ce+1792|0]>>16)-128;ne=Ie(E,f,ne,t,n),ge=Ie(k,m,ge,r,i),xe=Ie(P,m,xe,r,i),_e+=32}Ct+=8}if(S>=0){var He=[];He[1]=S+1,He[0]=(1<<S+1)-1,ve(He)}return Ne(65497),new Uint8Array(A)},e=e||50,function(){for(var q=String.fromCharCode,oe=0;oe<256;oe++)W[oe]=q(oe)}(),t=ye(F,L),r=ye(z,te),n=ye(J,M),i=ye(V,Z),function(){for(var q=1,oe=2,ne=1;ne<=15;ne++){for(var ge=q;ge<oe;ge++)b[32767+ge]=ne,g[32767+ge]=[],g[32767+ge][1]=ne,g[32767+ge][0]=ge;for(var xe=-(oe-1);xe<=-q;xe++)b[32767+xe]=ne,g[32767+xe]=[],g[32767+xe][1]=ne,g[32767+xe][0]=oe-1+xe;q<<=1,oe<<=1}}(),function(){for(var q=0;q<256;q++)H[q]=19595*q,H[q+256|0]=38470*q,H[q+512|0]=7471*q+32768,H[q+768|0]=-11059*q,H[q+1024|0]=-21709*q,H[q+1280|0]=32768*q+8421375,H[q+1536|0]=-27439*q,H[q+1792|0]=-5329*q}(),je(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Oj(e){function t(L){if(!L)throw Error("assert :P")}function r(L,J,M){for(var z=0;4>z;z++)if(L[J+z]!=M.charCodeAt(z))return!0;return!1}function n(L,J,M,z,te){for(var V=0;V<te;V++)L[J+V]=M[z+V]}function i(L,J,M,z){for(var te=0;te<z;te++)L[J+te]=M}function a(L){return new Int32Array(L)}function o(L,J){for(var M=[],z=0;z<L;z++)M.push(new J);return M}function c(L,J){var M=[];return function z(te,V,Z){for(var ye=Z[V],ve=0;ve<ye&&(te.push(Z.length>V+1?[]:new J),!(Z.length<V+1));ve++)z(te[ve],V+1,Z)}(M,0,L),M}var d=function(){var L=this;function J(C,T){for(var D=1<<T-1>>>0;C&D;)D>>>=1;return D?(C&D-1)+D:C}function M(C,T,D,U,Y){t(!(U%D));do C[T+(U-=D)]=Y;while(0<U)}function z(C,T,D,U,Y){if(t(2328>=Y),512>=Y)var ee=a(512);else if((ee=a(Y))==null)return 0;return function(re,ie,ae,de,Se,Be){var fe,ke,De=ie,Ge=1<<ae,Me=a(16),Xe=a(16);for(t(Se!=0),t(de!=null),t(re!=null),t(0<ae),ke=0;ke<Se;++ke){if(15<de[ke])return 0;++Me[de[ke]]}if(Me[0]==Se)return 0;for(Xe[1]=0,fe=1;15>fe;++fe){if(Me[fe]>1<<fe)return 0;Xe[fe+1]=Xe[fe]+Me[fe]}for(ke=0;ke<Se;++ke)fe=de[ke],0<de[ke]&&(Be[Xe[fe]++]=ke);if(Xe[15]==1)return(de=new te).g=0,de.value=Be[0],M(re,De,1,Ge,de),Ge;var Qe,it=-1,nt=Ge-1,Tt=0,bt=1,ir=1,jt=1<<ae;for(ke=0,fe=1,Se=2;fe<=ae;++fe,Se<<=1){if(bt+=ir<<=1,0>(ir-=Me[fe]))return 0;for(;0<Me[fe];--Me[fe])(de=new te).g=fe,de.value=Be[ke++],M(re,De+Tt,Se,jt,de),Tt=J(Tt,fe)}for(fe=ae+1,Se=2;15>=fe;++fe,Se<<=1){if(bt+=ir<<=1,0>(ir-=Me[fe]))return 0;for(;0<Me[fe];--Me[fe]){if(de=new te,(Tt&nt)!=it){for(De+=jt,Qe=1<<(it=fe)-ae;15>it&&!(0>=(Qe-=Me[it]));)++it,Qe<<=1;Ge+=jt=1<<(Qe=it-ae),re[ie+(it=Tt&nt)].g=Qe+ae,re[ie+it].value=De-ie-it}de.g=fe-ae,de.value=Be[ke++],M(re,De+(Tt>>ae),Se,jt,de),Tt=J(Tt,fe)}}return bt!=2*Xe[15]-1?0:Ge}(C,T,D,U,Y,ee)}function te(){this.value=this.g=0}function V(){this.value=this.g=0}function Z(){this.G=o(5,te),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(mi,V)}function ye(C,T,D,U){t(C!=null),t(T!=null),t(2147483648>U),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=T,C.pa=D,C.Jd=T,C.Yc=D+U,C.Zc=4<=U?D+U-4+1:D,he(C)}function ve(C,T){for(var D=0;0<T--;)D|=Ce(C,128)<<T;return D}function me(C,T){var D=ve(C,T);return pe(C)?-D:D}function Ne(C,T,D,U){var Y,ee=0;for(t(C!=null),t(T!=null),t(4294967288>U),C.Sb=U,C.Ra=0,C.u=0,C.h=0,4<U&&(U=4),Y=0;Y<U;++Y)ee+=T[D+Y]<<8*Y;C.Ra=ee,C.bb=U,C.oa=T,C.pa=D}function Ie(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<ya-8>>>0,++C.bb,C.u-=8;ge(C)&&(C.h=1,C.u=0)}function je(C,T){if(t(0<=T),!C.h&&T<=Ti){var D=ne(C)&ia[T];return C.u+=T,Ie(C),D}return C.h=1,C.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function oe(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(C){return C.Ra>>>(C.u&ya-1)>>>0}function ge(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>ya}function xe(C,T){C.u=T,C.h=ge(C)}function _e(C){C.u>=Qt&&(t(C.u>=Qt),Ie(C))}function he(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function pe(C){return ve(C,1)}function Ce(C,T){var D=C.Ca;0>C.b&&he(C);var U=C.b,Y=D*T>>>8,ee=(C.I>>>U>Y)+0;for(ee?(D-=Y,C.I-=Y+1<<U>>>0):D=Y+1,U=D,Y=0;256<=U;)Y+=8,U>>=8;return U=7^Y+La[U],C.b-=U,C.Ca=(D<<U)-1,ee}function Ee(C,T,D){C[T+0]=D>>24&255,C[T+1]=D>>16&255,C[T+2]=D>>8&255,C[T+3]=255&D}function Te(C,T){return C[T+0]|C[T+1]<<8}function ze(C,T){return Te(C,T)|C[T+2]<<16}function Re(C,T){return Te(C,T)|Te(C,T+2)<<16}function ce(C,T){var D=1<<T;return t(C!=null),t(0<T),C.X=a(D),C.X==null?0:(C.Mb=32-T,C.Xa=T,1)}function Ze(C,T){t(C!=null),t(T!=null),t(C.Xa==T.Xa),n(T.X,0,C.X,0,1<<T.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function st(C,T,D,U){t(D!=null),t(U!=null);var Y=D[0],ee=U[0];return Y==0&&(Y=(C*ee+T/2)/T),ee==0&&(ee=(T*Y+C/2)/C),0>=Y||0>=ee?0:(D[0]=Y,U[0]=ee,1)}function Ve(C,T){return C+(1<<T)-1>>>T}function Ct(C,T){return((4278255360&C)+(4278255360&T)>>>0&4278255360)+((16711935&C)+(16711935&T)>>>0&16711935)>>>0}function He(C,T){L[T]=function(D,U,Y,ee,re,ie,ae){var de;for(de=0;de<re;++de){var Se=L[C](ie[ae+de-1],Y,ee+de);ie[ae+de]=Ct(D[U+de],Se)}}}function Gt(){this.ud=this.hd=this.jd=0}function It(C,T){return((4278124286&(C^T))>>>1)+(C&T)>>>0}function rr(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Kt(C,T){return rr(C+(C-T+.5>>1))}function Rt(C,T,D){return Math.abs(T-D)-Math.abs(C-D)}function Cr(C,T,D,U,Y,ee,re){for(U=ee[re-1],D=0;D<Y;++D)ee[re+D]=U=Ct(C[T+D],U)}function Ut(C,T,D,U,Y){var ee;for(ee=0;ee<D;++ee){var re=C[T+ee],ie=re>>8&255,ae=16711935&(ae=(ae=16711935&re)+((ie<<16)+ie));U[Y+ee]=(4278255360&re)+ae>>>0}}function ht(C,T){T.jd=255&C,T.hd=C>>8&255,T.ud=C>>16&255}function zt(C,T,D,U,Y,ee){var re;for(re=0;re<U;++re){var ie=T[D+re],ae=ie>>>8,de=ie,Se=255&(Se=(Se=ie>>>16)+((C.jd<<24>>24)*(ae<<24>>24)>>>5));de=255&(de=(de+=(C.hd<<24>>24)*(ae<<24>>24)>>>5)+((C.ud<<24>>24)*(Se<<24>>24)>>>5)),Y[ee+re]=(4278255360&ie)+(Se<<16)+de}}function Et(C,T,D,U,Y){L[T]=function(ee,re,ie,ae,de,Se,Be,fe,ke){for(ae=Be;ae<fe;++ae)for(Be=0;Be<ke;++Be)de[Se++]=Y(ie[U(ee[re++])])},L[C]=function(ee,re,ie,ae,de,Se,Be){var fe=8>>ee.b,ke=ee.Ea,De=ee.K[0],Ge=ee.w;if(8>fe)for(ee=(1<<ee.b)-1,Ge=(1<<fe)-1;re<ie;++re){var Me,Xe=0;for(Me=0;Me<ke;++Me)Me&ee||(Xe=U(ae[de++])),Se[Be++]=Y(De[Xe&Ge]),Xe>>=fe}else L["VP8LMapColor"+D](ae,de,De,Ge,Se,Be,re,ie,ke)}}function Ur(C,T,D,U,Y){for(D=T+D;T<D;){var ee=C[T++];U[Y++]=ee>>16&255,U[Y++]=ee>>8&255,U[Y++]=255&ee}}function Bt(C,T,D,U,Y){for(D=T+D;T<D;){var ee=C[T++];U[Y++]=ee>>16&255,U[Y++]=ee>>8&255,U[Y++]=255&ee,U[Y++]=ee>>24&255}}function $e(C,T,D,U,Y){for(D=T+D;T<D;){var ee=(re=C[T++])>>16&240|re>>12&15,re=240&re|re>>28&15;U[Y++]=ee,U[Y++]=re}}function At(C,T,D,U,Y){for(D=T+D;T<D;){var ee=(re=C[T++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;U[Y++]=ee,U[Y++]=re}}function Dt(C,T,D,U,Y){for(D=T+D;T<D;){var ee=C[T++];U[Y++]=255&ee,U[Y++]=ee>>8&255,U[Y++]=ee>>16&255}}function ft(C,T,D,U,Y,ee){if(ee==0)for(D=T+D;T<D;)Ee(U,((ee=C[T++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Y+=32;else n(U,Y,C,T,D)}function nr(C,T){L[T][0]=L[C+"0"],L[T][1]=L[C+"1"],L[T][2]=L[C+"2"],L[T][3]=L[C+"3"],L[T][4]=L[C+"4"],L[T][5]=L[C+"5"],L[T][6]=L[C+"6"],L[T][7]=L[C+"7"],L[T][8]=L[C+"8"],L[T][9]=L[C+"9"],L[T][10]=L[C+"10"],L[T][11]=L[C+"11"],L[T][12]=L[C+"12"],L[T][13]=L[C+"13"],L[T][14]=L[C+"0"],L[T][15]=L[C+"0"]}function Xt(C){return C==sx||C==ox||C==O0||C==lx}function cn(){this.eb=[],this.size=this.A=this.fb=0}function Wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new cn,this.f.kb=new Wt,this.sd=null}function Ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ti(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function $n(C,T){var D=C.T,U=T.ba.f.RGBA,Y=U.eb,ee=U.fb+C.ka*U.A,re=ms[T.ba.S],ie=C.y,ae=C.O,de=C.f,Se=C.N,Be=C.ea,fe=C.W,ke=T.cc,De=T.dc,Ge=T.Mc,Me=T.Nc,Xe=C.ka,Qe=C.ka+C.T,it=C.U,nt=it+1>>1;for(Xe==0?re(ie,ae,null,null,de,Se,Be,fe,de,Se,Be,fe,Y,ee,null,null,it):(re(T.ec,T.fc,ie,ae,ke,De,Ge,Me,de,Se,Be,fe,Y,ee-U.A,Y,ee,it),++D);Xe+2<Qe;Xe+=2)ke=de,De=Se,Ge=Be,Me=fe,Se+=C.Rc,fe+=C.Rc,ee+=2*U.A,re(ie,(ae+=2*C.fa)-C.fa,ie,ae,ke,De,Ge,Me,de,Se,Be,fe,Y,ee-U.A,Y,ee,it);return ae+=C.fa,C.j+Qe<C.o?(n(T.ec,T.fc,ie,ae,it),n(T.cc,T.dc,de,Se,nt),n(T.Mc,T.Nc,Be,fe,nt),D--):1&Qe||re(ie,ae,null,null,de,Se,Be,fe,de,Se,Be,fe,Y,ee+U.A,null,null,it),D}function Kr(C,T,D){var U=C.F,Y=[C.J];if(U!=null){var ee=C.U,re=T.ba.S,ie=re==P0||re==O0;T=T.ba.f.RGBA;var ae=[0],de=C.ka;ae[0]=C.T,C.Kb&&(de==0?--ae[0]:(--de,Y[0]-=C.width),C.j+C.ka+C.T==C.o&&(ae[0]=C.o-C.j-de));var Se=T.eb;de=T.fb+de*T.A,C=j3(U,Y[0],C.width,ee,ae,Se,de+(ie?0:3),T.A),t(D==ae),C&&Xt(re)&&Vc(Se,de,ie,ee,ae,T.A)}return 0}function ji(C){var T=C.ma,D=T.ba.S,U=11>D,Y=D==_0||D==I0||D==P0||D==ax||D==12||Xt(D);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Qo(T.Oa,C,Y?11:12))return 0;if(Y&&Xt(D)&&na(),C.da)alert("todo:use_scaling");else{if(U){if(T.Ib=ti,C.Kb){if(D=C.U+1>>1,T.memory=a(C.U+2*D),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+C.U,T.Mc=T.cc,T.Nc=T.dc+D,T.Ib=$n,na()}}else alert("todo:EmitYUV");Y&&(T.Jb=Kr,U&&ri())}if(U&&!W3){for(C=0;256>C;++C)XO[C]=89858*(C-128)+D0>>R0,JO[C]=-22014*(C-128)+D0,ZO[C]=-45773*(C-128),YO[C]=113618*(C-128)+D0>>R0;for(C=Nf;C<dx;++C)T=76283*(C-16)+D0>>R0,QO[C-Nf]=Er(T,255),eR[C-Nf]=Er(T+8>>4,15);W3=1}return 1}function Lt(C){var T=C.ma,D=C.U,U=C.T;return t(!(1&C.ka)),0>=D||0>=U?0:(D=T.Ib(C,T),T.Jb!=null&&T.Jb(C,T,D),T.Dc+=D,1)}function qn(C){C.ma.memory=null}function Ps(C,T,D,U){return je(C,8)!=47?0:(T[0]=je(C,14)+1,D[0]=je(C,14)+1,U[0]=je(C,1),je(C,3)!=0?0:!C.h)}function Hn(C,T){if(4>C)return C+1;var D=C-2>>1;return(2+(1&C)<<D)+je(T,D)+1}function Fi(C,T){return 120<T?T-120:1<=(D=((D=DO[T-1])>>4)*C+(8-(15&D)))?D:1;var D}function ur(C,T,D){var U=ne(D),Y=C[T+=255&U].g-8;return 0<Y&&(xe(D,D.u+8),U=ne(D),T+=C[T].value,T+=U&(1<<Y)-1),xe(D,D.u+C[T].g),C[T].value}function Xr(C,T,D){return D.g+=C.g,D.value+=C.value<<T>>>0,t(8>=D.g),C.g}function Tr(C,T,D){var U=C.xc;return t((T=U==0?0:C.vc[C.md*(D>>U)+(T>>U)])<C.Wb),C.Ya[T]}function dt(C,T,D,U){var Y=C.ab,ee=C.c*T,re=C.C;T=re+T;var ie=D,ae=U;for(U=C.Ta,D=C.Ua;0<Y--;){var de=C.gc[Y],Se=re,Be=T,fe=ie,ke=ae,De=(ae=U,ie=D,de.Ea);switch(t(Se<Be),t(Be<=de.nc),de.hc){case 2:u(fe,ke,(Be-Se)*De,ae,ie);break;case 0:var Ge=Se,Me=Be,Xe=ae,Qe=ie,it=(jt=de).Ea;Ge==0&&(G(fe,ke,null,null,1,Xe,Qe),Cr(fe,ke+1,0,0,it-1,Xe,Qe+1),ke+=it,Qe+=it,++Ge);for(var nt=1<<jt.b,Tt=nt-1,bt=Ve(it,jt.b),ir=jt.K,jt=jt.w+(Ge>>jt.b)*bt;Ge<Me;){var xr=ir,ai=jt,ar=1;for(l(fe,ke,Xe,Qe-it,1,Xe,Qe);ar<it;){var St=(ar&~Tt)+nt;St>it&&(St=it),(0,j[xr[ai++]>>8&15])(fe,ke+ +ar,Xe,Qe+ar-it,St-ar,Xe,Qe+ar),ar=St}ke+=it,Qe+=it,++Ge&Tt||(jt+=bt)}Be!=de.nc&&n(ae,ie-De,ae,ie+(Be-Se-1)*De,De);break;case 1:for(De=fe,Me=ke,it=(fe=de.Ea)-(Qe=fe&~(Xe=(ke=1<<de.b)-1)),Ge=Ve(fe,de.b),nt=de.K,de=de.w+(Se>>de.b)*Ge;Se<Be;){for(Tt=nt,bt=de,ir=new Gt,jt=Me+Qe,xr=Me+fe;Me<jt;)ht(Tt[bt++],ir),_(ir,De,Me,ke,ae,ie),Me+=ke,ie+=ke;Me<xr&&(ht(Tt[bt++],ir),_(ir,De,Me,it,ae,ie),Me+=it,ie+=it),++Se&Xe||(de+=Ge)}break;case 3:if(fe==ae&&ke==ie&&0<de.b){for(Me=ae,fe=De=ie+(Be-Se)*De-(Qe=(Be-Se)*Ve(de.Ea,de.b)),ke=ae,Xe=ie,Ge=[],Qe=(it=Qe)-1;0<=Qe;--Qe)Ge[Qe]=ke[Xe+Qe];for(Qe=it-1;0<=Qe;--Qe)Me[fe+Qe]=Ge[Qe];h(de,Se,Be,ae,De,ae,ie)}else h(de,Se,Be,fe,ke,ae,ie)}ie=U,ae=D}ae!=D&&n(U,D,ie,ae,ee)}function ta(C,T){var D=C.V,U=C.Ba+C.c*C.C,Y=T-C.C;if(t(T<=C.l.o),t(16>=Y),0<Y){var ee=C.l,re=C.Ta,ie=C.Ua,ae=ee.width;if(dt(C,Y,D,U),Y=ie=[ie],t((D=C.C)<(U=T)),t(ee.v<ee.va),U>ee.o&&(U=ee.o),D<ee.j){var de=ee.j-D;D=ee.j,Y[0]+=de*ae}if(D>=U?D=0:(Y[0]+=4*ee.v,ee.ka=D-ee.j,ee.U=ee.va-ee.v,ee.T=U-D,D=1),D){if(ie=ie[0],11>(D=C.ca).S){var Se=D.f.RGBA,Be=(U=D.S,Y=ee.U,ee=ee.T,de=Se.eb,Se.A),fe=ee;for(Se=Se.fb+C.Ma*Se.A;0<fe--;){var ke=re,De=ie,Ge=Y,Me=de,Xe=Se;switch(U){case T0:R(ke,De,Ge,Me,Xe);break;case _0:B(ke,De,Ge,Me,Xe);break;case sx:B(ke,De,Ge,Me,Xe),Vc(Me,Xe,0,Ge,1,0);break;case P3:le(ke,De,Ge,Me,Xe);break;case I0:ft(ke,De,Ge,Me,Xe,1);break;case ox:ft(ke,De,Ge,Me,Xe,1),Vc(Me,Xe,0,Ge,1,0);break;case P0:ft(ke,De,Ge,Me,Xe,0);break;case O0:ft(ke,De,Ge,Me,Xe,0),Vc(Me,Xe,1,Ge,1,0);break;case ax:K(ke,De,Ge,Me,Xe);break;case lx:K(ke,De,Ge,Me,Xe),C3(Me,Xe,Ge,1,0);break;case O3:Q(ke,De,Ge,Me,Xe);break;default:t(0)}ie+=ae,Se+=Be}C.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=D.height)}}C.C=T,t(C.C<=C.i)}function ra(C){var T;if(0<C.ua)return 0;for(T=0;T<C.Wb;++T){var D=C.Ya[T].G,U=C.Ya[T].H;if(0<D[1][U[1]+0].g||0<D[2][U[2]+0].g||0<D[3][U[3]+0].g)return 0}return 1}function en(C,T,D,U,Y,ee){if(C.Z!=0){var re=C.qd,ie=C.rd;for(t(ql[C.Z]!=null);T<D;++T)ql[C.Z](re,ie,U,Y,U,Y,ee),re=U,ie=Y,Y+=ee;C.qd=re,C.rd=ie}}function fi(C,T){var D=C.l.ma,U=D.Z==0||D.Z==1?C.l.j:C.C;if(U=C.C<U?U:C.C,t(T<=C.l.o),T>U){var Y=C.l.width,ee=D.ca,re=D.tb+Y*U,ie=C.V,ae=C.Ba+C.c*U,de=C.gc;t(C.ab==1),t(de[0].hc==3),x(de[0],U,T,ie,ae,ee,re),en(D,U,T,ee,re,Y)}C.C=C.Ma=T}function Ui(C,T,D,U,Y,ee,re){var ie=C.$/U,ae=C.$%U,de=C.m,Se=C.s,Be=D+C.$,fe=Be;Y=D+U*Y;var ke=D+U*ee,De=280+Se.ua,Ge=C.Pb?ie:16777216,Me=0<Se.ua?Se.Wa:null,Xe=Se.wc,Qe=Be<ke?Tr(Se,ae,ie):null;t(C.C<ee),t(ke<=Y);var it=!1;e:for(;;){for(;it||Be<ke;){var nt=0;if(ie>=Ge){var Tt=Be-D;t((Ge=C).Pb),Ge.wd=Ge.m,Ge.xd=Tt,0<Ge.s.ua&&Ze(Ge.s.Wa,Ge.s.vb),Ge=ie+MO}if(ae&Xe||(Qe=Tr(Se,ae,ie)),t(Qe!=null),Qe.Qb&&(T[Be]=Qe.qb,it=!0),!it)if(_e(de),Qe.jc){nt=de,Tt=T;var bt=Be,ir=Qe.pd[ne(nt)&mi-1];t(Qe.jc),256>ir.g?(xe(nt,nt.u+ir.g),Tt[bt]=ir.value,nt=0):(xe(nt,nt.u+ir.g-256),t(256<=ir.value),nt=ir.value),nt==0&&(it=!0)}else nt=ur(Qe.G[0],Qe.H[0],de);if(de.h)break;if(it||256>nt){if(!it)if(Qe.nd)T[Be]=(Qe.qb|nt<<8)>>>0;else{if(_e(de),it=ur(Qe.G[1],Qe.H[1],de),_e(de),Tt=ur(Qe.G[2],Qe.H[2],de),bt=ur(Qe.G[3],Qe.H[3],de),de.h)break;T[Be]=(bt<<24|it<<16|nt<<8|Tt)>>>0}if(it=!1,++Be,++ae>=U&&(ae=0,++ie,re!=null&&ie<=ee&&!(ie%16)&&re(C,ie),Me!=null))for(;fe<Be;)nt=T[fe++],Me.X[(506832829*nt&4294967295)>>>Me.Mb]=nt}else if(280>nt){if(nt=Hn(nt-256,de),Tt=ur(Qe.G[4],Qe.H[4],de),_e(de),Tt=Fi(U,Tt=Hn(Tt,de)),de.h)break;if(Be-D<Tt||Y-Be<nt)break e;for(bt=0;bt<nt;++bt)T[Be+bt]=T[Be+bt-Tt];for(Be+=nt,ae+=nt;ae>=U;)ae-=U,++ie,re!=null&&ie<=ee&&!(ie%16)&&re(C,ie);if(t(Be<=Y),ae&Xe&&(Qe=Tr(Se,ae,ie)),Me!=null)for(;fe<Be;)nt=T[fe++],Me.X[(506832829*nt&4294967295)>>>Me.Mb]=nt}else{if(!(nt<De))break e;for(it=nt-280,t(Me!=null);fe<Be;)nt=T[fe++],Me.X[(506832829*nt&4294967295)>>>Me.Mb]=nt;nt=Be,t(!(it>>>(Tt=Me).Xa)),T[nt]=Tt.X[it],it=!0}it||t(de.h==ge(de))}if(C.Pb&&de.h&&Be<Y)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&Ze(C.s.vb,C.s.Wa);else{if(de.h)break e;re!=null&&re(C,ie>ee?ee:ie),C.a=0,C.$=Be-D}return 1}return C.a=3,0}function Si(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var T=C.Wa;T!=null&&(T.X=null),C.vb=null,t(C!=null)}function hi(){var C=new lt;return C==null?null:(C.a=0,C.xb=L3,nr("Predictor","VP8LPredictors"),nr("Predictor","VP8LPredictors_C"),nr("PredictorAdd","VP8LPredictorsAdd"),nr("PredictorAdd","VP8LPredictorsAdd_C"),u=Ut,_=zt,R=Ur,B=Bt,K=$e,Q=At,le=Dt,L.VP8LMapColor32b=p,L.VP8LMapColor8b=v,C)}function ss(C,T,D,U,Y){var ee=1,re=[C],ie=[T],ae=U.m,de=U.s,Se=null,Be=0;e:for(;;){if(D)for(;ee&&je(ae,1);){var fe=re,ke=ie,De=U,Ge=1,Me=De.m,Xe=De.gc[De.ab],Qe=je(Me,2);if(De.Oc&1<<Qe)ee=0;else{switch(De.Oc|=1<<Qe,Xe.hc=Qe,Xe.Ea=fe[0],Xe.nc=ke[0],Xe.K=[null],++De.ab,t(4>=De.ab),Qe){case 0:case 1:Xe.b=je(Me,3)+2,Ge=ss(Ve(Xe.Ea,Xe.b),Ve(Xe.nc,Xe.b),0,De,Xe.K),Xe.K=Xe.K[0];break;case 3:var it,nt=je(Me,8)+1,Tt=16<nt?0:4<nt?1:2<nt?2:3;if(fe[0]=Ve(Xe.Ea,Tt),Xe.b=Tt,it=Ge=ss(nt,1,0,De,Xe.K)){var bt,ir=nt,jt=Xe,xr=1<<(8>>jt.b),ai=a(xr);if(ai==null)it=0;else{var ar=jt.K[0],St=jt.w;for(ai[0]=jt.K[0][0],bt=1;bt<1*ir;++bt)ai[bt]=Ct(ar[St+bt],ai[bt-1]);for(;bt<4*xr;++bt)ai[bt]=0;jt.K[0]=null,jt.K[0]=ai,it=1}}Ge=it;break;case 2:break;default:t(0)}ee=Ge}}if(re=re[0],ie=ie[0],ee&&je(ae,1)&&!(ee=1<=(Be=je(ae,4))&&11>=Be)){U.a=3;break e}var ct;if(ct=ee)t:{var On,er,yr,rn=U,_i=re,aa=ie,Sn=Be,qi=D,sa=rn.m,si=rn.s,br=[null],Pr=1,En=0,Or=LO[Sn];r:for(;;){if(qi&&je(sa,1)){var Ii=je(sa,3)+2,Ws=Ve(_i,Ii),Rn=Ve(aa,Ii),va=Ws*Rn;if(!ss(Ws,Rn,0,rn,br))break r;for(br=br[0],si.xc=Ii,On=0;On<va;++On){var Hr=br[On]>>8&65535;br[On]=Hr,Hr>=Pr&&(Pr=Hr+1)}}if(sa.h)break r;for(er=0;5>er;++er){var oi=R3[er];!er&&0<Sn&&(oi+=1<<Sn),En<oi&&(En=oi)}var Ba=o(Pr*Or,te),oa=Pr,Fa=o(oa,Z);if(Fa==null)var Ua=null;else t(65536>=oa),Ua=Fa;var ba=a(En);if(Ua==null||ba==null||Ba==null){rn.a=1;break r}var Wa=Ba;for(On=yr=0;On<Pr;++On){var Yr=Ua[On],za=Yr.G,zs=Yr.H,Gc=0,nl=1,Pi=0;for(er=0;5>er;++er){oi=R3[er],za[er]=Wa,zs[er]=yr,!er&&0<Sn&&(oi+=1<<Sn);i:{var M0,fx=oi,B0=rn,Af=ba,nR=Wa,iR=yr,hx=0,Hl=B0.m,aR=je(Hl,1);if(i(Af,0,0,fx),aR){var sR=je(Hl,1)+1,oR=je(Hl,1),q3=je(Hl,oR==0?1:8);Af[q3]=1,sR==2&&(Af[q3=je(Hl,8)]=1);var F0=1}else{var H3=a(19),V3=je(Hl,4)+4;if(19<V3){B0.a=3;var U0=0;break i}for(M0=0;M0<V3;++M0)H3[RO[M0]]=je(Hl,3);var mx=void 0,Cf=void 0,G3=B0,lR=H3,W0=fx,K3=Af,px=0,Vl=G3.m,X3=8,Y3=o(128,te);n:for(;z(Y3,0,7,lR,19);){if(je(Vl,1)){var cR=2+2*je(Vl,3);if((mx=2+je(Vl,cR))>W0)break n}else mx=W0;for(Cf=0;Cf<W0&&mx--;){_e(Vl);var Z3=Y3[0+(127&ne(Vl))];xe(Vl,Vl.u+Z3.g);var Vu=Z3.value;if(16>Vu)K3[Cf++]=Vu,Vu!=0&&(X3=Vu);else{var uR=Vu==16,J3=Vu-16,dR=PO[J3],Q3=je(Vl,IO[J3])+dR;if(Cf+Q3>W0)break n;for(var fR=uR?X3:0;0<Q3--;)K3[Cf++]=fR}}px=1;break n}px||(G3.a=3),F0=px}(F0=F0&&!Hl.h)&&(hx=z(nR,iR,8,Af,fx)),F0&&hx!=0?U0=hx:(B0.a=3,U0=0)}if(U0==0)break r;if(nl&&OO[er]==1&&(nl=Wa[yr].g==0),Gc+=Wa[yr].g,yr+=U0,3>=er){var jf,gx=ba[0];for(jf=1;jf<oi;++jf)ba[jf]>gx&&(gx=ba[jf]);Pi+=gx}}if(Yr.nd=nl,Yr.Qb=0,nl&&(Yr.qb=(za[3][zs[3]+0].value<<24|za[1][zs[1]+0].value<<16|za[2][zs[2]+0].value)>>>0,Gc==0&&256>za[0][zs[0]+0].value&&(Yr.Qb=1,Yr.qb+=za[0][zs[0]+0].value<<8)),Yr.jc=!Yr.Qb&&6>Pi,Yr.jc){var z0,il=Yr;for(z0=0;z0<mi;++z0){var Gl=z0,Kl=il.pd[Gl],$0=il.G[0][il.H[0]+Gl];256<=$0.value?(Kl.g=$0.g+256,Kl.value=$0.value):(Kl.g=0,Kl.value=0,Gl>>=Xr($0,8,Kl),Gl>>=Xr(il.G[1][il.H[1]+Gl],16,Kl),Gl>>=Xr(il.G[2][il.H[2]+Gl],0,Kl),Xr(il.G[3][il.H[3]+Gl],24,Kl))}}}si.vc=br,si.Wb=Pr,si.Ya=Ua,si.yc=Ba,ct=1;break t}ct=0}if(!(ee=ct)){U.a=3;break e}if(0<Be){if(de.ua=1<<Be,!ce(de.Wa,Be)){U.a=1,ee=0;break e}}else de.ua=0;var xx=U,eN=re,hR=ie,yx=xx.s,vx=yx.xc;if(xx.c=eN,xx.i=hR,yx.md=Ve(eN,vx),yx.wc=vx==0?-1:(1<<vx)-1,D){U.xb=qO;break e}if((Se=a(re*ie))==null){U.a=1,ee=0;break e}ee=(ee=Ui(U,Se,0,re,ie,ie,null))&&!ae.h;break e}return ee?(Y!=null?Y[0]=Se:(t(Se==null),t(D)),U.$=0,D||Si(de)):Si(de),ee}function Bo(C,T){var D=C.c*C.i,U=D+T+16*T;return t(C.c<=T),C.V=a(U),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+D+T,1)}function Ei(C,T){var D=C.C,U=T-D,Y=C.V,ee=C.Ba+C.c*D;for(t(T<=C.l.o);0<U;){var re=16<U?16:U,ie=C.l.ma,ae=C.l.width,de=ae*re,Se=ie.ca,Be=ie.tb+ae*D,fe=C.Ta,ke=C.Ua;dt(C,re,Y,ee),S3(fe,ke,Se,Be,de),en(ie,D,D+re,Se,Be,ae),U-=re,Y+=re*C.c,D+=re}t(D==T),C.C=C.Ma=T}function Cn(){this.ub=this.yd=this.td=this.Rb=0}function jr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $u(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function pa(){this.Yb=function(){var C=[];return function T(D,U,Y){for(var ee=Y[U],re=0;re<ee&&(D.push(Y.length>U+1?[]:0),!(Y.length<U+1));re++)T(D[re],U+1,Y)}(C,0,[3,11]),C}()}function Ml(){this.jb=a(3),this.Wc=c([4,8],pa),this.Xc=c([4,17],pa)}function tt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ga(){this.ld=this.La=this.dd=this.tc=0}function Wr(){this.Na=this.la=0}function Os(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gr(){this.uc=this.M=this.Nb=0,this.wa=Array(new ga),this.Y=0,this.ya=Array(new Fc),this.aa=0,this.l=new co}function hr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function sr(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Cn,this.Kc=new jr,this.ed=new tt,this.Qa=new $u,this.Ic=this.$c=this.Aa=0,this.D=new gr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,Os),this.Pa=new Ml,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hr),this.Hd=0,this.rb=Array(new Wr),this.sb=0,this.wa=Array(new ga),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fc),this.L=this.aa=0,this.gd=c([4,2],ga),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function co(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Uc(){var C=new sr;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,wf||(wf=Rs)),C}function un(C,T,D){return C.a==0&&(C.a=T,C.sc=D,C.cb=0),0}function dn(C,T,D){return 3<=D&&C[T+0]==157&&C[T+1]==1&&C[T+2]==42}function Pa(C,T){if(C==null)return 0;if(C.a=0,C.sc="OK",T==null)return un(C,2,"null VP8Io passed to VP8GetHeaders()");var D=T.data,U=T.w,Y=T.ha;if(4>Y)return un(C,7,"Truncated header.");var ee=D[U+0]|D[U+1]<<8|D[U+2]<<16,re=C.Od;if(re.Rb=!(1&ee),re.td=ee>>1&7,re.yd=ee>>4&1,re.ub=ee>>5,3<re.td)return un(C,3,"Incorrect keyframe parameters.");if(!re.yd)return un(C,4,"Frame not displayable.");U+=3,Y-=3;var ie=C.Kc;if(re.Rb){if(7>Y)return un(C,7,"cannot parse picture header");if(!dn(D,U,Y))return un(C,3,"Bad code word");ie.c=16383&(D[U+4]<<8|D[U+3]),ie.Td=D[U+4]>>6,ie.i=16383&(D[U+6]<<8|D[U+5]),ie.Ud=D[U+6]>>6,U+=7,Y-=7,C.za=ie.c+15>>4,C.Ub=ie.i+15>>4,T.width=ie.c,T.height=ie.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((ee=C.Pa).jb,0,255,ee.jb.length),t((ee=C.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,i(ee.Zb,0,0,ee.Zb.length),i(ee.Lb,0,0,ee.Lb)}if(re.ub>Y)return un(C,7,"bad partition length");ye(ee=C.m,D,U,re.ub),U+=re.ub,Y-=re.ub,re.Rb&&(ie.Ld=pe(ee),ie.Kd=pe(ee)),ie=C.Qa;var ae,de=C.Pa;if(t(ee!=null),t(ie!=null),ie.Cb=pe(ee),ie.Cb){if(ie.Bb=pe(ee),pe(ee)){for(ie.Fb=pe(ee),ae=0;4>ae;++ae)ie.Zb[ae]=pe(ee)?me(ee,7):0;for(ae=0;4>ae;++ae)ie.Lb[ae]=pe(ee)?me(ee,6):0}if(ie.Bb)for(ae=0;3>ae;++ae)de.jb[ae]=pe(ee)?ve(ee,8):255}else ie.Bb=0;if(ee.Ka)return un(C,3,"cannot parse segment header");if((ie=C.ed).zd=pe(ee),ie.Tb=ve(ee,6),ie.wb=ve(ee,3),ie.Pc=pe(ee),ie.Pc&&pe(ee)){for(de=0;4>de;++de)pe(ee)&&(ie.vd[de]=me(ee,6));for(de=0;4>de;++de)pe(ee)&&(ie.od[de]=me(ee,6))}if(C.L=ie.Tb==0?0:ie.zd?1:2,ee.Ka)return un(C,3,"cannot parse filter header");var Se=Y;if(Y=ae=U,U=ae+Se,ie=Se,C.Xb=(1<<ve(C.m,2))-1,Se<3*(de=C.Xb))D=7;else{for(ae+=3*de,ie-=3*de,Se=0;Se<de;++Se){var Be=D[Y+0]|D[Y+1]<<8|D[Y+2]<<16;Be>ie&&(Be=ie),ye(C.Jc[+Se],D,ae,Be),ae+=Be,ie-=Be,Y+=3}ye(C.Jc[+de],D,ae,ie),D=ae<U?0:5}if(D!=0)return un(C,D,"cannot parse partitions");for(D=ve(ae=C.m,7),Y=pe(ae)?me(ae,4):0,U=pe(ae)?me(ae,4):0,ie=pe(ae)?me(ae,4):0,de=pe(ae)?me(ae,4):0,ae=pe(ae)?me(ae,4):0,Se=C.Qa,Be=0;4>Be;++Be){if(Se.Cb){var fe=Se.Zb[Be];Se.Fb||(fe+=D)}else{if(0<Be){C.pb[Be]=C.pb[0];continue}fe=D}var ke=C.pb[Be];ke.Sc[0]=cx[Er(fe+Y,127)],ke.Sc[1]=ux[Er(fe+0,127)],ke.Eb[0]=2*cx[Er(fe+U,127)],ke.Eb[1]=101581*ux[Er(fe+ie,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=cx[Er(fe+de,117)],ke.Qc[1]=ux[Er(fe+ae,127)],ke.lc=fe+ae}if(!re.Rb)return un(C,4,"Not a key frame.");for(pe(ee),re=C.Pa,D=0;4>D;++D){for(Y=0;8>Y;++Y)for(U=0;3>U;++U)for(ie=0;11>ie;++ie)de=Ce(ee,zO[D][Y][U][ie])?ve(ee,8):UO[D][Y][U][ie],re.Wc[D][Y].Yb[U][ie]=de;for(Y=0;17>Y;++Y)re.Xc[D][Y]=re.Wc[D][$O[Y]]}return C.kc=pe(ee),C.kc&&(C.Bd=ve(ee,8)),C.cb=1}function Rs(C,T,D,U,Y,ee,re){var ie=T[Y].Yb[D];for(D=0;16>Y;++Y){if(!Ce(C,ie[D+0]))return Y;for(;!Ce(C,ie[D+1]);)if(ie=T[++Y].Yb[0],D=0,Y==16)return 16;var ae=T[Y+1].Yb;if(Ce(C,ie[D+2])){var de=C,Se=0;if(Ce(de,(fe=ie)[(Be=D)+3]))if(Ce(de,fe[Be+6])){for(ie=0,Be=2*(Se=Ce(de,fe[Be+8]))+(fe=Ce(de,fe[Be+9+Se])),Se=0,fe=BO[Be];fe[ie];++ie)Se+=Se+Ce(de,fe[ie]);Se+=3+(8<<Be)}else Ce(de,fe[Be+7])?(Se=7+2*Ce(de,165),Se+=Ce(de,145)):Se=5+Ce(de,159);else Se=Ce(de,fe[Be+4])?3+Ce(de,fe[Be+5]):2;ie=ae[2]}else Se=1,ie=ae[1];ae=re+FO[Y],0>(de=C).b&&he(de);var Be,fe=de.b,ke=(Be=de.Ca>>1)-(de.I>>fe)>>31;--de.b,de.Ca+=ke,de.Ca|=1,de.I-=(Be+1&ke)<<fe,ee[ae]=((Se^ke)-ke)*U[(0<Y)+0]}return 16}function Ir(C){var T=C.rb[C.sb-1];T.la=0,T.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function Vn(C,T,D,U,Y){Y=C[T+D+32*U]+(Y>>3),C[T+D+32*U]=-256&Y?0>Y?0:255:Y}function Fo(C,T,D,U,Y,ee){Vn(C,T,0,D,U+Y),Vn(C,T,1,D,U+ee),Vn(C,T,2,D,U-ee),Vn(C,T,3,D,U-Y)}function zr(C){return(20091*C>>16)+C}function Nr(C,T,D,U){var Y,ee=0,re=a(16);for(Y=0;4>Y;++Y){var ie=C[T+0]+C[T+8],ae=C[T+0]-C[T+8],de=(35468*C[T+4]>>16)-zr(C[T+12]),Se=zr(C[T+4])+(35468*C[T+12]>>16);re[ee+0]=ie+Se,re[ee+1]=ae+de,re[ee+2]=ae-de,re[ee+3]=ie-Se,ee+=4,T++}for(Y=ee=0;4>Y;++Y)ie=(C=re[ee+0]+4)+re[ee+8],ae=C-re[ee+8],de=(35468*re[ee+4]>>16)-zr(re[ee+12]),Vn(D,U,0,0,ie+(Se=zr(re[ee+4])+(35468*re[ee+12]>>16))),Vn(D,U,1,0,ae+de),Vn(D,U,2,0,ae-de),Vn(D,U,3,0,ie-Se),ee++,U+=32}function Gn(C,T,D,U){var Y=C[T+0]+4,ee=35468*C[T+4]>>16,re=zr(C[T+4]),ie=35468*C[T+1]>>16;Fo(D,U,0,Y+re,C=zr(C[T+1]),ie),Fo(D,U,1,Y+ee,C,ie),Fo(D,U,2,Y-ee,C,ie),Fo(D,U,3,Y-re,C,ie)}function Le(C,T,D,U,Y){Nr(C,T,D,U),Y&&Nr(C,T+16,D,U+4)}function se(C,T,D,U){Ae(C,T+0,D,U,1),Ae(C,T+32,D,U+128,1)}function mt(C,T,D,U){var Y;for(C=C[T+0]+4,Y=0;4>Y;++Y)for(T=0;4>T;++T)Vn(D,U,T,Y,C)}function yn(C,T,D,U){C[T+0]&&Ye(C,T+0,D,U),C[T+16]&&Ye(C,T+16,D,U+4),C[T+32]&&Ye(C,T+32,D,U+128),C[T+48]&&Ye(C,T+48,D,U+128+4)}function ki(C,T,D,U){var Y,ee=a(16);for(Y=0;4>Y;++Y){var re=C[T+0+Y]+C[T+12+Y],ie=C[T+4+Y]+C[T+8+Y],ae=C[T+4+Y]-C[T+8+Y],de=C[T+0+Y]-C[T+12+Y];ee[0+Y]=re+ie,ee[8+Y]=re-ie,ee[4+Y]=de+ae,ee[12+Y]=de-ae}for(Y=0;4>Y;++Y)re=(C=ee[0+4*Y]+3)+ee[3+4*Y],ie=ee[1+4*Y]+ee[2+4*Y],ae=ee[1+4*Y]-ee[2+4*Y],de=C-ee[3+4*Y],D[U+0]=re+ie>>3,D[U+16]=de+ae>>3,D[U+32]=re-ie>>3,D[U+48]=de-ae>>3,U+=64}function uo(C,T,D){var U,Y=T-32,ee=Ma,re=255-C[Y-1];for(U=0;U<D;++U){var ie,ae=ee,de=re+C[T-1];for(ie=0;ie<D;++ie)C[T+ie]=ae[de+C[Y+ie]];T+=32}}function Uo(C,T){uo(C,T,4)}function Wi(C,T){uo(C,T,8)}function Pt(C,T){uo(C,T,16)}function $r(C,T){var D;for(D=0;16>D;++D)n(C,T+32*D,C,T-32,16)}function Bl(C,T){var D;for(D=16;0<D;--D)i(C,T,C[T-1],16),T+=32}function Wo(C,T,D){var U;for(U=0;16>U;++U)i(T,D+32*U,C,16)}function os(C,T){var D,U=16;for(D=0;16>D;++D)U+=C[T-1+32*D]+C[T+D-32];Wo(U>>5,C,T)}function Fl(C,T){var D,U=8;for(D=0;16>D;++D)U+=C[T-1+32*D];Wo(U>>4,C,T)}function Ds(C,T){var D,U=8;for(D=0;16>D;++D)U+=C[T+D-32];Wo(U>>4,C,T)}function Wc(C,T){Wo(128,C,T)}function wt(C,T,D){return C+2*T+D+2>>2}function zo(C,T){var D,U=T-32;for(U=new Uint8Array([wt(C[U-1],C[U+0],C[U+1]),wt(C[U+0],C[U+1],C[U+2]),wt(C[U+1],C[U+2],C[U+3]),wt(C[U+2],C[U+3],C[U+4])]),D=0;4>D;++D)n(C,T+32*D,U,0,U.length)}function ls(C,T){var D=C[T-1],U=C[T-1+32],Y=C[T-1+64],ee=C[T-1+96];Ee(C,T+0,16843009*wt(C[T-1-32],D,U)),Ee(C,T+32,16843009*wt(D,U,Y)),Ee(C,T+64,16843009*wt(U,Y,ee)),Ee(C,T+96,16843009*wt(Y,ee,ee))}function Mt(C,T){var D,U=4;for(D=0;4>D;++D)U+=C[T+D-32]+C[T-1+32*D];for(U>>=3,D=0;4>D;++D)i(C,T+32*D,U,4)}function vf(C,T){var D=C[T-1+0],U=C[T-1+32],Y=C[T-1+64],ee=C[T-1-32],re=C[T+0-32],ie=C[T+1-32],ae=C[T+2-32],de=C[T+3-32];C[T+0+96]=wt(U,Y,C[T-1+96]),C[T+1+96]=C[T+0+64]=wt(D,U,Y),C[T+2+96]=C[T+1+64]=C[T+0+32]=wt(ee,D,U),C[T+3+96]=C[T+2+64]=C[T+1+32]=C[T+0+0]=wt(re,ee,D),C[T+3+64]=C[T+2+32]=C[T+1+0]=wt(ie,re,ee),C[T+3+32]=C[T+2+0]=wt(ae,ie,re),C[T+3+0]=wt(de,ae,ie)}function $t(C,T){var D=C[T+1-32],U=C[T+2-32],Y=C[T+3-32],ee=C[T+4-32],re=C[T+5-32],ie=C[T+6-32],ae=C[T+7-32];C[T+0+0]=wt(C[T+0-32],D,U),C[T+1+0]=C[T+0+32]=wt(D,U,Y),C[T+2+0]=C[T+1+32]=C[T+0+64]=wt(U,Y,ee),C[T+3+0]=C[T+2+32]=C[T+1+64]=C[T+0+96]=wt(Y,ee,re),C[T+3+32]=C[T+2+64]=C[T+1+96]=wt(ee,re,ie),C[T+3+64]=C[T+2+96]=wt(re,ie,ae),C[T+3+96]=wt(ie,ae,ae)}function qr(C,T){var D=C[T-1+0],U=C[T-1+32],Y=C[T-1+64],ee=C[T-1-32],re=C[T+0-32],ie=C[T+1-32],ae=C[T+2-32],de=C[T+3-32];C[T+0+0]=C[T+1+64]=ee+re+1>>1,C[T+1+0]=C[T+2+64]=re+ie+1>>1,C[T+2+0]=C[T+3+64]=ie+ae+1>>1,C[T+3+0]=ae+de+1>>1,C[T+0+96]=wt(Y,U,D),C[T+0+64]=wt(U,D,ee),C[T+0+32]=C[T+1+96]=wt(D,ee,re),C[T+1+32]=C[T+2+96]=wt(ee,re,ie),C[T+2+32]=C[T+3+96]=wt(re,ie,ae),C[T+3+32]=wt(ie,ae,de)}function bf(C,T){var D=C[T+0-32],U=C[T+1-32],Y=C[T+2-32],ee=C[T+3-32],re=C[T+4-32],ie=C[T+5-32],ae=C[T+6-32],de=C[T+7-32];C[T+0+0]=D+U+1>>1,C[T+1+0]=C[T+0+64]=U+Y+1>>1,C[T+2+0]=C[T+1+64]=Y+ee+1>>1,C[T+3+0]=C[T+2+64]=ee+re+1>>1,C[T+0+32]=wt(D,U,Y),C[T+1+32]=C[T+0+96]=wt(U,Y,ee),C[T+2+32]=C[T+1+96]=wt(Y,ee,re),C[T+3+32]=C[T+2+96]=wt(ee,re,ie),C[T+3+64]=wt(re,ie,ae),C[T+3+96]=wt(ie,ae,de)}function zc(C,T){var D=C[T-1+0],U=C[T-1+32],Y=C[T-1+64],ee=C[T-1+96];C[T+0+0]=D+U+1>>1,C[T+2+0]=C[T+0+32]=U+Y+1>>1,C[T+2+32]=C[T+0+64]=Y+ee+1>>1,C[T+1+0]=wt(D,U,Y),C[T+3+0]=C[T+1+32]=wt(U,Y,ee),C[T+3+32]=C[T+1+64]=wt(Y,ee,ee),C[T+3+64]=C[T+2+64]=C[T+0+96]=C[T+1+96]=C[T+2+96]=C[T+3+96]=ee}function $o(C,T){var D=C[T-1+0],U=C[T-1+32],Y=C[T-1+64],ee=C[T-1+96],re=C[T-1-32],ie=C[T+0-32],ae=C[T+1-32],de=C[T+2-32];C[T+0+0]=C[T+2+32]=D+re+1>>1,C[T+0+32]=C[T+2+64]=U+D+1>>1,C[T+0+64]=C[T+2+96]=Y+U+1>>1,C[T+0+96]=ee+Y+1>>1,C[T+3+0]=wt(ie,ae,de),C[T+2+0]=wt(re,ie,ae),C[T+1+0]=C[T+3+32]=wt(D,re,ie),C[T+1+32]=C[T+3+64]=wt(U,D,re),C[T+1+64]=C[T+3+96]=wt(Y,U,D),C[T+1+96]=wt(ee,Y,U)}function Oa(C,T){var D;for(D=0;8>D;++D)n(C,T+32*D,C,T-32,8)}function qo(C,T){var D;for(D=0;8>D;++D)i(C,T,C[T-1],8),T+=32}function cs(C,T,D){var U;for(U=0;8>U;++U)i(T,D+32*U,C,8)}function us(C,T){var D,U=8;for(D=0;8>D;++D)U+=C[T+D-32]+C[T-1+32*D];cs(U>>4,C,T)}function Ho(C,T){var D,U=4;for(D=0;8>D;++D)U+=C[T+D-32];cs(U>>3,C,T)}function Ul(C,T){var D,U=4;for(D=0;8>D;++D)U+=C[T-1+32*D];cs(U>>3,C,T)}function Ls(C,T){cs(128,C,T)}function Ra(C,T,D){var U=C[T-D],Y=C[T+0],ee=3*(Y-U)+ix[1020+C[T-2*D]-C[T+D]],re=k0[112+(ee+4>>3)];C[T-D]=Ma[255+U+k0[112+(ee+3>>3)]],C[T+0]=Ma[255+Y-re]}function jn(C,T,D,U){var Y=C[T+0],ee=C[T+D];return hs[255+C[T-2*D]-C[T-D]]>U||hs[255+ee-Y]>U}function Wl(C,T,D,U){return 4*hs[255+C[T-D]-C[T+0]]+hs[255+C[T-2*D]-C[T+D]]<=U}function Vo(C,T,D,U,Y){var ee=C[T-3*D],re=C[T-2*D],ie=C[T-D],ae=C[T+0],de=C[T+D],Se=C[T+2*D],Be=C[T+3*D];return 4*hs[255+ie-ae]+hs[255+re-de]>U?0:hs[255+C[T-4*D]-ee]<=Y&&hs[255+ee-re]<=Y&&hs[255+re-ie]<=Y&&hs[255+Be-Se]<=Y&&hs[255+Se-de]<=Y&&hs[255+de-ae]<=Y}function zl(C,T,D,U){var Y=2*U+1;for(U=0;16>U;++U)Wl(C,T+U,D,Y)&&Ra(C,T+U,D)}function Go(C,T,D,U){var Y=2*U+1;for(U=0;16>U;++U)Wl(C,T+U*D,1,Y)&&Ra(C,T+U*D,1)}function qu(C,T,D,U){var Y;for(Y=3;0<Y;--Y)zl(C,T+=4*D,D,U)}function Hu(C,T,D,U){var Y;for(Y=3;0<Y;--Y)Go(C,T+=4,D,U)}function cr(C,T,D,U,Y,ee,re,ie){for(ee=2*ee+1;0<Y--;){if(Vo(C,T,D,ee,re))if(jn(C,T,D,ie))Ra(C,T,D);else{var ae=C,de=T,Se=D,Be=ae[de-2*Se],fe=ae[de-Se],ke=ae[de+0],De=ae[de+Se],Ge=ae[de+2*Se],Me=27*(Qe=ix[1020+3*(ke-fe)+ix[1020+Be-De]])+63>>7,Xe=18*Qe+63>>7,Qe=9*Qe+63>>7;ae[de-3*Se]=Ma[255+ae[de-3*Se]+Qe],ae[de-2*Se]=Ma[255+Be+Xe],ae[de-Se]=Ma[255+fe+Me],ae[de+0]=Ma[255+ke-Me],ae[de+Se]=Ma[255+De-Xe],ae[de+2*Se]=Ma[255+Ge-Qe]}T+=U}}function ds(C,T,D,U,Y,ee,re,ie){for(ee=2*ee+1;0<Y--;){if(Vo(C,T,D,ee,re))if(jn(C,T,D,ie))Ra(C,T,D);else{var ae=C,de=T,Se=D,Be=ae[de-Se],fe=ae[de+0],ke=ae[de+Se],De=k0[112+(4+(Ge=3*(fe-Be))>>3)],Ge=k0[112+(Ge+3>>3)],Me=De+1>>1;ae[de-2*Se]=Ma[255+ae[de-2*Se]+Me],ae[de-Se]=Ma[255+Be+Ge],ae[de+0]=Ma[255+fe-De],ae[de+Se]=Ma[255+ke-Me]}T+=U}}function Ko(C,T,D,U,Y,ee){cr(C,T,D,1,16,U,Y,ee)}function Da(C,T,D,U,Y,ee){cr(C,T,1,D,16,U,Y,ee)}function Xo(C,T,D,U,Y,ee){var re;for(re=3;0<re;--re)ds(C,T+=4*D,D,1,16,U,Y,ee)}function Ue(C,T,D,U,Y,ee){var re;for(re=3;0<re;--re)ds(C,T+=4,1,D,16,U,Y,ee)}function O(C,T,D,U,Y,ee,re,ie){cr(C,T,Y,1,8,ee,re,ie),cr(D,U,Y,1,8,ee,re,ie)}function X(C,T,D,U,Y,ee,re,ie){cr(C,T,1,Y,8,ee,re,ie),cr(D,U,1,Y,8,ee,re,ie)}function ue(C,T,D,U,Y,ee,re,ie){ds(C,T+4*Y,Y,1,8,ee,re,ie),ds(D,U+4*Y,Y,1,8,ee,re,ie)}function we(C,T,D,U,Y,ee,re,ie){ds(C,T+4,1,Y,8,ee,re,ie),ds(D,U+4,1,Y,8,ee,re,ie)}function Pe(){this.ba=new pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new te}function lt(){this.xb=this.a=0,this.l=new co,this.ca=new pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new oe,this.Pb=0,this.wd=new oe,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=o(4,rt),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new co,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gt(C,T,D,U,Y,ee,re){for(C=C==null?0:C[T+0],T=0;T<re;++T)Y[ee+T]=C+D[U+T]&255,C=Y[ee+T]}function mr(C,T,D,U,Y,ee,re){var ie;if(C==null)gt(null,null,D,U,Y,ee,re);else for(ie=0;ie<re;++ie)Y[ee+ie]=C[T+ie]+D[U+ie]&255}function Sr(C,T,D,U,Y,ee,re){if(C==null)gt(null,null,D,U,Y,ee,re);else{var ie,ae=C[T+0],de=ae,Se=ae;for(ie=0;ie<re;++ie)de=Se+(ae=C[T+ie])-de,Se=D[U+ie]+(-256&de?0>de?0:255:de)&255,de=ae,Y[ee+ie]=Se}}function Vt(C,T,D,U){var Y=T.width,ee=T.o;if(t(C!=null&&T!=null),0>D||0>=U||D+U>ee)return null;if(!C.Cc){if(C.ga==null){var re;if(C.ga=new qt,(re=C.ga==null)||(re=T.width*T.o,t(C.Gb.length==0),C.Gb=a(re),C.Uc=0,C.Gb==null?re=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,re=1),re=!re),!re){re=C.ga;var ie=C.Fa,ae=C.P,de=C.qc,Se=C.mb,Be=C.nb,fe=ae+1,ke=de-1,De=re.l;if(t(ie!=null&&Se!=null&&T!=null),ql[0]=null,ql[1]=gt,ql[2]=mr,ql[3]=Sr,re.ca=Se,re.tb=Be,re.c=T.width,re.i=T.height,t(0<re.c&&0<re.i),1>=de)T=0;else if(re.$a=3&ie[ae+0],re.Z=ie[ae+0]>>2&3,re.Lc=ie[ae+0]>>4&3,ae=ie[ae+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ae)T=0;else if(De.put=Lt,De.ac=ji,De.bc=qn,De.ma=re,De.width=T.width,De.height=T.height,De.Da=T.Da,De.v=T.v,De.va=T.va,De.j=T.j,De.o=T.o,re.$a)e:{t(re.$a==1),T=hi();t:for(;;){if(T==null){T=0;break e}if(t(re!=null),re.mc=T,T.c=re.c,T.i=re.i,T.l=re.l,T.l.ma=re,T.l.width=re.c,T.l.height=re.i,T.a=0,Ne(T.m,ie,fe,ke),!ss(re.c,re.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&ra(T.s)?(re.ic=1,ie=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(ie),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(re.ic=0,T=Bo(T,re.c)),!T))break t;T=1;break e}re.mc=null,T=0}else T=ke>=re.c*re.i;re=!T}if(re)return null;C.ga.Lc!=1?C.Ga=0:U=ee-D}t(C.ga!=null),t(D+U<=ee);e:{if(T=(ie=C.ga).c,ee=ie.l.o,ie.$a==0){if(fe=C.rc,ke=C.Vc,De=C.Fa,ae=C.P+1+D*T,de=C.mb,Se=C.nb+D*T,t(ae<=C.P+C.qc),ie.Z!=0)for(t(ql[ie.Z]!=null),re=0;re<U;++re)ql[ie.Z](fe,ke,De,ae,de,Se,T),fe=de,ke=Se,Se+=T,ae+=T;else for(re=0;re<U;++re)n(de,Se,De,ae,T),fe=de,ke=Se,Se+=T,ae+=T;C.rc=fe,C.Vc=ke}else{if(t(ie.mc!=null),T=D+U,t((re=ie.mc)!=null),t(T<=re.i),re.C>=T)T=1;else if(ie.ic||ri(),ie.ic){ie=re.V,fe=re.Ba,ke=re.c;var Ge=re.i,Me=(De=1,ae=re.$/ke,de=re.$%ke,Se=re.m,Be=re.s,re.$),Xe=ke*Ge,Qe=ke*T,it=Be.wc,nt=Me<Qe?Tr(Be,de,ae):null;t(Me<=Xe),t(T<=Ge),t(ra(Be));t:for(;;){for(;!Se.h&&Me<Qe;){if(de&it||(nt=Tr(Be,de,ae)),t(nt!=null),_e(Se),256>(Ge=ur(nt.G[0],nt.H[0],Se)))ie[fe+Me]=Ge,++Me,++de>=ke&&(de=0,++ae<=T&&!(ae%16)&&fi(re,ae));else{if(!(280>Ge)){De=0;break t}Ge=Hn(Ge-256,Se);var Tt,bt=ur(nt.G[4],nt.H[4],Se);if(_e(Se),!(Me>=(bt=Fi(ke,bt=Hn(bt,Se)))&&Xe-Me>=Ge)){De=0;break t}for(Tt=0;Tt<Ge;++Tt)ie[fe+Me+Tt]=ie[fe+Me+Tt-bt];for(Me+=Ge,de+=Ge;de>=ke;)de-=ke,++ae<=T&&!(ae%16)&&fi(re,ae);Me<Qe&&de&it&&(nt=Tr(Be,de,ae))}t(Se.h==ge(Se))}fi(re,ae>T?T:ae);break t}!De||Se.h&&Me<Xe?(De=0,re.a=Se.h?5:3):re.$=Me,T=De}else T=Ui(re,re.V,re.Ba,re.c,re.i,T,Ei);if(!T){U=0;break e}}D+U>=ee&&(C.Cc=1),U=1}if(!U)return null;if(C.Cc&&((U=C.ga)!=null&&(U.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+D*Y}function ut(C,T,D,U,Y,ee){for(;0<Y--;){var re,ie=C,ae=T+(D?1:0),de=C,Se=T+(D?0:3);for(re=0;re<U;++re){var Be=de[Se+4*re];Be!=255&&(Be*=32897,ie[ae+4*re+0]=ie[ae+4*re+0]*Be>>23,ie[ae+4*re+1]=ie[ae+4*re+1]*Be>>23,ie[ae+4*re+2]=ie[ae+4*re+2]*Be>>23)}T+=ee}}function Pn(C,T,D,U,Y){for(;0<U--;){var ee;for(ee=0;ee<D;++ee){var re=C[T+2*ee+0],ie=15&(de=C[T+2*ee+1]),ae=4369*ie,de=(240&de|de>>4)*ae>>16;C[T+2*ee+0]=(240&re|re>>4)*ae>>16&240|(15&re|re<<4)*ae>>16>>4&15,C[T+2*ee+1]=240&de|ie}T+=Y}}function Zt(C,T,D,U,Y,ee,re,ie){var ae,de,Se=255;for(de=0;de<Y;++de){for(ae=0;ae<U;++ae){var Be=C[T+ae];ee[re+4*ae]=Be,Se&=Be}T+=D,re+=ie}return Se!=255}function tn(C,T,D,U,Y){var ee;for(ee=0;ee<Y;++ee)D[U+ee]=C[T+ee]>>8}function ri(){Vc=ut,C3=Pn,j3=Zt,S3=tn}function zi(C,T,D){L[C]=function(U,Y,ee,re,ie,ae,de,Se,Be,fe,ke,De,Ge,Me,Xe,Qe,it){var nt,Tt=it-1>>1,bt=ie[ae+0]|de[Se+0]<<16,ir=Be[fe+0]|ke[De+0]<<16;t(U!=null);var jt=3*bt+ir+131074>>2;for(T(U[Y+0],255&jt,jt>>16,Ge,Me),ee!=null&&(jt=3*ir+bt+131074>>2,T(ee[re+0],255&jt,jt>>16,Xe,Qe)),nt=1;nt<=Tt;++nt){var xr=ie[ae+nt]|de[Se+nt]<<16,ai=Be[fe+nt]|ke[De+nt]<<16,ar=bt+xr+ir+ai+524296,St=ar+2*(xr+ir)>>3;jt=St+bt>>1,bt=(ar=ar+2*(bt+ai)>>3)+xr>>1,T(U[Y+2*nt-1],255&jt,jt>>16,Ge,Me+(2*nt-1)*D),T(U[Y+2*nt-0],255&bt,bt>>16,Ge,Me+(2*nt-0)*D),ee!=null&&(jt=ar+ir>>1,bt=St+ai>>1,T(ee[re+2*nt-1],255&jt,jt>>16,Xe,Qe+(2*nt-1)*D),T(ee[re+2*nt+0],255&bt,bt>>16,Xe,Qe+(2*nt+0)*D)),bt=xr,ir=ai}1&it||(jt=3*bt+ir+131074>>2,T(U[Y+it-1],255&jt,jt>>16,Ge,Me+(it-1)*D),ee!=null&&(jt=3*ir+bt+131074>>2,T(ee[re+it-1],255&jt,jt>>16,Xe,Qe+(it-1)*D)))}}function na(){ms[T0]=HO,ms[_0]=M3,ms[P3]=VO,ms[I0]=B3,ms[P0]=F3,ms[ax]=U3,ms[O3]=GO,ms[sx]=M3,ms[ox]=B3,ms[O0]=F3,ms[lx]=U3}function fo(C){return C&-16384?0>C?0:255:C>>KO}function ho(C,T){return fo((19077*C>>8)+(26149*T>>8)-14234)}function fs(C,T,D){return fo((19077*C>>8)-(6419*T>>8)-(13320*D>>8)+8708)}function mo(C,T){return fo((19077*C>>8)+(33050*T>>8)-17685)}function po(C,T,D,U,Y){U[Y+0]=ho(C,D),U[Y+1]=fs(C,T,D),U[Y+2]=mo(C,T)}function Yo(C,T,D,U,Y){U[Y+0]=mo(C,T),U[Y+1]=fs(C,T,D),U[Y+2]=ho(C,D)}function vn(C,T,D,U,Y){var ee=fs(C,T,D);T=ee<<3&224|mo(C,T)>>3,U[Y+0]=248&ho(C,D)|ee>>5,U[Y+1]=T}function Ms(C,T,D,U,Y){var ee=240&mo(C,T)|15;U[Y+0]=240&ho(C,D)|fs(C,T,D)>>4,U[Y+1]=ee}function Zo(C,T,D,U,Y){U[Y+0]=255,po(C,T,D,U,Y+1)}function Bs(C,T,D,U,Y){Yo(C,T,D,U,Y),U[Y+3]=255}function $c(C,T,D,U,Y){po(C,T,D,U,Y),U[Y+3]=255}function Er(C,T){return 0>C?0:C>T?T:C}function xa(C,T,D){L[C]=function(U,Y,ee,re,ie,ae,de,Se,Be){for(var fe=Se+(-2&Be)*D;Se!=fe;)T(U[Y+0],ee[re+0],ie[ae+0],de,Se),T(U[Y+1],ee[re+0],ie[ae+0],de,Se+D),Y+=2,++re,++ae,Se+=2*D;1&Be&&T(U[Y+0],ee[re+0],ie[ae+0],de,Se)}}function ni(C,T,D){return D==0?C==0?T==0?6:5:T==0?4:0:D}function qc(C,T,D,U,Y){switch(C>>>30){case 3:Ae(T,D,U,Y,0);break;case 2:Oe(T,D,U,Y);break;case 1:Ye(T,D,U,Y)}}function bn(C,T){var D,U,Y=T.M,ee=T.Nb,re=C.oc,ie=C.pc+40,ae=C.oc,de=C.pc+584,Se=C.oc,Be=C.pc+600;for(D=0;16>D;++D)re[ie+32*D-1]=129;for(D=0;8>D;++D)ae[de+32*D-1]=129,Se[Be+32*D-1]=129;for(0<Y?re[ie-1-32]=ae[de-1-32]=Se[Be-1-32]=129:(i(re,ie-32-1,127,21),i(ae,de-32-1,127,9),i(Se,Be-32-1,127,9)),U=0;U<C.za;++U){var fe=T.ya[T.aa+U];if(0<U){for(D=-1;16>D;++D)n(re,ie+32*D-4,re,ie+32*D+12,4);for(D=-1;8>D;++D)n(ae,de+32*D-4,ae,de+32*D+4,4),n(Se,Be+32*D-4,Se,Be+32*D+4,4)}var ke=C.Gd,De=C.Hd+U,Ge=fe.ad,Me=fe.Hc;if(0<Y&&(n(re,ie-32,ke[De].y,0,16),n(ae,de-32,ke[De].f,0,8),n(Se,Be-32,ke[De].ea,0,8)),fe.Za){var Xe=re,Qe=ie-32+16;for(0<Y&&(U>=C.za-1?i(Xe,Qe,ke[De].y[15],4):n(Xe,Qe,ke[De+1].y,0,4)),D=0;4>D;D++)Xe[Qe+128+D]=Xe[Qe+256+D]=Xe[Qe+384+D]=Xe[Qe+0+D];for(D=0;16>D;++D,Me<<=2)Xe=re,Qe=ie+z3[D],Us[fe.Ob[D]](Xe,Qe),qc(Me,Ge,16*+D,Xe,Qe)}else if(Xe=ni(U,Y,fe.Ob[0]),$l[Xe](re,ie),Me!=0)for(D=0;16>D;++D,Me<<=2)qc(Me,Ge,16*+D,re,ie+z3[D]);for(D=fe.Gc,Xe=ni(U,Y,fe.Dd),rl[Xe](ae,de),rl[Xe](Se,Be),Me=Ge,Xe=ae,Qe=de,255&(fe=0|D)&&(170&fe?Fe(Me,256,Xe,Qe):et(Me,256,Xe,Qe)),fe=Se,Me=Be,255&(D>>=8)&&(170&D?Fe(Ge,320,fe,Me):et(Ge,320,fe,Me)),Y<C.Ub-1&&(n(ke[De].y,0,re,ie+480,16),n(ke[De].f,0,ae,de+224,8),n(ke[De].ea,0,Se,Be+224,8)),D=8*ee*C.B,ke=C.sa,De=C.ta+16*U+16*ee*C.R,Ge=C.qa,fe=C.ra+8*U+D,Me=C.Ha,Xe=C.Ia+8*U+D,D=0;16>D;++D)n(ke,De+D*C.R,re,ie+32*D,16);for(D=0;8>D;++D)n(Ge,fe+D*C.B,ae,de+32*D,8),n(Me,Xe+D*C.B,Se,Be+32*D,8)}}function Jo(C,T,D,U,Y,ee,re,ie,ae){var de=[0],Se=[0],Be=0,fe=ae!=null?ae.kd:0,ke=ae??new Ke;if(C==null||12>D)return 7;ke.data=C,ke.w=T,ke.ha=D,T=[T],D=[D],ke.gb=[ke.gb];e:{var De=T,Ge=D,Me=ke.gb;if(t(C!=null),t(Ge!=null),t(Me!=null),Me[0]=0,12<=Ge[0]&&!r(C,De[0],"RIFF")){if(r(C,De[0]+8,"WEBP")){Me=3;break e}var Xe=Re(C,De[0]+4);if(12>Xe||4294967286<Xe){Me=3;break e}if(fe&&Xe>Ge[0]-8){Me=7;break e}Me[0]=Xe,De[0]+=12,Ge[0]-=12}Me=0}if(Me!=0)return Me;for(Xe=0<ke.gb[0],D=D[0];;){e:{var Qe=C;Ge=T,Me=D;var it=de,nt=Se,Tt=De=[0];if((jt=Be=[Be])[0]=0,8>Me[0])Me=7;else{if(!r(Qe,Ge[0],"VP8X")){if(Re(Qe,Ge[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var bt=Re(Qe,Ge[0]+8),ir=1+ze(Qe,Ge[0]+12);if(2147483648<=ir*(Qe=1+ze(Qe,Ge[0]+15))){Me=3;break e}Tt!=null&&(Tt[0]=bt),it!=null&&(it[0]=ir),nt!=null&&(nt[0]=Qe),Ge[0]+=18,Me[0]-=18,jt[0]=1}Me=0}}if(Be=Be[0],De=De[0],Me!=0)return Me;if(Ge=!!(2&De),!Xe&&Be)return 3;if(ee!=null&&(ee[0]=!!(16&De)),re!=null&&(re[0]=Ge),ie!=null&&(ie[0]=0),re=de[0],De=Se[0],Be&&Ge&&ae==null){Me=0;break}if(4>D){Me=7;break}if(Xe&&Be||!Xe&&!Be&&!r(C,T[0],"ALPH")){D=[D],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{bt=C,Me=T,Xe=D;var jt=ke.gb;it=ke.na,nt=ke.P,Tt=ke.Sa,ir=22,t(bt!=null),t(Xe!=null),Qe=Me[0];var xr=Xe[0];for(t(it!=null),t(Tt!=null),it[0]=null,nt[0]=null,Tt[0]=0;;){if(Me[0]=Qe,Xe[0]=xr,8>xr){Me=7;break e}var ai=Re(bt,Qe+4);if(4294967286<ai){Me=3;break e}var ar=8+ai+1&-2;if(ir+=ar,0<jt&&ir>jt){Me=3;break e}if(!r(bt,Qe,"VP8 ")||!r(bt,Qe,"VP8L")){Me=0;break e}if(xr[0]<ar){Me=7;break e}r(bt,Qe,"ALPH")||(it[0]=bt,nt[0]=Qe+8,Tt[0]=ai),Qe+=ar,xr-=ar}}if(D=D[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Me!=0)break}D=[D],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(jt=C,Me=T,Xe=D,it=ke.gb[0],nt=ke.Ja,Tt=ke.xa,bt=Me[0],Qe=!r(jt,bt,"VP8 "),ir=!r(jt,bt,"VP8L"),t(jt!=null),t(Xe!=null),t(nt!=null),t(Tt!=null),8>Xe[0])Me=7;else{if(Qe||ir){if(jt=Re(jt,bt+4),12<=it&&jt>it-12){Me=3;break e}if(fe&&jt>Xe[0]-8){Me=7;break e}nt[0]=jt,Me[0]+=8,Xe[0]-=8,Tt[0]=ir}else Tt[0]=5<=Xe[0]&&jt[bt+0]==47&&!(jt[bt+4]>>5),nt[0]=Xe[0];Me=0}if(D=D[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],T=T[0],Me!=0)break;if(4294967286<ke.Ja)return 3;if(ie==null||Ge||(ie[0]=ke.xa?2:1),re=[re],De=[De],ke.xa){if(5>D){Me=7;break}ie=re,fe=De,Ge=ee,C==null||5>D?C=0:5<=D&&C[T+0]==47&&!(C[T+4]>>5)?(Xe=[0],jt=[0],it=[0],Ne(nt=new oe,C,T,D),Ps(nt,Xe,jt,it)?(ie!=null&&(ie[0]=Xe[0]),fe!=null&&(fe[0]=jt[0]),Ge!=null&&(Ge[0]=it[0]),C=1):C=0):C=0}else{if(10>D){Me=7;break}ie=De,C==null||10>D||!dn(C,T+3,D-3)?C=0:(fe=C[T+0]|C[T+1]<<8|C[T+2]<<16,Ge=16383&(C[T+7]<<8|C[T+6]),C=16383&(C[T+9]<<8|C[T+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=ke.Ja||!Ge||!C?C=0:(re&&(re[0]=Ge),ie&&(ie[0]=C),C=1))}if(!C||(re=re[0],De=De[0],Be&&(de[0]!=re||Se[0]!=De)))return 3;ae!=null&&(ae[0]=ke,ae.offset=T-ae.w,t(4294967286>T-ae.w),t(ae.offset==ae.ha-D));break}return Me==0||Me==7&&Be&&ae==null?(ee!=null&&(ee[0]|=ke.na!=null&&0<ke.na.length),U!=null&&(U[0]=re),Y!=null&&(Y[0]=De),0):Me}function Qo(C,T,D){var U=T.width,Y=T.height,ee=0,re=0,ie=U,ae=Y;if(T.Da=C!=null&&0<C.Da,T.Da&&(ie=C.cd,ae=C.bd,ee=C.v,re=C.j,11>D||(ee&=-2,re&=-2),0>ee||0>re||0>=ie||0>=ae||ee+ie>U||re+ae>Y))return 0;if(T.v=ee,T.j=re,T.va=ee+ie,T.o=re+ae,T.U=ie,T.T=ae,T.da=C!=null&&0<C.da,T.da){if(!st(ie,ae,D=[C.ib],ee=[C.hb]))return 0;T.ib=D[0],T.hb=ee[0]}return T.ob=C!=null&&C.ob,T.Kb=C==null||!C.Sd,T.da&&(T.ob=T.ib<3*U/4&&T.hb<3*Y/4,T.Kb=0),1}function Hc(C){if(C==null)return 2;if(11>C.S){var T=C.f.RGBA;T.fb+=(C.height-1)*T.A,T.A=-T.A}else T=C.f.kb,C=C.height,T.O+=(C-1)*T.fa,T.fa=-T.fa,T.N+=(C-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(C-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(C-1)*T.lb,T.lb=-T.lb);return 0}function Fs(C,T,D,U){if(U==null||0>=C||0>=T)return 2;if(D!=null){if(D.Da){var Y=D.cd,ee=D.bd,re=-2&D.v,ie=-2&D.j;if(0>re||0>ie||0>=Y||0>=ee||re+Y>C||ie+ee>T)return 2;C=Y,T=ee}if(D.da){if(!st(C,T,Y=[D.ib],ee=[D.hb]))return 2;C=Y[0],T=ee[0]}}U.width=C,U.height=T;e:{var ae=U.width,de=U.height;if(C=U.S,0>=ae||0>=de||!(C>=T0&&13>C))C=2;else{if(0>=U.Rd&&U.sd==null){re=ee=Y=T=0;var Se=(ie=ae*$3[C])*de;if(11>C||(ee=(de+1)/2*(T=(ae+1)/2),C==12&&(re=(Y=ae)*de)),(de=a(Se+2*ee+re))==null){C=1;break e}U.sd=de,11>C?((ae=U.f.RGBA).eb=de,ae.fb=0,ae.A=ie,ae.size=Se):((ae=U.f.kb).y=de,ae.O=0,ae.fa=ie,ae.Fd=Se,ae.f=de,ae.N=0+Se,ae.Ab=T,ae.Cd=ee,ae.ea=de,ae.W=0+Se+ee,ae.Db=T,ae.Ed=ee,C==12&&(ae.F=de,ae.J=0+Se+2*ee),ae.Tc=re,ae.lb=Y)}if(T=1,Y=U.S,ee=U.width,re=U.height,Y>=T0&&13>Y)if(11>Y)C=U.f.RGBA,T&=(ie=Math.abs(C.A))*(re-1)+ee<=C.size,T&=ie>=ee*$3[Y],T&=C.eb!=null;else{C=U.f.kb,ie=(ee+1)/2,Se=(re+1)/2,ae=Math.abs(C.fa),de=Math.abs(C.Ab);var Be=Math.abs(C.Db),fe=Math.abs(C.lb),ke=fe*(re-1)+ee;T&=ae*(re-1)+ee<=C.Fd,T&=de*(Se-1)+ie<=C.Cd,T=(T&=Be*(Se-1)+ie<=C.Ed)&ae>=ee&de>=ie&Be>=ie,T&=C.y!=null,T&=C.f!=null,T&=C.ea!=null,Y==12&&(T&=fe>=ee,T&=ke<=C.Tc,T&=C.F!=null)}else T=0;C=T?0:2}}return C!=0||D!=null&&D.fd&&(C=Hc(U)),C}var mi=64,ia=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ti=24,ya=32,Qt=8,La=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(C){return C},L.Predictor2=function(C,T,D){return T[D+0]},L.Predictor3=function(C,T,D){return T[D+1]},L.Predictor4=function(C,T,D){return T[D-1]},L.Predictor5=function(C,T,D){return It(It(C,T[D+1]),T[D+0])},L.Predictor6=function(C,T,D){return It(C,T[D-1])},L.Predictor7=function(C,T,D){return It(C,T[D+0])},L.Predictor8=function(C,T,D){return It(T[D-1],T[D+0])},L.Predictor9=function(C,T,D){return It(T[D+0],T[D+1])},L.Predictor10=function(C,T,D){return It(It(C,T[D-1]),It(T[D+0],T[D+1]))},L.Predictor11=function(C,T,D){var U=T[D+0];return 0>=Rt(U>>24&255,C>>24&255,(T=T[D-1])>>24&255)+Rt(U>>16&255,C>>16&255,T>>16&255)+Rt(U>>8&255,C>>8&255,T>>8&255)+Rt(255&U,255&C,255&T)?U:C},L.Predictor12=function(C,T,D){var U=T[D+0];return(rr((C>>24&255)+(U>>24&255)-((T=T[D-1])>>24&255))<<24|rr((C>>16&255)+(U>>16&255)-(T>>16&255))<<16|rr((C>>8&255)+(U>>8&255)-(T>>8&255))<<8|rr((255&C)+(255&U)-(255&T)))>>>0},L.Predictor13=function(C,T,D){var U=T[D-1];return(Kt((C=It(C,T[D+0]))>>24&255,U>>24&255)<<24|Kt(C>>16&255,U>>16&255)<<16|Kt(C>>8&255,U>>8&255)<<8|Kt(255&C,255&U))>>>0};var G=L.PredictorAdd0;L.PredictorAdd1=Cr,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var l=L.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var u,h=L.ColorIndexInverseTransform,p=L.MapARGB,x=L.VP8LColorIndexInverseTransformAlpha,v=L.MapAlpha,j=L.VP8LPredictorsAdd=[];j.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var _,R,B,K,Q,le,be,Ae,Oe,Fe,Ye,et,Je,Ot,Ft,Kn,pi,ii,_r,Xn,$i,el,tl,E0,Vc,C3,j3,S3,E3=a(511),k3=a(2041),T3=a(225),_3=a(767),I3=0,ix=k3,k0=T3,Ma=_3,hs=E3,T0=0,_0=1,P3=2,I0=3,P0=4,ax=5,O3=6,sx=7,ox=8,O0=9,lx=10,IO=[2,3,7],PO=[3,3,11],R3=[280,256,256,256,40],OO=[0,1,1,1,0],RO=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],DO=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LO=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],MO=8,cx=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ux=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wf=null,BO=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],FO=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],UO=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WO=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zO=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$O=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$l=[],Us=[],rl=[],qO=1,L3=2,ql=[],ms=[];zi("UpsampleRgbLinePair",po,3),zi("UpsampleBgrLinePair",Yo,3),zi("UpsampleRgbaLinePair",$c,4),zi("UpsampleBgraLinePair",Bs,4),zi("UpsampleArgbLinePair",Zo,4),zi("UpsampleRgba4444LinePair",Ms,2),zi("UpsampleRgb565LinePair",vn,2);var HO=L.UpsampleRgbLinePair,VO=L.UpsampleBgrLinePair,M3=L.UpsampleRgbaLinePair,B3=L.UpsampleBgraLinePair,F3=L.UpsampleArgbLinePair,U3=L.UpsampleRgba4444LinePair,GO=L.UpsampleRgb565LinePair,R0=16,D0=1<<R0-1,Nf=-227,dx=482,KO=6,W3=0,XO=a(256),YO=a(256),ZO=a(256),JO=a(256),QO=a(dx-Nf),eR=a(dx-Nf);xa("YuvToRgbRow",po,3),xa("YuvToBgrRow",Yo,3),xa("YuvToRgbaRow",$c,4),xa("YuvToBgraRow",Bs,4),xa("YuvToArgbRow",Zo,4),xa("YuvToRgba4444Row",Ms,2),xa("YuvToRgb565Row",vn,2);var z3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],L0=[0,2,8],tR=[8,7,6,4,4,2,2,2,1,1,1,1],rR=1;this.WebPDecodeRGBA=function(C,T,D,U,Y){var ee=_0,re=new Pe,ie=new pr;re.ba=ie,ie.S=ee,ie.width=[ie.width],ie.height=[ie.height];var ae=ie.width,de=ie.height,Se=new Ht;if(Se==null||C==null)var Be=2;else t(Se!=null),Be=Jo(C,T,D,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Be!=0?ae=0:(ae!=null&&(ae[0]=Se.width[0]),de!=null&&(de[0]=Se.height[0]),ae=1),ae){ie.width=ie.width[0],ie.height=ie.height[0],U!=null&&(U[0]=ie.width),Y!=null&&(Y[0]=ie.height);e:{if(U=new co,(Y=new Ke).data=C,Y.w=T,Y.ha=D,Y.kd=1,T=[0],t(Y!=null),((C=Jo(Y.data,Y.w,Y.ha,null,null,null,T,null,Y))==0||C==7)&&T[0]&&(C=4),(T=C)==0){if(t(re!=null),U.data=Y.data,U.w=Y.w+Y.offset,U.ha=Y.ha-Y.offset,U.put=Lt,U.ac=ji,U.bc=qn,U.ma=re,Y.xa){if((C=hi())==null){re=1;break e}if(function(fe,ke){var De=[0],Ge=[0],Me=[0];t:for(;;){if(fe==null)return 0;if(ke==null)return fe.a=2,0;if(fe.l=ke,fe.a=0,Ne(fe.m,ke.data,ke.w,ke.ha),!Ps(fe.m,De,Ge,Me)){fe.a=3;break t}if(fe.xb=L3,ke.width=De[0],ke.height=Ge[0],!ss(De[0],Ge[0],1,fe,null))break t;return 1}return t(fe.a!=0),0}(C,U)){if(U=(T=Fs(U.width,U.height,re.Oa,re.ba))==0){t:{U=C;r:for(;;){if(U==null){U=0;break t}if(t(U.s.yc!=null),t(U.s.Ya!=null),t(0<U.s.Wb),t((D=U.l)!=null),t((Y=D.ma)!=null),U.xb!=0){if(U.ca=Y.ba,U.tb=Y.tb,t(U.ca!=null),!Qo(Y.Oa,D,I0)){U.a=2;break r}if(!Bo(U,D.width)||D.da)break r;if((D.da||Xt(U.ca.S))&&ri(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&ri()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!ce(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Ui(U,U.V,U.Ba,U.c,U.i,D.o,ta))break r;Y.Dc=U.Ma,U=1;break t}t(U.a!=0),U=0}U=!U}U&&(T=C.a)}else T=C.a}else{if((C=new Uc)==null){re=1;break e}if(C.Fa=Y.na,C.P=Y.P,C.qc=Y.Sa,Pa(C,U)){if((T=Fs(U.width,U.height,re.Oa,re.ba))==0){if(C.Aa=0,D=re.Oa,t((Y=C)!=null),D!=null){if(0<(ae=0>(ae=D.Md)?0:100<ae?255:255*ae/100)){for(de=Se=0;4>de;++de)12>(Be=Y.pb[de]).lc&&(Be.ia=ae*tR[0>Be.lc?0:Be.lc]>>3),Se|=Be.ia;Se&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=D.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(fe,ke){if(fe==null)return 0;if(ke==null)return un(fe,2,"NULL VP8Io parameter in VP8Decode().");if(!fe.cb&&!Pa(fe,ke))return 0;if(t(fe.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(fe.L=0);var De=L0[fe.L];if(fe.L==2?(fe.yb=0,fe.zb=0):(fe.yb=ke.v-De>>4,fe.zb=ke.j-De>>4,0>fe.yb&&(fe.yb=0),0>fe.zb&&(fe.zb=0)),fe.Va=ke.o+15+De>>4,fe.Hb=ke.va+15+De>>4,fe.Hb>fe.za&&(fe.Hb=fe.za),fe.Va>fe.Ub&&(fe.Va=fe.Ub),0<fe.L){var Ge=fe.ed;for(De=0;4>De;++De){var Me;if(fe.Qa.Cb){var Xe=fe.Qa.Lb[De];fe.Qa.Fb||(Xe+=Ge.Tb)}else Xe=Ge.Tb;for(Me=0;1>=Me;++Me){var Qe=fe.gd[De][Me],it=Xe;if(Ge.Pc&&(it+=Ge.vd[0],Me&&(it+=Ge.od[0])),0<(it=0>it?0:63<it?63:it)){var nt=it;0<Ge.wb&&(nt=4<Ge.wb?nt>>2:nt>>1)>9-Ge.wb&&(nt=9-Ge.wb),1>nt&&(nt=1),Qe.dd=nt,Qe.tc=2*it+nt,Qe.ld=40<=it?2:15<=it?1:0}else Qe.tc=0;Qe.La=Me}}}De=0}else un(fe,6,"Frame setup failed"),De=fe.a;if(De=De==0){if(De){fe.$c=0,0<fe.Aa||(fe.Ic=rR);t:{De=fe.Ic,Ge=4*(nt=fe.za);var Tt=32*nt,bt=nt+1,ir=0<fe.L?nt*(0<fe.Aa?2:1):0,jt=(fe.Aa==2?2:1)*nt;if((Qe=Ge+832+(Me=3*(16*De+L0[fe.L])/2*Tt)+(Xe=fe.Fa!=null&&0<fe.Fa.length?fe.Kc.c*fe.Kc.i:0))!=Qe)De=0;else{if(Qe>fe.Vb){if(fe.Vb=0,fe.Ec=a(Qe),fe.Fc=0,fe.Ec==null){De=un(fe,1,"no memory during frame initialization.");break t}fe.Vb=Qe}Qe=fe.Ec,it=fe.Fc,fe.Ac=Qe,fe.Bc=it,it+=Ge,fe.Gd=o(Tt,hr),fe.Hd=0,fe.rb=o(bt+1,Wr),fe.sb=1,fe.wa=ir?o(ir,ga):null,fe.Y=0,fe.D.Nb=0,fe.D.wa=fe.wa,fe.D.Y=fe.Y,0<fe.Aa&&(fe.D.Y+=nt),t(!0),fe.oc=Qe,fe.pc=it,it+=832,fe.ya=o(jt,Fc),fe.aa=0,fe.D.ya=fe.ya,fe.D.aa=fe.aa,fe.Aa==2&&(fe.D.aa+=nt),fe.R=16*nt,fe.B=8*nt,nt=(Tt=L0[fe.L])*fe.R,Tt=Tt/2*fe.B,fe.sa=Qe,fe.ta=it+nt,fe.qa=fe.sa,fe.ra=fe.ta+16*De*fe.R+Tt,fe.Ha=fe.qa,fe.Ia=fe.ra+8*De*fe.B+Tt,fe.$c=0,it+=Me,fe.mb=Xe?Qe:null,fe.nb=Xe?it:null,t(it+Xe<=fe.Fc+fe.Vb),Ir(fe),i(fe.Ac,fe.Bc,0,Ge),De=1}}if(De){if(ke.ka=0,ke.y=fe.sa,ke.O=fe.ta,ke.f=fe.qa,ke.N=fe.ra,ke.ea=fe.Ha,ke.Vd=fe.Ia,ke.fa=fe.R,ke.Rc=fe.B,ke.F=null,ke.J=0,!I3){for(De=-255;255>=De;++De)E3[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)k3[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)T3[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)_3[255+De]=0>De?0:255<De?255:De;I3=1}be=ki,Ae=Le,Fe=se,Ye=mt,et=yn,Oe=Gn,Je=Ko,Ot=Da,Ft=O,Kn=X,pi=Xo,ii=Ue,_r=ue,Xn=we,$i=zl,el=Go,tl=qu,E0=Hu,Us[0]=Mt,Us[1]=Uo,Us[2]=zo,Us[3]=ls,Us[4]=vf,Us[5]=qr,Us[6]=$t,Us[7]=bf,Us[8]=$o,Us[9]=zc,$l[0]=os,$l[1]=Pt,$l[2]=$r,$l[3]=Bl,$l[4]=Fl,$l[5]=Ds,$l[6]=Wc,rl[0]=us,rl[1]=Wi,rl[2]=Oa,rl[3]=qo,rl[4]=Ul,rl[5]=Ho,rl[6]=Ls,De=1}else De=0}De&&(De=function(xr,ai){for(xr.M=0;xr.M<xr.Va;++xr.M){var ar,St=xr.Jc[xr.M&xr.Xb],ct=xr.m,On=xr;for(ar=0;ar<On.za;++ar){var er=ct,yr=On,rn=yr.Ac,_i=yr.Bc+4*ar,aa=yr.zc,Sn=yr.ya[yr.aa+ar];if(yr.Qa.Bb?Sn.$b=Ce(er,yr.Pa.jb[0])?2+Ce(er,yr.Pa.jb[2]):Ce(er,yr.Pa.jb[1]):Sn.$b=0,yr.kc&&(Sn.Ad=Ce(er,yr.Bd)),Sn.Za=!Ce(er,145)+0,Sn.Za){var qi=Sn.Ob,sa=0;for(yr=0;4>yr;++yr){var si,br=aa[0+yr];for(si=0;4>si;++si){br=WO[rn[_i+si]][br];for(var Pr=D3[Ce(er,br[0])];0<Pr;)Pr=D3[2*Pr+Ce(er,br[Pr])];br=-Pr,rn[_i+si]=br}n(qi,sa,rn,_i,4),sa+=4,aa[0+yr]=br}}else br=Ce(er,156)?Ce(er,128)?1:3:Ce(er,163)?2:0,Sn.Ob[0]=br,i(rn,_i,br,4),i(aa,0,br,4);Sn.Dd=Ce(er,142)?Ce(er,114)?Ce(er,183)?1:3:2:0}if(On.m.Ka)return un(xr,7,"Premature end-of-partition0 encountered.");for(;xr.ja<xr.za;++xr.ja){if(On=St,er=(ct=xr).rb[ct.sb-1],rn=ct.rb[ct.sb+ct.ja],ar=ct.ya[ct.aa+ct.ja],_i=ct.kc?ar.Ad:0)er.la=rn.la=0,ar.Za||(er.Na=rn.Na=0),ar.Hc=0,ar.Gc=0,ar.ia=0;else{var En,Or;if(er=rn,rn=On,_i=ct.Pa.Xc,aa=ct.ya[ct.aa+ct.ja],Sn=ct.pb[aa.$b],yr=aa.ad,qi=0,sa=ct.rb[ct.sb-1],br=si=0,i(yr,qi,0,384),aa.Za)var Ii=0,Ws=_i[3];else{Pr=a(16);var Rn=er.Na+sa.Na;if(Rn=wf(rn,_i[1],Rn,Sn.Eb,0,Pr,0),er.Na=sa.Na=(0<Rn)+0,1<Rn)be(Pr,0,yr,qi);else{var va=Pr[0]+3>>3;for(Pr=0;256>Pr;Pr+=16)yr[qi+Pr]=va}Ii=1,Ws=_i[0]}var Hr=15&er.la,oi=15&sa.la;for(Pr=0;4>Pr;++Pr){var Ba=1&oi;for(va=Or=0;4>va;++va)Hr=Hr>>1|(Ba=(Rn=wf(rn,Ws,Rn=Ba+(1&Hr),Sn.Sc,Ii,yr,qi))>Ii)<<7,Or=Or<<2|(3<Rn?3:1<Rn?2:yr[qi+0]!=0),qi+=16;Hr>>=4,oi=oi>>1|Ba<<7,si=(si<<8|Or)>>>0}for(Ws=Hr,Ii=oi>>4,En=0;4>En;En+=2){for(Or=0,Hr=er.la>>4+En,oi=sa.la>>4+En,Pr=0;2>Pr;++Pr){for(Ba=1&oi,va=0;2>va;++va)Rn=Ba+(1&Hr),Hr=Hr>>1|(Ba=0<(Rn=wf(rn,_i[2],Rn,Sn.Qc,0,yr,qi)))<<3,Or=Or<<2|(3<Rn?3:1<Rn?2:yr[qi+0]!=0),qi+=16;Hr>>=2,oi=oi>>1|Ba<<5}br|=Or<<4*En,Ws|=Hr<<4<<En,Ii|=(240&oi)<<En}er.la=Ws,sa.la=Ii,aa.Hc=si,aa.Gc=br,aa.ia=43690&br?0:Sn.ia,_i=!(si|br)}if(0<ct.L&&(ct.wa[ct.Y+ct.ja]=ct.gd[ar.$b][ar.Za],ct.wa[ct.Y+ct.ja].La|=!_i),On.Ka)return un(xr,7,"Premature end-of-file encountered.")}if(Ir(xr),ct=ai,On=1,ar=(St=xr).D,er=0<St.L&&St.M>=St.zb&&St.M<=St.Va,St.Aa==0)t:{if(ar.M=St.M,ar.uc=er,bn(St,ar),On=1,ar=(Or=St.D).Nb,er=(br=L0[St.L])*St.R,rn=br/2*St.B,Pr=16*ar*St.R,va=8*ar*St.B,_i=St.sa,aa=St.ta-er+Pr,Sn=St.qa,yr=St.ra-rn+va,qi=St.Ha,sa=St.Ia-rn+va,oi=(Hr=Or.M)==0,si=Hr>=St.Va-1,St.Aa==2&&bn(St,Or),Or.uc)for(Ba=(Rn=St).D.M,t(Rn.D.uc),Or=Rn.yb;Or<Rn.Hb;++Or){Ii=Or,Ws=Ba;var oa=(Fa=(Pi=Rn).D).Nb;En=Pi.R;var Fa=Fa.wa[Fa.Y+Ii],Ua=Pi.sa,ba=Pi.ta+16*oa*En+16*Ii,Wa=Fa.dd,Yr=Fa.tc;if(Yr!=0)if(t(3<=Yr),Pi.L==1)0<Ii&&el(Ua,ba,En,Yr+4),Fa.La&&E0(Ua,ba,En,Yr),0<Ws&&$i(Ua,ba,En,Yr+4),Fa.La&&tl(Ua,ba,En,Yr);else{var za=Pi.B,zs=Pi.qa,Gc=Pi.ra+8*oa*za+8*Ii,nl=Pi.Ha,Pi=Pi.Ia+8*oa*za+8*Ii;oa=Fa.ld,0<Ii&&(Ot(Ua,ba,En,Yr+4,Wa,oa),Kn(zs,Gc,nl,Pi,za,Yr+4,Wa,oa)),Fa.La&&(ii(Ua,ba,En,Yr,Wa,oa),Xn(zs,Gc,nl,Pi,za,Yr,Wa,oa)),0<Ws&&(Je(Ua,ba,En,Yr+4,Wa,oa),Ft(zs,Gc,nl,Pi,za,Yr+4,Wa,oa)),Fa.La&&(pi(Ua,ba,En,Yr,Wa,oa),_r(zs,Gc,nl,Pi,za,Yr,Wa,oa))}}if(St.ia&&alert("todo:DitherRow"),ct.put!=null){if(Or=16*Hr,Hr=16*(Hr+1),oi?(ct.y=St.sa,ct.O=St.ta+Pr,ct.f=St.qa,ct.N=St.ra+va,ct.ea=St.Ha,ct.W=St.Ia+va):(Or-=br,ct.y=_i,ct.O=aa,ct.f=Sn,ct.N=yr,ct.ea=qi,ct.W=sa),si||(Hr-=br),Hr>ct.o&&(Hr=ct.o),ct.F=null,ct.J=null,St.Fa!=null&&0<St.Fa.length&&Or<Hr&&(ct.J=Vt(St,ct,Or,Hr-Or),ct.F=St.mb,ct.F==null&&ct.F.length==0)){On=un(St,3,"Could not decode alpha data.");break t}Or<ct.j&&(br=ct.j-Or,Or=ct.j,t(!(1&br)),ct.O+=St.R*br,ct.N+=St.B*(br>>1),ct.W+=St.B*(br>>1),ct.F!=null&&(ct.J+=ct.width*br)),Or<Hr&&(ct.O+=ct.v,ct.N+=ct.v>>1,ct.W+=ct.v>>1,ct.F!=null&&(ct.J+=ct.v),ct.ka=Or-ct.j,ct.U=ct.va-ct.v,ct.T=Hr-Or,On=ct.put(ct))}ar+1!=St.Ic||si||(n(St.sa,St.ta-er,_i,aa+16*St.R,er),n(St.qa,St.ra-rn,Sn,yr+8*St.B,rn),n(St.Ha,St.Ia-rn,qi,sa+8*St.B,rn))}if(!On)return un(xr,6,"Output aborted.")}return 1}(fe,ke)),ke.bc!=null&&ke.bc(ke),De&=1}return De?(fe.cb=0,De):0})(C,U)||(T=C.a)}}else T=C.a}T==0&&re.Oa!=null&&re.Oa.fd&&(T=Hc(re.ba))}re=T}ee=re!=0?null:11>ee?ie.f.RGBA.eb:ie.f.kb.y}else ee=null;return ee};var $3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(L,J){for(var M="",z=0;z<4;z++)M+=String.fromCharCode(L[J++]);return M}function m(L,J){return L[J+0]|L[J+1]<<8}function g(L,J){return(L[J+0]|L[J+1]<<8|L[J+2]<<16)>>>0}function b(L,J){return(L[J+0]|L[J+1]<<8|L[J+2]<<16|L[J+3]<<24)>>>0}new d;var y=[0],w=[0],A=[],N=new d,S=e,E=function(L,J){var M={},z=0,te=!1,V=0,Z=0;if(M.frames=[],!function(q,oe){for(var ne=0;ne<4;ne++)if(q[oe+ne]!="RIFF".charCodeAt(ne))return!0;return!1}(L,J)){for(b(L,J+=4),J+=8;J<L.length;){var ye=f(L,J),ve=b(L,J+=4);J+=4;var me=ve+(1&ve);switch(ye){case"VP8 ":case"VP8L":M.frames[z]===void 0&&(M.frames[z]={}),(je=M.frames[z]).src_off=te?Z:J-8,je.src_size=V+ve+8,z++,te&&(te=!1,V=0,Z=0);break;case"VP8X":(je=M.header={}).feature_flags=L[J];var Ne=J+4;je.canvas_width=1+g(L,Ne),Ne+=3,je.canvas_height=1+g(L,Ne),Ne+=3;break;case"ALPH":te=!0,V=me+8,Z=J-8;break;case"ANIM":(je=M.header).bgcolor=b(L,J),Ne=J+4,je.loop_count=m(L,Ne),Ne+=2;break;case"ANMF":var Ie,je;(je=M.frames[z]={}).offset_x=2*g(L,J),J+=3,je.offset_y=2*g(L,J),J+=3,je.width=1+g(L,J),J+=3,je.height=1+g(L,J),J+=3,je.duration=g(L,J),J+=3,Ie=L[J++],je.dispose=1&Ie,je.blend=Ie>>1&1}ye!="ANMF"&&(J+=me)}return M}}(S,0);E.response=S,E.rgbaoutput=!0,E.dataurl=!1;var k=E.header?E.header:null,P=E.frames?E.frames:null;if(k){k.loop_counter=k.loop_count,y=[k.canvas_height],w=[k.canvas_width];for(var W=0;W<P.length&&P[W].blend!=0;W++);}var H=P[0],$=N.WebPDecodeRGBA(S,H.src_off,H.src_size,w,y);H.rgba=$,H.imgwidth=w[0],H.imgheight=y[0];for(var F=0;F<w[0]*y[0]*4;F++)A[F]=$[F];return this.width=w,this.height=y,this.data=A,this}(function(e){var t,r,n,i,a,o,c,d,f,m=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new d,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new o,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new o,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,f=new m}]);var g=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var oe=q;Object.defineProperty(this,"pdf",{get:function(){return oe}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(Re){ne=!!Re}});var ge=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ge},set:function(Re){ge=!!Re}});var xe=0;Object.defineProperty(this,"posX",{get:function(){return xe},set:function(Re){isNaN(Re)||(xe=Re)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(Re){isNaN(Re)||(_e=Re)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Re){var ce;typeof Re=="number"?ce=[Re,Re,Re,Re]:((ce=new Array(4))[0]=Re[0],ce[1]=Re.length>=2?Re[1]:ce[0],ce[2]=Re.length>=3?Re[2]:ce[0],ce[3]=Re.length>=4?Re[3]:ce[1]),f.margin=ce}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Re){he=Re}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Re){pe=Re}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Re){Ce=Re}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Re){Re instanceof m&&(f=Re)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Re){f.path=Re}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Re){Ee=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var ce;ce=b(Re),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var ce=b(Re);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var Te=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(Re){Te=null,ze=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var ce;if(this.ctx.font=Re,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var Ze=ce[1];ce[2];var ot=ce[3],st=ce[4];ce[5];var Ve=ce[6],Ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(st)[2];st=Math.floor(Ct==="px"?parseFloat(st)*this.pdf.internal.scaleFactor:Ct==="em"?parseFloat(st)*this.pdf.getFontSize():parseFloat(st)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(st);var He=function(zt){var Et,Ur,Bt=[],$e=zt.trim();if($e==="")return H2;if($e in yj)return[yj[$e]];for(;$e!=="";){switch(Ur=null,Et=($e=bj($e)).charAt(0)){case'"':case"'":Ur=Iie($e.substring(1),Et);break;default:Ur=Pie($e)}if(Ur===null||(Bt.push(Ur[0]),($e=bj(Ur[1]))!==""&&$e.charAt(0)!==","))return H2;$e=$e.replace(/^,/,"")}return Bt}(Ve);if(this.fontFaces){var Gt=function(zt,Et){if(Te===null){var Ur=function(Bt){var $e=[];return Object.keys(Bt).forEach(function(At){Bt[At].forEach(function(Dt){var ft=null;switch(Dt){case"bold":ft={family:At,weight:"bold"};break;case"italic":ft={family:At,style:"italic"};break;case"bolditalic":ft={family:At,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:At}}ft!==null&&(ft.ref={name:At,style:Dt},$e.push(ft))})}),$e}(zt.getFontList());Te=function(Bt){for(var $e={},At=0;At<Bt.length;++At){var Dt=q2(Bt[At]),ft=Dt.family,nr=Dt.stretch,Xt=Dt.style,cn=Dt.weight;$e[ft]=$e[ft]||{},$e[ft][nr]=$e[ft][nr]||{},$e[ft][nr][Xt]=$e[ft][nr][Xt]||{},$e[ft][nr][Xt][cn]=Dt}return $e}(Ur.concat(Et))}return Te}(this.pdf,this.fontFaces),It=He.map(function(zt){return{family:zt,stretch:"normal",weight:ot,style:Ze}}),rr=function(zt,Et,Ur){for(var Bt=(Ur=Ur||{}).defaultFontFamily||"times",$e=Object.assign({},_ie,Ur.genericFontFamilies||{}),At=null,Dt=null,ft=0;ft<Et.length;++ft)if($e[(At=q2(Et[ft])).family]&&(At.family=$e[At.family]),zt.hasOwnProperty(At.family)){Dt=zt[At.family];break}if(!(Dt=Dt||zt[Bt]))throw new Error("Could not find a font-family for the rule '"+vj(At)+"' and default family '"+Bt+"'.");if(Dt=function(nr,Xt){if(Xt[nr])return Xt[nr];var cn=sb[nr],Wt=cn<=sb.normal?-1:1,pr=xj(Xt,zP,cn,Wt);if(!pr)throw new Error("Could not find a matching font-stretch value for "+nr);return pr}(At.stretch,Dt),Dt=function(nr,Xt){if(Xt[nr])return Xt[nr];for(var cn=WP[nr],Wt=0;Wt<cn.length;++Wt)if(Xt[cn[Wt]])return Xt[cn[Wt]];throw new Error("Could not find a matching font-style for "+nr)}(At.style,Dt),!(Dt=function(nr,Xt){if(Xt[nr])return Xt[nr];if(nr===400&&Xt[500])return Xt[500];if(nr===500&&Xt[400])return Xt[400];var cn=Tie[nr],Wt=xj(Xt,$P,cn,nr<400?-1:1);if(!Wt)throw new Error("Could not find a matching font-weight for value "+nr);return Wt}(At.weight,Dt)))throw new Error("Failed to resolve a font for the rule '"+vj(At)+"'.");return Dt}(Gt,It);this.pdf.setFont(rr.ref.name,rr.ref.style)}else{var Kt="";(ot==="bold"||parseInt(ot,10)>=700||Ze==="bold")&&(Kt="bold"),Ze==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var Rt="",Cr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ut=0;Ut<He.length;Ut++){if(this.pdf.internal.getFont(He[Ut],Kt,{noFallback:!0,disableWarning:!0})!==void 0){Rt=He[Ut];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(He[Ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=He[Ut],Kt="bold";else if(this.pdf.internal.getFont(He[Ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=He[Ut],Kt="normal";break}}if(Rt===""){for(var ht=0;ht<He.length;ht++)if(Cr[He[ht]]){Rt=Cr[He[ht]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,je.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,je.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};g.prototype.setLineDash=function(q){this.lineDash=q},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){P.call(this,"fill",!1)},g.prototype.stroke=function(){P.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(q,oe){if(isNaN(q)||isNaN(oe))throw Vr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new o(q,oe));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(q,oe)},g.prototype.closePath=function(){var q=new o(0,0),oe=0;for(oe=this.path.length-1;oe!==-1;oe--)if(this.path[oe].type==="begin"&&Lr(this.path[oe+1])==="object"&&typeof this.path[oe+1].x=="number"){q=new o(this.path[oe+1].x,this.path[oe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(q.x,q.y)},g.prototype.lineTo=function(q,oe){if(isNaN(q)||isNaN(oe))throw Vr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new o(q,oe));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},g.prototype.quadraticCurveTo=function(q,oe,ne,ge){if(isNaN(ne)||isNaN(ge)||isNaN(q)||isNaN(oe))throw Vr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var xe=this.ctx.transform.applyToPoint(new o(ne,ge)),_e=this.ctx.transform.applyToPoint(new o(q,oe));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},g.prototype.bezierCurveTo=function(q,oe,ne,ge,xe,_e){if(isNaN(xe)||isNaN(_e)||isNaN(q)||isNaN(oe)||isNaN(ne)||isNaN(ge))throw Vr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(xe,_e)),pe=this.ctx.transform.applyToPoint(new o(q,oe)),Ce=this.ctx.transform.applyToPoint(new o(ne,ge));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ce.x,y2:Ce.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},g.prototype.arc=function(q,oe,ne,ge,xe,_e){if(isNaN(q)||isNaN(oe)||isNaN(ne)||isNaN(ge)||isNaN(xe))throw Vr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(q,oe));q=he.x,oe=he.y;var pe=this.ctx.transform.applyToPoint(new o(0,ne)),Ce=this.ctx.transform.applyToPoint(new o(0,0));ne=Math.sqrt(Math.pow(pe.x-Ce.x,2)+Math.pow(pe.y-Ce.y,2))}Math.abs(xe-ge)>=2*Math.PI&&(ge=0,xe=2*Math.PI),this.path.push({type:"arc",x:q,y:oe,radius:ne,startAngle:ge,endAngle:xe,counterclockwise:_e})},g.prototype.arcTo=function(q,oe,ne,ge,xe){throw new Error("arcTo not implemented.")},g.prototype.rect=function(q,oe,ne,ge){if(isNaN(q)||isNaN(oe)||isNaN(ne)||isNaN(ge))throw Vr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,oe),this.lineTo(q+ne,oe),this.lineTo(q+ne,oe+ge),this.lineTo(q,oe+ge),this.lineTo(q,oe),this.lineTo(q+ne,oe),this.lineTo(q,oe)},g.prototype.fillRect=function(q,oe,ne,ge){if(isNaN(q)||isNaN(oe)||isNaN(ne)||isNaN(ge))throw Vr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var xe={};this.lineCap!=="butt"&&(xe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(xe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,oe,ne,ge),this.fill(),xe.hasOwnProperty("lineCap")&&(this.lineCap=xe.lineCap),xe.hasOwnProperty("lineJoin")&&(this.lineJoin=xe.lineJoin)}},g.prototype.strokeRect=function(q,oe,ne,ge){if(isNaN(q)||isNaN(oe)||isNaN(ne)||isNaN(ge))throw Vr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(q,oe,ne,ge),this.stroke())},g.prototype.clearRect=function(q,oe,ne,ge){if(isNaN(q)||isNaN(oe)||isNaN(ne)||isNaN(ge))throw Vr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,oe,ne,ge))},g.prototype.save=function(q){q=typeof q!="boolean"||q;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(oe),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ge=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ge}},g.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(oe),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(q){var oe,ne,ge,xe;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))oe=0,ne=0,ge=0,xe=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(_e!==null)oe=parseInt(_e[1]),ne=parseInt(_e[2]),ge=parseInt(_e[3]),xe=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)oe=parseInt(_e[1]),ne=parseInt(_e[2]),ge=parseInt(_e[3]),xe=parseFloat(_e[4]);else{if(xe=1,typeof q=="string"&&q.charAt(0)!=="#"){var he=new RP(q);q=he.ok?he.toHex():"#000000"}q.length===4?(oe=q.substring(1,2),oe+=oe,ne=q.substring(2,3),ne+=ne,ge=q.substring(3,4),ge+=ge):(oe=q.substring(1,3),ne=q.substring(3,5),ge=q.substring(5,7)),oe=parseInt(oe,16),ne=parseInt(ne,16),ge=parseInt(ge,16)}}return{r:oe,g:ne,b:ge,a:xe,style:q}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(q,oe,ne,ge){if(isNaN(oe)||isNaN(ne)||typeof q!="string")throw Vr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ge=isNaN(ge)?void 0:ge,!y.call(this)){var xe=me(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;z.call(this,{text:q,x:oe,y:ne,scale:_e,angle:xe,align:this.textAlign,maxWidth:ge})}},g.prototype.strokeText=function(q,oe,ne,ge){if(isNaN(oe)||isNaN(ne)||typeof q!="string")throw Vr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ge=isNaN(ge)?void 0:ge;var xe=me(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;z.call(this,{text:q,x:oe,y:ne,scale:_e,renderingMode:"stroke",angle:xe,align:this.textAlign,maxWidth:ge})}},g.prototype.measureText=function(q){if(typeof q!="string")throw Vr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var oe=this.pdf,ne=this.pdf.internal.scaleFactor,ge=oe.internal.getFontSize(),xe=oe.getStringUnitWidth(q)*ge/oe.internal.scaleFactor;return new function(_e){var he=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:xe*=Math.round(96*ne/72*1e4)/1e4})},g.prototype.scale=function(q,oe){if(isNaN(q)||isNaN(oe))throw Vr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new d(q,0,0,oe,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},g.prototype.rotate=function(q){if(isNaN(q))throw Vr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var oe=new d(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},g.prototype.translate=function(q,oe){if(isNaN(q)||isNaN(oe))throw Vr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new d(1,0,0,1,q,oe);this.ctx.transform=this.ctx.transform.multiply(ne)},g.prototype.transform=function(q,oe,ne,ge,xe,_e){if(isNaN(q)||isNaN(oe)||isNaN(ne)||isNaN(ge)||isNaN(xe)||isNaN(_e))throw Vr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new d(q,oe,ne,ge,xe,_e);this.ctx.transform=this.ctx.transform.multiply(he)},g.prototype.setTransform=function(q,oe,ne,ge,xe,_e){q=isNaN(q)?1:q,oe=isNaN(oe)?0:oe,ne=isNaN(ne)?0:ne,ge=isNaN(ge)?1:ge,xe=isNaN(xe)?0:xe,_e=isNaN(_e)?0:_e,this.ctx.transform=new d(q,oe,ne,ge,xe,_e)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(q,oe,ne,ge,xe,_e,he,pe,Ce){var Ee=this.pdf.getImageProperties(q),Te=1,ze=1,Re=1,ce=1;ge!==void 0&&pe!==void 0&&(Re=pe/ge,ce=Ce/xe,Te=Ee.width/ge*pe/ge,ze=Ee.height/xe*Ce/xe),_e===void 0&&(_e=oe,he=ne,oe=0,ne=0),ge!==void 0&&pe===void 0&&(pe=ge,Ce=xe),ge===void 0&&pe===void 0&&(pe=Ee.width,Ce=Ee.height);for(var Ze,ot=this.ctx.transform.decompose(),st=me(ot.rotate.shx),Ve=new d,Ct=(Ve=(Ve=(Ve=Ve.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new c(_e-oe*Re,he-ne*ce,ge*Te,xe*ze)),He=N.call(this,Ct),Gt=[],It=0;It<He.length;It+=1)Gt.indexOf(He[It])===-1&&Gt.push(He[It]);if(k(Gt),this.autoPaging)for(var rr=Gt[0],Kt=Gt[Gt.length-1],Rt=rr;Rt<Kt+1;Rt++){this.pdf.setPage(Rt);var Cr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=Rt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=Rt===1?0:ht+(Rt-2)*zt;if(this.ctx.clip_path.length!==0){var Ur=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ze,this.posX+this.margin[3],-Et+Ut+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=Ur}var Bt=JSON.parse(JSON.stringify(Ct));Bt=E([Bt],this.posX+this.margin[3],-Et+Ut+this.ctx.prevPageLastElemOffset)[0];var $e=(Rt>rr||Rt<Kt)&&A.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Cr,zt,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,st),$e&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,st)};var N=function(q,oe,ne){var ge=[];oe=oe||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var xe=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":ge.push(Math.floor((q.y+xe)/ne)+1);break;case"arc":ge.push(Math.floor((q.y+xe-q.radius)/ne)+1),ge.push(Math.floor((q.y+xe+q.radius)/ne)+1);break;case"qct":var _e=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);ge.push(Math.floor((_e.y+xe)/ne)+1),ge.push(Math.floor((_e.y+_e.h+xe)/ne)+1);break;case"bct":var he=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);ge.push(Math.floor((he.y+xe)/ne)+1),ge.push(Math.floor((he.y+he.h+xe)/ne)+1);break;case"rect":ge.push(Math.floor((q.y+xe)/ne)+1),ge.push(Math.floor((q.y+q.h+xe)/ne)+1)}for(var pe=0;pe<ge.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<ge[pe];)S.call(this);return ge},S=function(){var q=this.fillStyle,oe=this.strokeStyle,ne=this.font,ge=this.lineCap,xe=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=oe,this.font=ne,this.lineCap=ge,this.lineWidth=xe,this.lineJoin=_e},E=function(q,oe,ne){for(var ge=0;ge<q.length;ge++)switch(q[ge].type){case"bct":q[ge].x2+=oe,q[ge].y2+=ne;case"qct":q[ge].x1+=oe,q[ge].y1+=ne;default:q[ge].x+=oe,q[ge].y+=ne}return q},k=function(q){return q.sort(function(oe,ne){return oe-ne})},P=function(q,oe){for(var ne,ge,xe=this.fillStyle,_e=this.strokeStyle,he=this.lineCap,pe=this.lineWidth,Ce=Math.abs(pe*this.ctx.transform.scaleX),Ee=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),Re=[],ce=0;ce<ze.length;ce++)if(ze[ce].x!==void 0)for(var Ze=N.call(this,ze[ce]),ot=0;ot<Ze.length;ot+=1)Re.indexOf(Ze[ot])===-1&&Re.push(Ze[ot]);for(var st=0;st<Re.length;st++)for(;this.pdf.internal.getNumberOfPages()<Re[st];)S.call(this);if(k(Re),this.autoPaging)for(var Ve=Re[0],Ct=Re[Re.length-1],He=Ve;He<Ct+1;He++){this.pdf.setPage(He),this.fillStyle=xe,this.strokeStyle=_e,this.lineCap=he,this.lineWidth=Ce,this.lineJoin=Ee;var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=He===1?this.posY+this.margin[0]:this.margin[0],rr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=He===1?0:rr+(He-2)*Kt;if(this.ctx.clip_path.length!==0){var Cr=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ne,this.posX+this.margin[3],-Rt+It+this.ctx.prevPageLastElemOffset),W.call(this,q,!0),this.path=Cr}if(ge=JSON.parse(JSON.stringify(Te)),this.path=E(ge,this.posX+this.margin[3],-Rt+It+this.ctx.prevPageLastElemOffset),oe===!1||He===0){var Ut=(He>Ve||He<Ct)&&A.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,Kt,null).clip().discardPath()),W.call(this,q,oe),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ce,W.call(this,q,oe),this.lineWidth=pe;this.path=Te},W=function(q,oe){if((q!=="stroke"||oe||!w.call(this))&&(q==="stroke"||oe||!y.call(this))){for(var ne,ge,xe=[],_e=this.path,he=0;he<_e.length;he++){var pe=_e[he];switch(pe.type){case"begin":xe.push({begin:!0});break;case"close":xe.push({close:!0});break;case"mt":xe.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ce=xe.length;if(_e[he-1]&&!isNaN(_e[he-1].x)&&(ne=[pe.x-_e[he-1].x,pe.y-_e[he-1].y],Ce>0)){for(;Ce>=0;Ce--)if(xe[Ce-1].close!==!0&&xe[Ce-1].begin!==!0){xe[Ce-1].deltas.push(ne),xe[Ce-1].abs.push(pe);break}}break;case"bct":ne=[pe.x1-_e[he-1].x,pe.y1-_e[he-1].y,pe.x2-_e[he-1].x,pe.y2-_e[he-1].y,pe.x-_e[he-1].x,pe.y-_e[he-1].y],xe[xe.length-1].deltas.push(ne);break;case"qct":var Ee=_e[he-1].x+2/3*(pe.x1-_e[he-1].x),Te=_e[he-1].y+2/3*(pe.y1-_e[he-1].y),ze=pe.x+2/3*(pe.x1-pe.x),Re=pe.y+2/3*(pe.y1-pe.y),ce=pe.x,Ze=pe.y;ne=[Ee-_e[he-1].x,Te-_e[he-1].y,ze-_e[he-1].x,Re-_e[he-1].y,ce-_e[he-1].x,Ze-_e[he-1].y],xe[xe.length-1].deltas.push(ne);break;case"arc":xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(xe[xe.length-1].abs)&&xe[xe.length-1].abs.push(pe)}}ge=oe?null:q==="stroke"?"stroke":"fill";for(var ot=!1,st=0;st<xe.length;st++)if(xe[st].arc)for(var Ve=xe[st].abs,Ct=0;Ct<Ve.length;Ct++){var He=Ve[Ct];He.type==="arc"?F.call(this,He.x,He.y,He.radius,He.startAngle,He.endAngle,He.counterclockwise,void 0,oe,!ot):te.call(this,He.x,He.y),ot=!0}else if(xe[st].close===!0)this.pdf.internal.out("h"),ot=!1;else if(xe[st].begin!==!0){var Gt=xe[st].start.x,It=xe[st].start.y;V.call(this,xe[st].deltas,Gt,It),ot=!0}ge&&L.call(this,ge),oe&&J.call(this)}},H=function(q){var oe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=oe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-ne;case"top":return q+oe-ne;case"hanging":return q+oe-2*ne;case"middle":return q+oe/2-ne;default:return q}},$=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(oe,ne){this.colorStops.push([oe,ne])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(q,oe,ne,ge,xe,_e,he,pe,Ce){for(var Ee=ye.call(this,ne,ge,xe,_e),Te=0;Te<Ee.length;Te++){var ze=Ee[Te];Te===0&&(Ce?M.call(this,ze.x1+q,ze.y1+oe):te.call(this,ze.x1+q,ze.y1+oe)),Z.call(this,q,oe,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}pe?J.call(this):L.call(this,he)},L=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(q,oe){this.pdf.internal.out(r(q)+" "+n(oe)+" m")},z=function(q){var oe;switch(q.align){case"right":case"end":oe="right";break;case"center":oe="center";break;default:oe="left"}var ne=this.pdf.getTextDimensions(q.text),ge=H.call(this,q.y),xe=$.call(this,ge)-ne.h,_e=this.ctx.transform.applyToPoint(new o(q.x,ge)),he=this.ctx.transform.decompose(),pe=new d;pe=(pe=(pe=pe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ce,Ee,Te,ze=this.ctx.transform.applyToRectangle(new c(q.x,ge,ne.w,ne.h)),Re=pe.applyToRectangle(new c(q.x,xe,ne.w,ne.h)),ce=N.call(this,Re),Ze=[],ot=0;ot<ce.length;ot+=1)Ze.indexOf(ce[ot])===-1&&Ze.push(ce[ot]);if(k(Ze),this.autoPaging)for(var st=Ze[0],Ve=Ze[Ze.length-1],Ct=st;Ct<Ve+1;Ct++){this.pdf.setPage(Ct);var He=Ct===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],rr=It-this.margin[0],Kt=this.pdf.internal.pageSize.width-this.margin[1],Rt=Kt-this.margin[3],Cr=Ct===1?0:Gt+(Ct-2)*rr;if(this.ctx.clip_path.length!==0){var Ut=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ce,this.posX+this.margin[3],-1*Cr+He),W.call(this,"fill",!0),this.path=Ut}var ht=E([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Cr+He+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*q.scale),Te=this.lineWidth,this.lineWidth=Te*q.scale);var zt=this.autoPaging!=="text";if(zt||ht.y+ht.h<=It){if(zt||ht.y>=He&&ht.x<=Kt){var Et=zt?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Kt-ht.x)[0],Ur=E([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Cr+He+this.ctx.prevPageLastElemOffset)[0],Bt=zt&&(Ct>st||Ct<Ve)&&A.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,rr,null).clip().discardPath()),this.pdf.text(Et,Ur.x,Ur.y,{angle:q.angle,align:oe,renderingMode:q.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else ht.y<It&&(this.ctx.prevPageLastElemOffset+=It-ht.y);q.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Te)}else q.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*q.scale),Te=this.lineWidth,this.lineWidth=Te*q.scale),this.pdf.text(q.text,_e.x+this.posX,_e.y+this.posY,{angle:q.angle,align:oe,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Te)},te=function(q,oe,ne,ge){ne=ne||0,ge=ge||0,this.pdf.internal.out(r(q+ne)+" "+n(oe+ge)+" l")},V=function(q,oe,ne){return this.pdf.lines(q,oe,ne,null,null)},Z=function(q,oe,ne,ge,xe,_e,he,pe){this.pdf.internal.out([t(i(ne+q)),t(a(ge+oe)),t(i(xe+q)),t(a(_e+oe)),t(i(he+q)),t(a(pe+oe)),"c"].join(" "))},ye=function(q,oe,ne,ge){for(var xe=2*Math.PI,_e=Math.PI/2;oe>ne;)oe-=xe;var he=Math.abs(ne-oe);he<xe&&ge&&(he=xe-he);for(var pe=[],Ce=ge?-1:1,Ee=oe;he>1e-5;){var Te=Ee+Ce*Math.min(he,_e);pe.push(ve.call(this,q,Ee,Te)),he-=Math.abs(Te-Ee),Ee=Te}return pe},ve=function(q,oe,ne){var ge=(ne-oe)/2,xe=q*Math.cos(ge),_e=q*Math.sin(ge),he=xe,pe=-_e,Ce=he*he+pe*pe,Ee=Ce+he*xe+pe*_e,Te=4/3*(Math.sqrt(2*Ce*Ee)-Ee)/(he*_e-pe*xe),ze=he-Te*pe,Re=pe+Te*he,ce=ze,Ze=-Re,ot=ge+oe,st=Math.cos(ot),Ve=Math.sin(ot);return{x1:q*Math.cos(oe),y1:q*Math.sin(oe),x2:ze*st-Re*Ve,y2:ze*Ve+Re*st,x3:ce*st-Ze*Ve,y3:ce*Ve+Ze*st,x4:q*Math.cos(ne),y4:q*Math.sin(ne)}},me=function(q){return 180*q/Math.PI},Ne=function(q,oe,ne,ge,xe,_e){var he=q+.5*(ne-q),pe=oe+.5*(ge-oe),Ce=xe+.5*(ne-xe),Ee=_e+.5*(ge-_e),Te=Math.min(q,xe,he,Ce),ze=Math.max(q,xe,he,Ce),Re=Math.min(oe,_e,pe,Ee),ce=Math.max(oe,_e,pe,Ee);return new c(Te,Re,ze-Te,ce-Re)},Ie=function(q,oe,ne,ge,xe,_e,he,pe){var Ce,Ee,Te,ze,Re,ce,Ze,ot,st,Ve,Ct,He,Gt,It,rr=ne-q,Kt=ge-oe,Rt=xe-ne,Cr=_e-ge,Ut=he-xe,ht=pe-_e;for(Ee=0;Ee<41;Ee++)st=(Ze=(Te=q+(Ce=Ee/40)*rr)+Ce*((Re=ne+Ce*Rt)-Te))+Ce*(Re+Ce*(xe+Ce*Ut-Re)-Ze),Ve=(ot=(ze=oe+Ce*Kt)+Ce*((ce=ge+Ce*Cr)-ze))+Ce*(ce+Ce*(_e+Ce*ht-ce)-ot),Ee==0?(Ct=st,He=Ve,Gt=st,It=Ve):(Ct=Math.min(Ct,st),He=Math.min(He,Ve),Gt=Math.max(Gt,st),It=Math.max(It,Ve));return new c(Math.round(Ct),Math.round(He),Math.round(Gt-Ct),Math.round(It-He))},je=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,oe,ne=(q=this.ctx.lineDash,oe=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:oe}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(_t.API),function(e){var t=function(o){var c,d,f,m,g,b,y,w,A,N;for(d=[],f=0,m=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;m>f;f+=4)(g=(o.charCodeAt(f)<<24)+(o.charCodeAt(f+1)<<16)+(o.charCodeAt(f+2)<<8)+o.charCodeAt(f+3))!==0?(b=(g=((g=((g=((g=(g-(N=g%85))/85)-(A=g%85))/85)-(w=g%85))/85)-(y=g%85))/85)%85,d.push(b+33,y+33,w+33,A+33,N+33)):d.push(122);return function(S,E){for(var k=E;k>0;k--)S.pop()}(d,c.length),String.fromCharCode.apply(String,d)+"~>"},r=function(o){var c,d,f,m,g,b=String,y="length",w=255,A="charCodeAt",N="slice",S="replace";for(o[N](-2),o=o[N](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],m=0,g=(o+=c="uuuuu"[N](o[y]%5||5))[y];g>m;m+=5)d=52200625*(o[A](m)-33)+614125*(o[A](m+1)-33)+7225*(o[A](m+2)-33)+85*(o[A](m+3)-33)+(o[A](m+4)-33),f.push(w&d>>24,w&d>>16,w&d>>8,w&d);return function(E,k){for(var P=k;P>0;P--)E.pop()}(f,c[y]),b.fromCharCode.apply(b,f)},n=function(o){return o.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var d="",f=0;f<o.length;f+=2)d+=String.fromCharCode("0x"+(o[f]+o[f+1]));return d},a=function(o){for(var c=new Uint8Array(o.length),d=o.length;d--;)c[d]=o.charCodeAt(d);return(c=Qv(c)).reduce(function(f,m){return f+String.fromCharCode(m)},"")};e.processDataByFilters=function(o,c){var d=0,f=o||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:f,reverseChain:m.reverse().join(" ")}}}(_t.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(d,f,m){var g=new XMLHttpRequest,b=0,y=function(w){var A=w.length,N=[],S=String.fromCharCode;for(b=0;b<A;b+=1)N.push(S(255&w.charCodeAt(b)));return N.join("")};if(g.open("GET",d,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?m(y(this.responseText)):m(void 0)}),g.send(null),f&&g.status===200)return y(g.responseText)}(i,a,o)}catch{}return c}(t,r,n)},e.loadImageFile=e.loadFile}(_t.API),function(e){function t(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):S2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):S2(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=Lr(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(c,d){var f=document.createElement(c);for(var m in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[m]=d.style[m];return f},a=function c(d,f){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(c(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m},o=function c(d){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),f);return(m=m.setProgress(1,c,1,[c])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,d){return c.__proto__=d||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,d){return this.then(function(){switch(d=d||function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c),d){case"string":return this.then(r).then(function(f){return this.set({src:i("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var f=this.opt.jsPDF,m=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=m,m)for(var y=0;y<m.length;++y){var w=m[y],A=w.src.find(function(N){return N.format==="truetype"});A&&f.addFont(A.url,w.ref.name,w.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,f.context2d.save(!0),d(this.prop.container,b)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(c,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},o.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(c){if(n(c)!=="object")return this;var d=Object.keys(c||{}).map(function(f){if(f in o.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(c,d){return this.then(function(){var f=c in o.template.prop?this.prop[c]:this.opt[c];return d?d(f):f})},o.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},o.prototype.setPageSize=function(c){function d(f,m){return Math.floor(f*m/72*96)}return this.then(function(){(c=c||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},o.prototype.setProgress=function(c,d,f,m){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,d,f,m){return this.setProgress(c?this.progress.val+c:null,d||null,f?this.progress.n+f:null,m?this.progress.stack.concat(m):null)},o.prototype.then=function(c,d){var f=this;return this.thenCore(c,d,function(m,g){return f.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(b){return f.updateProgress(null,m),b}).then(m,g).then(function(b){return f.updateProgress(1),b})})},o.prototype.thenCore=function(c,d,f){f=f||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),d&&(d=d.bind(m));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:o.convert(Object.assign({},m),Promise.prototype),b=f.call(g,c,d);return o.convert(b,m.__proto__)},o.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},o.prototype.thenList=function(c){var d=this;return c.forEach(function(f){d=d.thenCore(f)}),d},o.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return o.convert(d,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then(function(){throw new Error(c)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,_t.getPageSize=function(c,d,f){if(Lr(c)==="object"){var m=c;c=m.orientation,d=m.unit||d,f=m.format||f}d=d||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var g,b=(""+f).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var w,A=0,N=0;if(y.hasOwnProperty(b))A=y[b][1]/g,N=y[b][0]/g;else try{A=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",N>A&&(w=N,N=A,A=w);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",A>N&&(w=N,N=A,A=w)}return{width:N,height:A,unit:d,k:g,orientation:c}},e.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(q2):null;var f=new o(d);return d.worker?f:f.from(c).doCallback()}}(_t.API),_t.API.addJS=function(e){return Nj=e,this.internal.events.subscribe("postPutResources",function(){R1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(R1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),wj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Nj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){R1!==void 0&&wj!==void 0&&this.internal.out("/Names <</JavaScript "+R1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],c=n.exec(o);if(c!=null){var d=c[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,m=[];for(a=0;a<f;a++){var g=r.internal.newObject();m.push(g);var b=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var y=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<m.length;a++)r.internal.write("(page_"+(a+1)+")"+m[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+y+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var d=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(_t.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,c){var d,f=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=function(g){for(var b,y=256*g.charCodeAt(4)+g.charCodeAt(5),w=g.length,A={width:0,height:0,numcomponents:1},N=4;N<w;N+=2){if(N+=y,t.indexOf(g.charCodeAt(N+1))!==-1){b=256*g.charCodeAt(N+5)+g.charCodeAt(N+6),A={width:256*g.charCodeAt(N+7)+g.charCodeAt(N+8),height:b,numcomponents:g.charCodeAt(N+9)};break}y=256*g.charCodeAt(N+2)+g.charCodeAt(N+3)}return A}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:r,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:f,index:n,alias:i}}return m}}(_t.API),_t.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=pie(e,{checkCrc:!0}),o=a.width,c=a.height,d=a.channels,f=a.palette,m=a.depth;i=f&&d===1?function(F){for(var L=F.width,J=F.height,M=F.data,z=F.palette,te=F.depth,V=!1,Z=[],ye=[],ve=void 0,me=!1,Ne=0,Ie=0;Ie<z.length;Ie++){var je=SC(z[Ie],4),q=je[0],oe=je[1],ne=je[2],ge=je[3];Z.push(q,oe,ne),ge!=null&&(ge===0?(Ne++,ye.length<1&&ye.push(Ie)):ge<255&&(me=!0))}if(me||Ne>1){V=!0,ye=void 0;var xe=L*J;ve=new Uint8Array(xe);for(var _e=new DataView(M.buffer),he=0;he<xe;he++){var pe=V2(_e,he,te),Ce=SC(z[pe],4)[3];ve[he]=Ce}}else Ne===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:M,alphaBytes:ve,needSMask:V,palette:Z,mask:ye}}(a):d===2||d===4?function(F){for(var L=F.data,J=F.width,M=F.height,z=F.channels,te=F.depth,V=z===2?"DeviceGray":"DeviceRGB",Z=z-1,ye=J*M,ve=Z,me=ye*ve,Ne=1*ye,Ie=Math.ceil(me*te/8),je=Math.ceil(Ne*te/8),q=new Uint8Array(Ie),oe=new Uint8Array(je),ne=new DataView(L.buffer),ge=new DataView(q.buffer),xe=new DataView(oe.buffer),_e=!1,he=0;he<ye;he++){for(var pe=he*z,Ce=0;Ce<ve;Ce++)Ij(ge,V2(ne,pe+Ce,te),he*ve+Ce,te);var Ee=V2(ne,pe+ve,te);Ee<(1<<te)-1&&(_e=!0),Ij(xe,Ee,1*he,te)}return{colorSpace:V,colorsPerPixel:Z,sMaskBitsPerComponent:_e?te:void 0,colorBytes:q,alphaBytes:oe,needSMask:_e}}(a):function(F){var L=F.data,J=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:J,colorsPerPixel:J==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?function(M){for(var z=M.length,te=new Uint8Array(2*z),V=new DataView(te.buffer,te.byteOffset,te.byteLength),Z=0;Z<z;Z++)V.setUint16(2*Z,M[Z],!1);return te}(L):L,needSMask:!1}}(a);var g,b,y,w=i,A=w.colorSpace,N=w.colorsPerPixel,S=w.sMaskBitsPerComponent,E=w.colorBytes,k=w.alphaBytes,P=w.needSMask,W=w.palette,H=w.mask,$=null;return n!==_t.API.image_compression.NONE&&typeof Qv=="function"?($=function(F){var L;switch(F){case _t.API.image_compression.FAST:L=11;break;case _t.API.image_compression.MEDIUM:L=13;break;case _t.API.image_compression.SLOW:L=14;break;default:L=12}return L}(n),g=this.decode.FLATE_DECODE,b="/Predictor ".concat($," /Colors ").concat(N," /BitsPerComponent ").concat(m," /Columns ").concat(o),e=Sj(E,Math.ceil(o*N*m/8),N,m,n),P&&(y=Sj(k,Math.ceil(o*S/8),1,S,n))):(g=void 0,b=void 0,e=E,P&&(y=k)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:r,data:e,index:t,filter:g,decodeParameters:b,transparency:H,palette:W,sMask:y,predictor:$,width:o,height:c,bitsPerComponent:m,sMaskBitsPerComponent:S,colorSpace:A}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new Lie(t),o=a.width,c=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:o,height:c},m=new G2(100).encode(f,100);return e.processJPEG.call(this,m,r,n,i)},e.processGIF87A=e.processGIF89A}(_t.API),qs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Vr.log("bit decode error:"+r)}},qs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var d=this.palette[a>>7-c&1];this.data[o+4*c]=d.blue,this.data[o+4*c+1]=d.green,this.data[o+4*c+2]=d.red,this.data[o+4*c+3]=255}r!==0&&(this.pos+=4-r)}},qs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,c=a>>4,d=15&a,f=this.palette[c];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[d],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},qs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},qs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,c=(a>>5&t)/t*255|0,d=(a>>10&t)/t*255|0,f=a>>15?255:0,m=n*this.width*4+4*i;this.data[m]=d,this.data[m+1]=c,this.data[m+2]=o,this.data[m+3]=f}this.pos+=e}},qs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,d=(o>>5&r)/r*255|0,f=(o>>11)/t*255|0,m=i*this.width*4+4*a;this.data[m]=f,this.data[m+1]=d,this.data[m+2]=c,this.data[m+3]=255}this.pos+=e}},qs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},qs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=o}},qs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new qs(t,!1),o=a.width,c=a.height,d={data:a.getData(),width:o,height:c},f=new G2(100).encode(d,100);return e.processJPEG.call(this,f,r,n,i)}}(_t.API),Oj.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new Oj(t),o=a.width,c=a.height,d={data:a.getData(),width:o,height:c},f=new G2(100).encode(d,100);return e.processJPEG.call(this,f,r,n,i)}}(_t.API),_t.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),c=0,d=0,f=0;f<i;f+=4){var m=n[f],g=n[f+1],b=n[f+2],y=n[f+3];a[c++]=m,a[c++]=g,a[c++]=b,o[d++]=y}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},_t.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ju=_t.API,D1=Ju.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:i.metadata.Unicode.widths,d=c.fof?c.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,m=f.fof?f.fof:1,g=t.doKerning!==!1,b=0,y=e.length,w=0,A=c[0]||d,N=[];for(r=0;r<y;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(b=g&&Lr(f[n])==="object"&&!isNaN(parseInt(f[n][w],10))?f[n][w]/m:0,N.push((c[n]||A)/d+b)),w=n;return N},Aj=Ju.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ju.processArabic&&(e=Ju.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:D1.apply(this,arguments).reduce(function(a,o){return a+o},0)},Cj=function(e,t,r,n){for(var i=[],a=0,o=e.length,c=0;a!==o&&c+t[a]<r;)c+=t[a],a++;i.push(e.slice(0,a));var d=a;for(c=0;a!==o;)c+t[a]>n&&(i.push(e.slice(d,a)),c=0,d=a),c+=t[a],a++;return d!==a&&i.push(e.slice(d,a)),i},jj=function(e,t,r){r||(r={});var n,i,a,o,c,d,f,m=[],g=[m],b=r.textIndent||0,y=0,w=0,A=e.split(" "),N=D1.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?A[0].length+2:r.lineIndent||0){var S=Array(d).join(" "),E=[];A.map(function(P){(P=P.split(/\s*\n/)).length>1?E=E.concat(P.map(function(W,H){return(H&&W.length?`
`:"")+W})):E.push(P[0])}),A=E,d=Aj.apply(this,[S,r])}for(a=0,o=A.length;a<o;a++){var k=0;if(n=A[a],d&&n[0]==`
`&&(n=n.substr(1),k=1),b+y+(w=(i=D1.apply(this,[n,r])).reduce(function(P,W){return P+W},0))>t||k){if(w>t){for(c=Cj.apply(this,[n,i,t-(b+y),t]),m.push(c.shift()),m=[c.pop()];c.length;)g.push([c.shift()]);w=i.slice(n.length-(m[0]?m[0].length:0)).reduce(function(P,W){return P+W},0)}else m=[n];g.push(m),b=w+d,y=N}else m.push(n),b+=y+w,y=N}return f=d?function(P,W){return(W?S:"")+P.join(" ")}:function(P){return P.join(" ")},g.map(f)},Ju.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var g=this.internal.getFont(m.fontName,m.fontStyle),b="Unicode";return g.metadata[b]?{widths:g.metadata[b].widths||{0:1},kerning:g.metadata[b].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var c,d,f=[];for(c=0,d=n.length;c<d;c++)f=f.concat(jj.apply(this,[n[c],o,a]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var o=function(b){return"0x"+parseInt(b,10).toString(16)},c=e.__fontmetrics__.compress=function(b){var y,w,A,N,S=["{"];for(var E in b){if(y=b[E],isNaN(parseInt(E,10))?w="'"+E+"'":(E=parseInt(E,10),w=(w=o(E).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof y=="number")y<0?(A=o(y).slice(3),N="-"):(A=o(y).slice(2),N=""),A=N+A.slice(0,-1)+i[A.slice(-1)];else{if(Lr(y)!=="object")throw new Error("Don't know what to do with value type "+Lr(y)+".");A=c(y)}S.push(w+A)}return S.push("}"),S.join("")},d=e.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,w,A,N,S={},E=1,k=S,P=[],W="",H="",$=b.length-1,F=1;F<$;F+=1)(N=b[F])=="'"?y?(A=y.join(""),y=void 0):y=[]:y?y.push(N):N=="{"?(P.push([k,A]),k={},A=void 0):N=="}"?((w=P.pop())[0][w[1]]=k,A=void 0,k=w[0]):N=="-"?E=-1:A===void 0?n.hasOwnProperty(N)?(W+=n[N],A=parseInt(W,16)*E,E=1,W=""):W+=N:n.hasOwnProperty(N)?(H+=n[N],k[A]=parseInt(H,16)*E,E=1,A=void 0,H=""):H+=N;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(b){var y=b.font,w=g.Unicode[y.postScriptName];w&&(y.metadata.Unicode={},y.metadata.Unicode.widths=w.widths,y.metadata.Unicode.kerning=w.kerning);var A=m.Unicode[y.postScriptName];A&&(y.metadata.Unicode.encoding=A,y.encoding=A.codePages[0])}])}(_t.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Q1(c)),o.metadata=e.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(_t),_t.API.addSvgAsImage=function(e,t,r,n,i,a,o,c){if(isNaN(t)||isNaN(r))throw Vr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Vr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=i;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Yt.canvg?Promise.resolve(Yt.canvg):S2(()=>import("./index.es-D6knB4BX.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(f,e,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(m)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),t,r,n,i,o,c)})},_t.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},_t.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),d=[],f=0,m=0,g=0;function b(w,A){var N,S=!1;for(N=0;N<w.length;N+=1)w[N]===A&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var y=c.length;for(g=0;g<y;g+=1)r[c[g]].value=r[c[g]].defaultValue,r[c[g]].explicitSet=!1}if(Lr(e)==="object"){for(i in e)if(a=e[i],b(c,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&b(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(f=0;f<a.length;f+=1)if(n=!0,a[f].length===1&&typeof a[f][0]=="number")d.push(String(a[f]-1));else if(a[f].length>1){for(m=0;m<a[f].length;m+=1)typeof a[f][m]!="number"&&(n=!1);n===!0&&d.push([a[f][0]-1,a[f][1]-1].join(" "))}r[i].value="["+d.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,A=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?A.push("/"+w+" /"+r[w].value):A.push("/"+w+" "+r[w].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+o.length+c.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+c+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(_t.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var c,d=o.metadata.Unicode.widths,f=["","0","00","000","0000"],m=[""],g=0,b=a.length;g<b;++g){if(c=o.metadata.characterToGlyph(a.charCodeAt(g)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=a.charCodeAt(g),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(f[4-c.length],c)}return m.join("")},n=function(a){var o,c,d,f,m,g,b;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,b=(c=Object.keys(a).sort(function(y,w){return y-w})).length;g<b;g++)o=c[g],d.length>=100&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(f=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+f+">"));return d.length&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var c=o.font,d=o.out,f=o.newObject,m=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var g=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",w=0;w<b.length;w++)y+=String.fromCharCode(b[w]);var A=f();m({data:y,addLength1:!0,objectId:A}),d("endobj");var N=f();m({data:n(c.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var S=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+ed(c.fontName)),d("/FontFile2 "+A+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var E=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+ed(c.fontName)),d("/FontDescriptor "+S+" 0 R"),d("/W "+e.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+N+" 0 R"),d("/BaseFont /"+ed(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+E+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var c=o.font,d=o.out,f=o.newObject,m=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var g=c.metadata.rawData,b="",y=0;y<g.length;y++)b+=String.fromCharCode(g[y]);var w=f();m({data:b,addLength1:!0,objectId:w}),d("endobj");var A=f();m({data:n(c.metadata.toUnicode),addLength1:!0,objectId:A}),d("endobj");var N=f();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+w+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+ed(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=f();for(var S=0;S<c.metadata.hmtx.widths.length;S++)c.metadata.hmtx.widths[S]=parseInt(c.metadata.hmtx.widths[S]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+ed(c.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,c=a.text||"",d=a.x,f=a.y,m=a.options||{},g=a.mutex||{},b=g.pdfEscape,y=g.activeFontKey,w=g.fonts,A=y,N="",S=0,E="",k=w[A].encoding;if(w[A].encoding!=="Identity-H")return{text:c,x:d,y:f,options:m,mutex:g};for(E=c,A=y,Array.isArray(c)&&(E=c[0]),S=0;S<E.length;S+=1)w[A].metadata.hasOwnProperty("cmap")&&(o=w[A].metadata.cmap.unicode.codeMap[E[S].charCodeAt(0)]),o||E[S].charCodeAt(0)<256&&w[A].metadata.hasOwnProperty("Unicode")?N+=E[S]:N+="";var P="";return parseInt(A.slice(1))<14||k==="WinAnsiEncoding"?P=b(N,A).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(P=r(N,w[A])),g.isHex=!0,{text:P,x:d,y:f,options:m,mutex:g}};t.events.push(["postProcessText",function(a){var o=a.text||"",c=[],d={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?c.push([i(Object.assign({},d,{text:o[f][0]})).text,o[f][1],o[f][2]]):c.push(i(Object.assign({},d,{text:o[f]})).text);a.text=c}else a.text=i(Object.assign({},d,{text:o})).text}])}(_t),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(_t.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,c,d,f,m,g=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,k=0;this.__bidiEngine__={};var P=function(M){var z=M.charCodeAt(),te=z>>8,V=A[te];return V!==void 0?g[256*V+(255&z)]:te===252||te===253?"AL":S.test(te)?"L":te===8?"R":"N"},W=function(M){for(var z,te=0;te<M.length;te++){if((z=P(M.charAt(te)))==="L")return!1;if(z==="R")return!0}return!1},H=function(M,z,te,V){var Z,ye,ve,me,Ne=z[V];switch(Ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(Ne="AN");break;case"AL":E=!0,Ne="R";break;case"WS":case"BN":Ne="N";break;case"CS":V<1||V+1>=z.length||(Z=te[V-1])!=="EN"&&Z!=="AN"||(ye=z[V+1])!=="EN"&&ye!=="AN"?Ne="N":E&&(ye="AN"),Ne=ye===Z?ye:"N";break;case"ES":Ne=(Z=V>0?te[V-1]:"B")==="EN"&&V+1<z.length&&z[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&te[V-1]==="EN"){Ne="EN";break}if(E){Ne="N";break}for(ve=V+1,me=z.length;ve<me&&z[ve]==="ET";)ve++;Ne=ve<me&&z[ve]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(me=z.length,ve=V+1;ve<me&&z[ve]==="NSM";)ve++;if(ve<me){var Ie=M[V],je=Ie>=1425&&Ie<=2303||Ie===64286;if(Z=z[ve],je&&(Z==="R"||Z==="AL")){Ne="R";break}}}Ne=V<1||(Z=z[V-1])==="B"?"N":te[V-1];break;case"B":E=!1,i=!0,Ne=k;break;case"S":a=!0,Ne="N"}return Ne},$=function(M,z,te){var V=M.split("");return te&&F(V,te,{hiLevel:k}),V.reverse(),z&&z.reverse(),V.join("")},F=function(M,z,te){var V,Z,ye,ve,me,Ne=-1,Ie=M.length,je=0,q=[],oe=k?y:b,ne=[];for(E=!1,i=!1,a=!1,Z=0;Z<Ie;Z++)ne[Z]=P(M[Z]);for(ye=0;ye<Ie;ye++){if(me=je,q[ye]=H(M,ne,q,ye),V=240&(je=oe[me][w[q[ye]]]),je&=15,z[ye]=ve=oe[je][5],V>0)if(V===16){for(Z=Ne;Z<ye;Z++)z[Z]=1;Ne=-1}else Ne=-1;if(oe[je][6])Ne===-1&&(Ne=ye);else if(Ne>-1){for(Z=Ne;Z<ye;Z++)z[Z]=ve;Ne=-1}ne[ye]==="B"&&(z[ye]=0),te.hiLevel|=ve}a&&function(ge,xe,_e){for(var he=0;he<_e;he++)if(ge[he]==="S"){xe[he]=k;for(var pe=he-1;pe>=0&&ge[pe]==="WS";pe--)xe[pe]=k}}(ne,z,Ie)},L=function(M,z,te,V,Z){if(!(Z.hiLevel<M)){if(M===1&&k===1&&!i)return z.reverse(),void(te&&te.reverse());for(var ye,ve,me,Ne,Ie=z.length,je=0;je<Ie;){if(V[je]>=M){for(me=je+1;me<Ie&&V[me]>=M;)me++;for(Ne=je,ve=me-1;Ne<ve;Ne++,ve--)ye=z[Ne],z[Ne]=z[ve],z[ve]=ye,te&&(ye=te[Ne],te[Ne]=te[ve],te[ve]=ye);je=me}je++}}},J=function(M,z,te){var V=M.split(""),Z={hiLevel:k};return te||(te=[]),F(V,te,Z),function(ye,ve,me){if(me.hiLevel!==0&&m)for(var Ne,Ie=0;Ie<ye.length;Ie++)ve[Ie]===1&&(Ne=N.indexOf(ye[Ie]))>=0&&(ye[Ie]=N[Ne+1])}(V,te,Z),L(2,V,z,te,Z),L(1,V,z,te,Z),V.join("")};return this.__bidiEngine__.doBidiReorder=function(M,z,te){if(function(Z,ye){if(ye)for(var ve=0;ve<Z.length;ve++)ye[ve]=ve;c===void 0&&(c=W(Z)),f===void 0&&(f=W(Z))}(M,z),o||!d||f)if(o&&d&&c^f)k=c?1:0,M=$(M,z,te);else if(!o&&d&&f)k=c?1:0,M=J(M,z,te),M=$(M,z);else if(!o||c||d||f){if(o&&!d&&c^f)M=$(M,z),c?(k=0,M=J(M,z,te)):(k=1,M=J(M,z,te),M=$(M,z));else if(o&&c&&!d&&f)k=1,M=J(M,z,te),M=$(M,z);else if(!o&&!d&&c^f){var V=m;c?(k=1,M=J(M,z,te),k=0,m=!1,M=J(M,z,te),m=V):(k=0,M=J(M,z,te),M=$(M,z),k=1,m=!1,M=J(M,z,te),m=V,M=$(M,z))}}else k=0,M=J(M,z,te);else k=c?1:0,M=J(M,z,te);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,d=M.isOutputVisual,c=M.isInputRtl,f=M.isOutputRtl,m=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(o=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?o.push([r.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):o.push([r.doBidiReorder(i[c])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ec(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Zie(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Mie(this.contents),this.head=new Fie(this),this.name=new qie(this),this.cmap=new HP(this),this.toUnicode={},this.hhea=new Uie(this),this.maxp=new Hie(this),this.hmtx=new Vie(this),this.post=new zie(this),this.os2=new Wie(this),this.loca=new Yie(this),this.glyf=new Gie(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,d,f;for(f=[],o=0,c=(d=this.bbox).length;o<c;o++)t=d[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,c;for(o=0,a=0,c=(t=""+t).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var oo,Ec=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,c,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^c)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*c+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),Mie=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,c,d,f,m,g,b,y,w,A;for(A in y=Object.keys(r).length,d=Math.log(2),g=16*Math.floor(Math.log(y)/d),o=Math.floor(g/d),m=16*y-g,(i=new Ec).writeInt(this.scalarType),i.writeShort(y),i.writeShort(g),i.writeShort(o),i.writeShort(m),a=16*y,f=i.pos+a,c=null,w=[],r)for(b=r[A],i.writeString(A),i.writeInt(e(b)),i.writeInt(f),i.writeInt(b.length),w=w.concat(b),A==="head"&&(c=f),f+=b.length;f%4;)w.push(0),f++;return i.write(w),n=2981146554-e(i.data),i.pos=c+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=VP.call(r);r.length%4;)r.push(0);for(a=new Ec(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),Bie={}.hasOwnProperty,Mo=function(e,t){for(var r in t)Bie.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};oo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Fie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ec).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Rj=function(){function e(t,r){var n,i,a,o,c,d,f,m,g,b,y,w,A,N,S,E,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(y=t.readUInt16(),b=y/2,t.pos+=6,a=function(){var P,W;for(W=[],d=P=0;0<=b?P<b:P>b;d=0<=b?++P:--P)W.push(t.readUInt16());return W}(),t.pos+=2,A=function(){var P,W;for(W=[],d=P=0;0<=b?P<b:P>b;d=0<=b?++P:--P)W.push(t.readUInt16());return W}(),f=function(){var P,W;for(W=[],d=P=0;0<=b?P<b:P>b;d=0<=b?++P:--P)W.push(t.readUInt16());return W}(),m=function(){var P,W;for(W=[],d=P=0;0<=b?P<b:P>b;d=0<=b?++P:--P)W.push(t.readUInt16());return W}(),i=(this.length-t.pos+this.offset)/2,c=function(){var P,W;for(W=[],d=P=0;0<=i?P<i:P>i;d=0<=i?++P:--P)W.push(t.readUInt16());return W}(),d=S=0,k=a.length;S<k;d=++S)for(N=a[d],n=E=w=A[d];w<=N?E<=N:E>=N;n=w<=N?++E:--E)m[d]===0?o=n+f[d]:(o=c[m[d]/2+(n-w)-(b-d)]||0)!==0&&(o+=f[d]),this.codeMap[n]=65535&o}t.pos=g}return e.encode=function(t,r){var n,i,a,o,c,d,f,m,g,b,y,w,A,N,S,E,k,P,W,H,$,F,L,J,M,z,te,V,Z,ye,ve,me,Ne,Ie,je,q,oe,ne,ge,xe,_e,he,pe,Ce,Ee,Te;switch(V=new Ec,o=Object.keys(t).sort(function(ze,Re){return ze-Re}),r){case"macroman":for(A=0,N=function(){var ze=[];for(w=0;w<256;++w)ze.push(0);return ze}(),E={0:0},a={},Z=0,Ne=o.length;Z<Ne;Z++)E[pe=t[i=o[Z]]]==null&&(E[pe]=++A),a[i]={old:t[i],new:E[t[i]]},N[i]=E[t[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(N),{charMap:a,subtable:V.data,maxGlyphID:A+1};case"unicode":for(z=[],g=[],k=0,E={},n={},S=f=null,ye=0,Ie=o.length;ye<Ie;ye++)E[W=t[i=o[ye]]]==null&&(E[W]=++k),n[i]={old:W,new:E[W]},c=E[W]-i,S!=null&&c===f||(S&&g.push(S),z.push(i),f=c),S=i;for(S&&g.push(S),g.push(65535),z.push(65535),J=2*(L=z.length),F=2*Math.pow(Math.log(L)/Math.LN2,2),b=Math.log(F/2)/Math.LN2,$=2*L-F,d=[],H=[],y=[],w=ve=0,je=z.length;ve<je;w=++ve){if(M=z[w],m=g[w],M===65535){d.push(0),H.push(0);break}if(M-(te=n[M].new)>=32768)for(d.push(0),H.push(2*(y.length+L-w)),i=me=M;M<=m?me<=m:me>=m;i=M<=m?++me:--me)y.push(n[i].new);else d.push(te-M),H.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*L+2*y.length),V.writeUInt16(0),V.writeUInt16(J),V.writeUInt16(F),V.writeUInt16(b),V.writeUInt16($),_e=0,q=g.length;_e<q;_e++)i=g[_e],V.writeUInt16(i);for(V.writeUInt16(0),he=0,oe=z.length;he<oe;he++)i=z[he],V.writeUInt16(i);for(Ce=0,ne=d.length;Ce<ne;Ce++)c=d[Ce],V.writeUInt16(c);for(Ee=0,ge=H.length;Ee<ge;Ee++)P=H[Ee],V.writeUInt16(P);for(Te=0,xe=y.length;Te<xe;Te++)A=y[Te],V.writeUInt16(A);return{charMap:n,subtable:V.data,maxGlyphID:k+1}}},e}(),HP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Rj(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=Rj.encode(t,r),(i=new Ec).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),Uie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Wie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),zie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,c,d;for(d=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)d.push(t.readUInt32());return d}).call(this)}},e}(),$ie=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,o,c,d,f,m,g,b;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},a=m=0,g=n.length;m<g;a=++m)i=n[a],t.pos=i.offset,f=t.readString(i.length),o=new $ie(f,i),d[b=i.nameID]==null&&(d[b]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),Hie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Vie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,o,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],r=f=0;0<=i?f<i:f>i;r=0<=i?++f:--f)m.push(t.readInt16());return m}(),this.widths=(function(){var f,m,g,b;for(b=[],f=0,m=(g=this.metrics).length;f<m;f++)a=g[f],b.push(a.advance);return b}).call(this),n=this.widths[this.widths.length-1],d=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),VP=[].slice,Gie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,o,c,d,f,m,g;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(c=new Ec(r.read(i))).readShort(),f=c.readShort(),g=c.readShort(),d=c.readShort(),m=c.readShort(),this.cache[t]=o===-1?new Xie(c,f,g,d,m):new Kie(c,o,f,g,d,m),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,o,c,d;for(o=[],a=[],c=0,d=r.length;c<d;c++)i=t[r[c]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),Kie=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Xie=function(){function e(t,r,n,i,a){var o,c;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ec(VP.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Yie=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,oo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(i+=d)}for(var f=new Array(4*n.length),m=0;m<n.length;++m)f[4*m+3]=255&n[m],f[4*m+2]=(65280&n[m])>>8,f[4*m+1]=(16711680&n[m])>>16,f[4*m]=(4278190080&n[m])>>24;return f},e}(),Zie=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,c,d;for(i={},o=0,c=t.length;o<c;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in d=this.glyphsFor(r))n=d[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,c,d,f,m,g,b,y,w,A,N,S;for(i in n=HP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),y={0:0},S=n.charMap)y[(d=S[i]).old]=d.new;for(w in b=n.maxGlyphID,o)w in y||(y[w]=b++);return m=function(E){var k,P;for(k in P={},E)P[E[k]]=k;return P}(y),g=Object.keys(m).sort(function(E,k){return E-k}),A=function(){var E,k,P;for(P=[],E=0,k=g.length;E<k;E++)c=g[E],P.push(m[c]);return P}(),a=this.font.glyf.encode(o,A,y),f=this.font.loca.encode(a.offsets,A),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();_t.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var c,d,f;for(f=[],c=0,d=r.length;c<d;c++)n=r[c],f.push(t.convert(n));return f}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();function GP(e,t,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,c=i.internal.getFontSize()/o,d=i.getLineHeightFactor?i.getLineHeightFactor():a,f=c*d,m=/\r\n|\r|\n/g,g="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof e=="string"?e.split(m):e,b=g.length||1),r+=c*(2-a),n.valign==="middle"?r-=b/2*f:n.valign==="bottom"&&(r-=b*f),n.halign==="center"||n.halign==="right"){var y=c;if(n.halign==="center"&&(y*=.5),g&&b>=1){for(var w=0;w<g.length;w++)i.text(g[w],t-i.getStringUnitWidth(g[w])*y,r),r+=f;return i}t-=i.getStringUnitWidth(e)*y}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var Dj={},Pd=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:Dj=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),c=o.fontStyle,d=o.fontName;if(t.font&&(d=t.font),t.fontStyle){c=t.fontStyle;var f=this.getFontList()[d];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(d,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var m=e.unifyColor(t.fillColor);m&&(n=this.jsPDFDocument).setFillColor.apply(n,m),m=e.unifyColor(t.textColor),m&&(i=this.jsPDFDocument).setTextColor.apply(i,m),m=e.unifyColor(t.lineColor),m&&(a=this.jsPDFDocument).setDrawColor.apply(a,m),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,a){return this.jsPDFDocument.rect(t,r,n,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Dj||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),ob=function(e,t){return ob=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ob(e,t)};function KP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ob(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var XP=function(e){KP(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Jie(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Qie(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Tp(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function YP(e,t,r,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var o=ZP(i,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function ZP(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Jg(e,t){var r,n,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function JP(e,t){var r=Jg(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function eae(e,t,r,n,i){var a={},o=1.3333333333333333,c=K2(t,function(k){return i.getComputedStyle(k).backgroundColor});c!=null&&(a.fillColor=c);var d=K2(t,function(k){return i.getComputedStyle(k).color});d!=null&&(a.textColor=d);var f=rae(n,r);f&&(a.cellPadding=f);var m="borderTopColor",g=o*r,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var y=(parseFloat(b)||0)/g;y&&(a.lineWidth=y)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},a.lineWidth.top||(a.lineWidth.right?m="borderRightColor":a.lineWidth.bottom?m="borderBottomColor":a.lineWidth.left&&(m="borderLeftColor"));var w=K2(t,function(k){return i.getComputedStyle(k)[m]});w!=null&&(a.lineColor=w);var A=["left","right","center","justify"];A.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),A=["middle","bottom","top"],A.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var N=parseInt(n.fontSize||"");isNaN(N)||(a.fontSize=N/o);var S=tae(n);S&&(a.fontStyle=S);var E=(n.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(a.font=E),a}function tae(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function K2(e,t){var r=QP(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function QP(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:QP(e.parentElement,t):r}function rae(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(c){return parseInt(c||"0")/n}),o=Jg(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function eO(e,t,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var c;typeof t=="string"?c=r.document.querySelector(t):c=t;var d=Object.keys(e.getFontList()),f=e.scaleFactor(),m=[],g=[],b=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:m,body:g,foot:b};for(var y=0;y<c.rows.length;y++){var w=c.rows[y],A=(o=(a=w==null?void 0:w.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),N=nae(d,f,r,w,n,i);N&&(A==="thead"?m.push(N):A==="tfoot"?b.push(N):g.push(N))}return{head:m,body:g,foot:b}}function nae(e,t,r,n,i,a){for(var o=new XP(n),c=0;c<n.cells.length;c++){var d=n.cells[c],f=r.getComputedStyle(d);if(i||f.display!=="none"){var m=void 0;a&&(m=eae(e,d,t,f,r)),o.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:m,_element:d,content:iae(d)})}}var g=r.getComputedStyle(n);if(o.length>0&&(i||g.display!=="none"))return o}function iae(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function aae(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function gl(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var c=arguments[o];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}function sae(e,t){var r=new Pd(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();aae(i,n,t);var a=gl({},i,n,t),o;typeof window<"u"&&(o=window);var c=oae(i,n,t),d=lae(i,n,t),f=cae(r,a),m=dae(r,a,o);return{id:t.tableId,content:m,hooks:d,styles:c,settings:f}}function oae(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(d){if(d==="columnStyles"){var f=e[d],m=t[d],g=r[d];n.columnStyles=gl({},f,m,g)}else{var b=[e,t,r],y=b.map(function(w){return w[d]||{}});n[d]=gl({},y[0],y[1],y[2])}},a=0,o=Object.keys(n);a<o.length;a++){var c=o[a];i(c)}return n}function lae(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var c=o[a];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function cae(e,t){var r,n,i,a,o,c,d,f,m,g,b,y,w=Jg(t.margin,40/e.scaleFactor()),A=(r=uae(e,t.startY))!==null&&r!==void 0?r:w.top,N;t.showFoot===!0?N="everyPage":t.showFoot===!1?N="never":N=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var S;t.showHead===!0?S="everyPage":t.showHead===!1?S="never":S=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var E=(a=t.useCss)!==null&&a!==void 0?a:!1,k=t.theme||(E?"plain":"striped"),P=!!t.horizontalPageBreak,W=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:E,theme:k,startY:A,margin:w,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(m=t.tableWidth)!==null&&m!==void 0?m:"auto",showHead:S,showFoot:N,tableLineWidth:(g=t.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(b=t.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:P,horizontalPageBreakRepeat:W,horizontalPageBreakBehaviour:(y=t.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function uae(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function dae(e,t,r){var n=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var c=eO(e,t.html,r,o,t.useCss)||{};n=c.head||n,i=c.body||n,a=c.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||fae(n,i,a);return{columns:d,head:n,body:i,foot:a}}function fae(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,c;Array.isArray(n)?c=n[parseInt(a)]:c=n[a],typeof c=="object"&&!Array.isArray(c)&&(o=(c==null?void 0:c.colSpan)||1);for(var d=0;d<o;d++){var f=void 0;Array.isArray(n)?f=i.length:f=a+(d>0?"_".concat(d):"");var m={dataKey:f};i.push(m)}}),i}var lb=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),hae=function(e){KP(t,e);function t(r,n,i,a,o,c){var d=e.call(this,r,n,c)||this;return d.cell=i,d.row=a,d.column=o,d.section=a.section,d}return t}(lb),mae=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,a,o){for(var c=0,d=r;c<d.length;c++){var f=d[c],m=new hae(t,this,n,i,a,o),g=f(m)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new lb(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new lb(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),tO=function(){function e(t,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof XP&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var c=r.getLineHeight(o.styles.fontSize),d=o.padding("vertical"),f=d+c;return f>i?f:i},0)},e}(),rO=function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=o.split(c)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Jg(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),pae=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function gae(e,t){xae(e,t);var r=[],n=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=cb(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=cb(r,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),vae(t),bae(t,e),yae(t)}function xae(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=JP(e,t);t.allRows().forEach(function(a){for(var o=0,c=t.columns;o<c.length;o++){var d=c[o],f=a.cells[d.index];if(f){var m=t.hooks.didParseCell;t.callCellHooks(e,m,f,a,d,null);var g=f.padding("horizontal");f.contentWidth=Tp(f.text,f.styles,e)+g;var b=Tp(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var y=10/r;f.minWidth=f.styles.minCellWidth||y,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,c=t.columns;o<c.length;o++){var d=c[o],f=a.cells[d.index];if(f&&f.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,f.wrappedWidth),d.minWidth=Math.max(d.minWidth,f.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,f.minReadableWidth);else{var m=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},g=m.cellWidth||m.minCellWidth;g&&typeof g=="number"&&(d.minWidth=g,d.wrappedWidth=g)}f&&(f.colSpan>1&&!d.minWidth&&(d.minWidth=f.minWidth),f.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=f.minWidth))}})}function cb(e,t,r){for(var n=t,i=e.reduce(function(y,w){return y+w.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],c=o.wrappedWidth/i,d=n*c,f=o.width+d,m=r(o),g=f<m?m:f;t-=g-o.width,o.width=g}if(t=Math.round(t*1e10)/1e10,t){var b=e.filter(function(y){return t<0?y.width>r(y):!0});b.length&&(t=cb(b,t,r))}return t}function yae(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,c=e.columns;o<c.length;o++){var d=c[o],f=t[d.index];if(r>1)r--,delete a.cells[d.index];else if(f)f.cell.height+=a.height,r=f.cell.colSpan,delete a.cells[d.index],f.left--,f.left<=1&&delete t[d.index];else{var m=a.cells[d.index];if(!m)continue;if(m.height=a.height,m.rowSpan>1){var g=n.length-i,b=m.rowSpan>g?g:m.rowSpan;t[d.index]={cell:m,left:b,row:a}}}}}function vae(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,a=0,o=0,c=0;c<e.columns.length;c++){var d=e.columns[c];if(o-=1,o>1&&e.columns[c+1])a+=d.width,delete n.cells[d.index];else if(i){var f=i;delete n.cells[d.index],i=null,f.width=d.width+a}else{var f=n.cells[d.index];if(!f)continue;if(o=f.colSpan,a=0,f.colSpan>1){i=f,a+=d.width;continue}f.width=d.width+a}}}function bae(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var a=i[n],o=0,c=e.columns;o<c.length;o++){var d=c[o],f=a.cells[d.index];if(f){t.applyStyles(f.styles,!0);var m=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,m+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=Lj(f.text,m,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=Lj(f.text,m,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var g=f.styles.overflow(f.text,m);typeof g=="string"?f.text=[g]:f.text=g}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<b*f.rowSpan?r={height:b,count:f.rowSpan}:r&&r.count>0&&r.height>b&&(b=r.height),b>a.height&&(a.height=b)}}r.count--}}function Lj(e,t,r,n,i){return e.map(function(a){return wae(a,t,r,n,i)})}function wae(e,t,r,n,i){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Tp(e,r,n))return e;for(;t<Tp(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function Nae(e,t){var r=new Pd(e),n=Aae(t,r.scaleFactor()),i=new mae(t,n);return gae(r,i),r.applyStyles(r.userStyles),i}function Aae(e,t){var r=e.content,n=jae(r.columns);if(r.head.length===0){var i=Mj(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=Mj(n,"foot");i&&r.foot.push(i)}var a=e.settings.theme,o=e.styles;return{columns:n,head:X2("head",r.head,n,o,a,t),body:X2("body",r.body,n,o,a,t),foot:X2("foot",r.foot,n,o,a,t)}}function X2(e,t,r,n,i,a){var o={},c=t.map(function(d,f){for(var m=0,g={},b=0,y=0,w=0,A=r;w<A.length;w++){var N=A[w];if(o[N.index]==null||o[N.index].left===0)if(y===0){var S=void 0;Array.isArray(d)?S=d[N.index-b-m]:S=d[N.dataKey];var E={};typeof S=="object"&&!Array.isArray(S)&&(E=(S==null?void 0:S.styles)||{});var k=Sae(e,N,f,i,n,a,E),P=new rO(S,k,e);g[N.dataKey]=P,g[N.index]=P,y=P.colSpan-1,o[N.index]={left:P.rowSpan-1,times:y}}else y--,b++;else o[N.index].left--,y=o[N.index].times,m++}return new tO(d,f,e,g)});return c}function Mj(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=Cae(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function Cae(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function jae(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new pae(i,t,r)})}function Sae(e,t,r,n,i,a,o){var c=Qie(n),d;e==="head"?d=i.headStyles:e==="body"?d=i.bodyStyles:e==="foot"&&(d=i.footStyles);var f=gl({},c.table,c[e],i.styles,d),m=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},g=e==="body"?m:{},b=e==="body"&&r%2===0?gl({},c.alternateRow,i.alternateRowStyles):{},y=Jie(a),w=gl({},y,f,b,g);return gl(w,o)}function Eae(e,t,r){var n;r===void 0&&(r={});var i=JP(e,t),a=new Map,o=[],c=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(b){var y=t.columns.find(function(w){return w.dataKey===b||w.index===b});y&&!a.has(y.index)&&(a.set(y.index,!0),o.push(y.index),c.push(t.columns[y.index]),i-=y.wrappedWidth)});for(var f=!0,m=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;m<t.columns.length;){if(a.has(m)){m++;continue}var g=t.columns[m].wrappedWidth;if(f||i>=g)f=!1,o.push(m),c.push(t.columns[m]),i-=g;else break;m++}return{colIndexes:o,columns:c,lastIndex:m-1}}function kae(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=Eae(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function Tae(e,t){var r=t.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=n+i.bottom+o;if(r.pageBreak==="avoid"){var d=t.body,f=d.reduce(function(b,y){return b+y.height},0);c+=f}var m=new Pd(e);(r.pageBreak==="always"||r.startY!=null&&c>m.pageSize().height)&&(iO(m),a.y=i.top),t.callWillDrawPageHooks(m,a);var g=gl({},a);t.startPageNumber=m.pageNumber(),r.horizontalPageBreak?_ae(m,t,g,a):(m.applyStyles(m.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(b){return _l(m,t,b,a,t.columns)}),m.applyStyles(m.userStyles),t.body.forEach(function(b,y){var w=y===t.body.length-1;_p(m,t,b,w,g,a,t.columns)}),m.applyStyles(m.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(b){return _l(m,t,b,a,t.columns)})),YP(m,t,g,a),t.callEndPageHooks(m,a),t.finalY=a.y,e.lastAutoTable=t,m.applyStyles(m.userStyles)}function _ae(e,t,r,n){var i=kae(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,m){e.applyStyles(e.userStyles),m>0?hh(e,t,r,n,f.columns,!0):Bj(e,t,n,f.columns),Iae(e,t,r,n,f.columns),Y2(e,t,n,f.columns)});else for(var o=-1,c=i[0],d=function(){var f=o;if(c){e.applyStyles(e.userStyles);var m=c.columns;o>=0?hh(e,t,r,n,m,!0):Bj(e,t,n,m),f=Fj(e,t,o+1,n,m),Y2(e,t,n,m)}var g=f-o;i.slice(1).forEach(function(b){e.applyStyles(e.userStyles),hh(e,t,r,n,b.columns,!0),Fj(e,t,o+1,n,b.columns,g),Y2(e,t,n,b.columns)}),o=f};o<t.body.length-1;)d()}function Bj(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return _l(e,t,a,r,n)})}function Iae(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var c=o===t.body.length-1;_p(e,t,a,c,r,n,i)})}function Fj(e,t,r,n,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(r+a,t.body.length),c=-1;return t.body.slice(r,o).forEach(function(d,f){var m=r+f===t.body.length-1,g=nO(e,t,m,n);d.canEntireRowFit(g,i)&&(_l(e,t,d,n,i),c=r+f)}),c}function Y2(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return _l(e,t,a,r,n)})}function Pae(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function Oae(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,c=r.columns;o<c.length;o++){var d=c[o],f=e.cells[d.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var m=new rO(f.raw,f.styles,f.section);m=gl(m,f),m.text=[];var g=Pae(f,t,n);f.text.length>g&&(m.text=f.text.splice(g,f.text.length));var b=n.scaleFactor(),y=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,y),f.contentHeight>=t&&(f.contentHeight=t,m.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),m.contentHeight=m.getContentHeight(b,y),m.contentHeight>a&&(a=m.contentHeight),i[d.index]=m}}var w=new tO(e.raw,-1,e.section,i,!0);w.height=a;for(var A=0,N=r.columns;A<N.length;A++){var d=N[A],m=w.cells[d.index];m&&(m.height=w.height);var f=e.cells[d.index];f&&(f.height=e.height)}return w}function Rae(e,t,r,n){var i=e.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,c=i-o;t.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,e),f=d<r;if(d>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var m=t.hasRowSpan(n.columns),g=t.getMaxCellHeight(n.columns)>c;return g?(m&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||n.settings.rowPageBreak==="avoid")}function _p(e,t,r,n,i,a,o){var c=nO(e,t,n,a);if(r.canEntireRowFit(c,o))_l(e,t,r,a,o);else if(Rae(e,r,c,t)){var d=Oae(r,c,t,e);_l(e,t,r,a,o),hh(e,t,i,a,o),_p(e,t,d,n,i,a,o)}else hh(e,t,i,a,o),_p(e,t,r,n,i,a,o)}function _l(e,t,r,n,i){n.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var c=o[a],d=r.cells[c.index];if(!d){n.x+=c.width;continue}e.applyStyles(d.styles),d.x=n.x,d.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,d,r,c,n);if(f===!1){n.x+=c.width;continue}Dae(e,d,n);var m=d.getTextPos();GP(d.text,m.x,m.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,r,c,n),n.x+=c.width}n.y+=r.height}function Dae(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=ZP(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Lae(e,t,r,n.lineWidth))}function Lae(e,t,r,n){var i,a,o,c;n.top&&(i=r.x,a=r.y,o=r.x+t.width,c=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),d(n.top,i,a,o,c)),n.bottom&&(i=r.x,a=r.y+t.height,o=r.x+t.width,c=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),d(n.bottom,i,a,o,c)),n.left&&(i=r.x,a=r.y,o=r.x,c=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.left,i,a,o,c)),n.right&&(i=r.x+t.width,a=r.y,o=r.x+t.width,c=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.right,i,a,o,c));function d(f,m,g,b,y){e.getDocument().setLineWidth(f),e.getDocument().line(m,g,b,y,"S")}}function nO(e,t,r,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function hh(e,t,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(c){return _l(e,t,c,n,i)}),t.callEndPageHooks(e,n);var o=t.settings.margin;YP(e,t,r,n),iO(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return _l(e,t,c,n,i)}),e.applyStyles(e.userStyles))}function iO(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Mae(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=sae(this,n),a=Nae(this,i);return Tae(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){GP(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return Pd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Pd.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Pd(this),a=eO(i,t,window,r,!1),o=a.head,c=a.body,d=((n=o[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:d,rows:c,data:c}}}var Z2;try{if(typeof window<"u"&&window){var Uj=window,Wj=Uj.jsPDF||((Z2=Uj.jspdf)===null||Z2===void 0?void 0:Z2.jsPDF);Wj&&Mae(Wj)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Bae=(e,t)=>{const r=new _t,n=t.primaryColor||"#2563eb",i=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight();let o=20;const d=(w=>{const A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(w);return A?{r:parseInt(A[1],16),g:parseInt(A[2],16),b:parseInt(A[3],16)}:{r:37,g:99,b:235}})(n);r.setFillColor(d.r,d.g,d.b),r.rect(0,0,i,40,"F"),t.logoUrl,r.setTextColor(255,255,255),r.setFontSize(28),r.setFont("helvetica","bold"),r.text("INVOICE",i-15,25,{align:"right"}),r.setFontSize(12),r.setFont("helvetica","normal"),r.text(e.invoiceNumber,i-15,33,{align:"right"}),r.setTextColor(0,0,0),o=50,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("FROM:",15,o),r.setFont("helvetica","normal"),o+=6,r.text(t.companyName||"Company Name",15,o),o+=5,t.address&&(r.setFontSize(9),r.text(t.address,15,o),o+=5),t.phone&&(r.text(`Tel: ${t.phone}`,15,o),o+=5),t.email&&r.text(`Email: ${t.email}`,15,o),o=50,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("BILL TO:",i-80,o),r.setFont("helvetica","normal"),o+=6,r.text(e.clientName,i-80,o),o+=5,r.setFontSize(9),r.text(`Tel: ${e.clientPhone}`,i-80,o),o+=5,e.clientEmail&&(r.text(`Email: ${e.clientEmail}`,i-80,o),o+=5),e.shipment&&r.text(`Shipment: ${e.shipment.referenceId}`,i-80,o),o=90,r.setFillColor(240,240,240),r.rect(15,o,i-30,20,"F"),r.setFontSize(9),r.setFont("helvetica","bold"),r.text("Invoice Date:",20,o+8),r.text("Due Date:",70,o+8),r.text("Status:",120,o+8),r.setFont("helvetica","normal"),r.text(new Date(e.invoiceDate).toLocaleDateString(),20,o+15),r.text(new Date(e.dueDate).toLocaleDateString(),70,o+15);const f=e.status==="PAID"?[34,197,94]:e.status==="PARTIAL"?[59,130,246]:e.status==="OVERDUE"?[239,68,68]:[234,179,8];r.setFillColor(f[0],f[1],f[2]),r.setTextColor(255,255,255),r.roundedRect(120,o+10,25,6,2,2,"F"),r.text(e.status,132.5,o+14,{align:"center"}),r.setTextColor(0,0,0),o=120;const m=e.lineItems.map(w=>[w.description+(w.notes?`
${w.notes}`:""),w.quantity.toString(),`${parseFloat(w.unitPrice).toFixed(3)} KWD`,`${parseFloat(w.taxAmount||"0").toFixed(3)} KWD`,`${parseFloat(w.amount).toFixed(3)} KWD`]);r.autoTable({startY:o,head:[["Description","Qty","Unit Price","Tax","Amount"]],body:m,theme:"striped",headStyles:{fillColor:[d.r,d.g,d.b],textColor:[255,255,255],fontStyle:"bold",fontSize:10},styles:{fontSize:9,cellPadding:5},columnStyles:{0:{cellWidth:80},1:{halign:"center",cellWidth:20},2:{halign:"right",cellWidth:30},3:{halign:"right",cellWidth:25},4:{halign:"right",cellWidth:30}}}),o=r.lastAutoTable.finalY+10;const g=i-70;r.setFontSize(10),r.text("Subtotal:",g,o,{align:"right"}),r.text(`${parseFloat(e.subtotal).toFixed(3)} KWD`,i-15,o,{align:"right"}),o+=7,r.text("Tax:",g,o,{align:"right"}),r.text(`${parseFloat(e.taxAmount||"0").toFixed(3)} KWD`,i-15,o,{align:"right"}),o+=10,r.setDrawColor(d.r,d.g,d.b),r.setLineWidth(.5),r.line(g-10,o-3,i-15,o-3),r.setFont("helvetica","bold"),r.setFontSize(12),r.text("Total:",g,o,{align:"right"}),r.text(`${parseFloat(e.totalAmount).toFixed(3)} KWD`,i-15,o,{align:"right"});const b=parseFloat(e.totalAmount)-parseFloat(e.paidAmount||"0");if(o+=7,r.setFontSize(10),r.setFont("helvetica","normal"),r.text("Paid:",g,o,{align:"right"}),r.setTextColor(34,197,94),r.text(`${parseFloat(e.paidAmount||"0").toFixed(3)} KWD`,i-15,o,{align:"right"}),o+=7,r.setTextColor(0,0,0),r.text("Balance Due:",g,o,{align:"right"}),r.setTextColor(b>0?239:34,b>0?68:197,b>0?68:94),r.text(`${b.toFixed(3)} KWD`,i-15,o,{align:"right"}),r.setTextColor(0,0,0),e.payments&&e.payments.length>0){o+=15,r.setFont("helvetica","bold"),r.setFontSize(11),r.text("Payment History",15,o),o+=5;const w=e.payments.map(A=>[new Date(A.paymentDate).toLocaleDateString(),A.paymentMethod,A.transactionReference||"N/A",`${parseFloat(A.amount).toFixed(3)} KWD`]);r.autoTable({startY:o,head:[["Date","Method","Reference","Amount"]],body:w,theme:"plain",headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold",fontSize:9},styles:{fontSize:9,cellPadding:4}}),o=r.lastAutoTable.finalY+10}t.bankDetails&&o<a-60&&(o+=10,r.setFillColor(240,248,255),r.rect(15,o,i-30,30,"F"),o+=7,r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Bank Details",20,o),o+=6,r.setFont("helvetica","normal"),r.setFontSize(8),t.bankDetails.split(`
`).forEach(A=>{r.text(A,20,o),o+=4})),t.termsAndConditions&&o<a-40&&(o+=10,r.setFontSize(9),r.setFont("helvetica","bold"),r.text("Terms & Conditions",15,o),o+=5,r.setFont("helvetica","normal"),r.setFontSize(7),t.termsAndConditions.split(`
`).slice(0,3).forEach(A=>{r.text(A,15,o),o+=4})),r.setFontSize(8),r.setTextColor(128,128,128),r.text("Thank you for your business!",i/2,a-15,{align:"center"}),r.text(`Generated on ${new Date().toLocaleDateString()}`,i/2,a-10,{align:"center"});const y=`Invoice-${e.invoiceNumber}-${new Date().toISOString().split("T")[0]}.pdf`;r.save(y)},Fae=()=>{var W,H;const{id:e}=yL(),t=n0(),[r,n]=I.useState(null),[i,a]=I.useState(null),[o,c]=I.useState(null),[d,f]=I.useState(!0),[m,g]=I.useState(!1),[b,y]=I.useState(!1);I.useEffect(()=>{w()},[e]);const w=async()=>{try{f(!0);const[$,F,L]=await Promise.all([Io.getInvoice(e),Io.getSettings(),fetch("/api/template-settings",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}).then(J=>J.json()).catch(()=>({settings:null}))]);n($.invoice||$),a(F.settings||F),c(L.settings)}catch($){console.error("Load invoice error:",$)}finally{f(!1)}},A=$=>{const F={PENDING:"bg-yellow-100 text-yellow-800 border-yellow-300",PAID:"bg-green-100 text-green-800 border-green-300",PARTIAL:"bg-blue-100 text-blue-800 border-blue-300",OVERDUE:"bg-red-100 text-red-800 border-red-300",CANCELLED:"bg-gray-100 text-gray-800 border-gray-300"},L={PENDING:s.jsx(fu,{className:"h-5 w-5"}),PAID:s.jsx(bi,{className:"h-5 w-5"}),PARTIAL:s.jsx(Eo,{className:"h-5 w-5"}),OVERDUE:s.jsx(fu,{className:"h-5 w-5"}),CANCELLED:s.jsx(fu,{className:"h-5 w-5"})};return s.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold border ${F[$]||F.PENDING}`,children:[L[$],$]})},N=()=>{window.print()},S=async()=>{if(!(!r||!i))try{y(!0),await new Promise($=>setTimeout($,500)),Bae(r,i)}catch($){console.error("PDF generation error:",$),alert("Failed to generate PDF. Please try again.")}finally{y(!1)}},E=()=>{const $=(o==null?void 0:o.qrCodePosition)||"TOP_RIGHT",F={TOP_RIGHT:"top-4 right-4",TOP_LEFT:"top-4 left-4",BOTTOM_RIGHT:"bottom-4 right-4",BOTTOM_LEFT:"bottom-4 left-4"};return F[$]||F.TOP_RIGHT};if(d)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!r)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("p",{className:"text-gray-600",children:"Invoice not found"})});const k=parseFloat(r.totalAmount)-parseFloat(r.paidAmount||0),P=parseFloat(r.paidAmount||0)/parseFloat(r.totalAmount)*100;return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsx("div",{className:"max-w-5xl mx-auto mb-6 print:hidden",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>t("/invoices"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[s.jsx(YL,{className:"h-5 w-5"}),"Back to Invoices"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[k>0&&s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[s.jsx(Eo,{className:"h-5 w-5"}),"Record Payment"]}),s.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[s.jsx(ju,{className:"h-5 w-5"}),"Print"]}),s.jsx("button",{onClick:S,disabled:b,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-700"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(KL,{className:"h-5 w-5"}),"Download PDF"]})}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[s.jsx(Xp,{className:"h-5 w-5"}),"Send Email"]})]})]})}),s.jsxs("div",{className:"max-w-5xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden relative",children:[(o==null?void 0:o.showQRCode)&&r&&s.jsx("div",{className:`absolute ${E()} z-10 bg-white p-2 rounded-lg shadow-md print:block`,children:s.jsx(c3,{value:`INV-${r.invoiceNumber||r.id}`,size:(o==null?void 0:o.qrCodeSize)||100,level:"M",includeMargin:!0})}),s.jsxs("div",{className:"p-8 border-b-4",style:{borderColor:(o==null?void 0:o.invoicePrimaryColor)||(i==null?void 0:i.primaryColor)||"#2563eb",backgroundColor:`${(o==null?void 0:o.invoicePrimaryColor)||(i==null?void 0:i.primaryColor)||"#2563eb"}08`},children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[(o==null?void 0:o.invoiceShowLogo)!==!1&&((o==null?void 0:o.companyLogo)||(i==null?void 0:i.logoUrl))&&s.jsx("img",{src:(o==null?void 0:o.companyLogo)||i.logoUrl,alt:"Company Logo",className:"h-16 mb-4"}),s.jsx("h1",{className:"text-3xl font-bold",style:{color:(o==null?void 0:o.invoicePrimaryColor)||(i==null?void 0:i.primaryColor)||"#2563eb"},children:(o==null?void 0:o.invoiceTitle)||"INVOICE"}),s.jsx("p",{className:"text-gray-600 mt-1",children:r.invoiceNumber}),(o==null?void 0:o.companyName)&&s.jsx("p",{className:"text-gray-700 font-semibold mt-2",children:o.companyName}),(o==null?void 0:o.invoiceShowAddress)!==!1&&(o==null?void 0:o.companyAddress)&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.companyAddress}),(o==null?void 0:o.invoiceShowPhone)!==!1&&(o==null?void 0:o.companyPhone)&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",o.companyPhone]}),(o==null?void 0:o.invoiceShowEmail)!==!1&&(o==null?void 0:o.companyEmail)&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",o.companyEmail]})]}),s.jsx("div",{children:A(r.status)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-8",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Invoice Date"}),s.jsx("p",{className:"text-gray-900 font-semibold",children:new Date(r.invoiceDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Due Date"}),s.jsx("p",{className:"text-gray-900 font-semibold",children:new Date(r.dueDate).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"p-8 grid grid-cols-2 gap-8 border-b",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"From"}),s.jsx("p",{className:"text-gray-900 font-semibold",children:(i==null?void 0:i.companyName)||"Company Name"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:(i==null?void 0:i.address)||""}),s.jsx("p",{className:"text-gray-600 text-sm",children:(i==null?void 0:i.phone)||""}),s.jsx("p",{className:"text-gray-600 text-sm",children:(i==null?void 0:i.email)||""})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Bill To"}),s.jsx("p",{className:"text-gray-900 font-semibold",children:r.clientName}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:r.clientPhone}),r.clientEmail&&s.jsx("p",{className:"text-gray-600 text-sm",children:r.clientEmail}),r.shipment&&s.jsxs("div",{className:"mt-3 p-2 bg-blue-50 rounded border border-blue-200",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Shipment Reference"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.shipment.referenceId}),r.shipment.rackLocations&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Rack Locations"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.shipment.rackLocations})]})]})]})]}),r.shipment&&s.jsxs("div",{className:"p-8 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:(o==null?void 0:o.invoicePrimaryColor)||(i==null?void 0:i.primaryColor)||"#2563eb"},children:[s.jsx("span",{children:"📦"})," Shipment Details & Box Distribution"]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Shipment ID"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:r.shipment.qrCode||r.shipment.id})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Total Boxes"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:r.shipment.originalBoxCount||((W=r.shipment.boxes)==null?void 0:W.length)||0})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Arrival Date"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:r.shipment.arrivalDate?new Date(r.shipment.arrivalDate).toLocaleDateString():r.shipment.receivedDate?new Date(r.shipment.receivedDate).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Days Stored"}),s.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:[r.shipment.arrivalDate||r.shipment.receivedDate?Math.ceil((new Date().getTime()-new Date(r.shipment.arrivalDate||r.shipment.receivedDate).getTime())/(1e3*3600*24)):0," days"]})]})]}),r.shipment.boxes&&r.shipment.boxes.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"📍 Box Distribution by Rack Location:"}),(()=>{const $={};return r.shipment.boxes.forEach(F=>{if(F.rackId&&F.rack){const L=F.rack.code;$[L]||($[L]=[]),$[L].push(F)}else $.Unassigned||($.Unassigned=[]),$.Unassigned.push(F)}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries($).map(([F,L])=>{var z;const J=F==="Unassigned",M=(z=L[0])==null?void 0:z.rack;return s.jsxs("div",{className:`border-2 rounded-lg p-3 bg-white ${J?"border-yellow-300":"border-green-300"}`,children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[J?"⏳":"🗄️"," ",J?"Unassigned":`Rack ${F}`]}),s.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${J?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[L.length," box",L.length!==1?"es":""]})]})}),!J&&(M==null?void 0:M.location)&&s.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["📍 ",M.location]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:L.map(te=>s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 border border-gray-300 rounded text-xs font-mono font-semibold text-gray-700",title:`Box #${te.boxNumber} - ${te.status}`,children:["#",te.boxNumber]},te.id))})]},F)})})})(),s.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"bg-white border border-gray-300 rounded p-2 text-center",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Total Racks"}),s.jsx("p",{className:"text-base font-bold text-gray-800",children:Object.keys(r.shipment.boxes.reduce(($,F)=>(F.rackId&&($[F.rackId]=!0),$),{})).length})]}),s.jsxs("div",{className:"bg-white border border-gray-300 rounded p-2 text-center",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Assigned"}),s.jsx("p",{className:"text-base font-bold text-green-600",children:r.shipment.boxes.filter($=>$.rackId).length})]}),s.jsxs("div",{className:"bg-white border border-gray-300 rounded p-2 text-center",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Unassigned"}),s.jsx("p",{className:"text-base font-bold text-yellow-600",children:r.shipment.boxes.filter($=>!$.rackId).length})]})]})]})]}),s.jsxs("div",{className:"p-8 border-b",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-gray-200",children:[s.jsx("th",{className:"text-left py-3 text-sm font-semibold text-gray-700",children:"Description"}),s.jsx("th",{className:"text-right py-3 text-sm font-semibold text-gray-700",children:"Qty"}),s.jsx("th",{className:"text-right py-3 text-sm font-semibold text-gray-700",children:"Unit Price"}),s.jsx("th",{className:"text-right py-3 text-sm font-semibold text-gray-700",children:"Tax"}),s.jsx("th",{className:"text-right py-3 text-sm font-semibold text-gray-700",children:"Amount"})]})}),s.jsx("tbody",{children:(H=r.lineItems)==null?void 0:H.map(($,F)=>s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsxs("td",{className:"py-4 text-gray-900",children:[s.jsx("div",{className:"font-medium",children:$.description}),$.notes&&s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:$.notes})]}),s.jsx("td",{className:"py-4 text-right text-gray-900",children:$.quantity}),s.jsx("td",{className:"py-4 text-right text-gray-900",children:parseFloat($.unitPrice).toFixed(3)}),s.jsx("td",{className:"py-4 text-right text-gray-900",children:parseFloat($.taxAmount||0).toFixed(3)}),s.jsx("td",{className:"py-4 text-right text-gray-900 font-semibold",children:parseFloat($.amount).toFixed(3)})]},F))})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsxs("div",{className:"w-80",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsxs("span",{className:"text-gray-900 font-semibold",children:[parseFloat(r.subtotal).toFixed(3)," ",(o==null?void 0:o.currencySymbol)||"KWD"]})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600",children:"Tax"}),s.jsxs("span",{className:"text-gray-900 font-semibold",children:[parseFloat(r.taxAmount||0).toFixed(3)," ",(o==null?void 0:o.currencySymbol)||"KWD"]})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b-2 border-gray-300",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[parseFloat(r.totalAmount).toFixed(3)," ",(o==null?void 0:o.currencySymbol)||"KWD"]})]})]})})]}),s.jsxs("div",{className:"p-8 bg-gray-50 border-b",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Status"}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[parseFloat(r.totalAmount).toFixed(3)," ",(o==null?void 0:o.currencySymbol)||"KWD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Paid Amount"}),s.jsxs("p",{className:"text-xl font-bold text-green-600",children:[parseFloat(r.paidAmount||0).toFixed(3)," ",(o==null?void 0:o.currencySymbol)||"KWD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Balance Due"}),s.jsxs("p",{className:"text-xl font-bold text-red-600",children:[k.toFixed(3)," ",(o==null?void 0:o.currencySymbol)||"KWD"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${P}%`}})}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[P.toFixed(1),"% Paid"]})]}),r.payments&&r.payments.length>0&&s.jsxs("div",{className:"p-8 border-b",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment History"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700",children:"Date"}),s.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700",children:"Method"}),s.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700",children:"Reference"}),s.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-700",children:"Amount"})]})}),s.jsx("tbody",{children:r.payments.map($=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"px-4 py-3 text-gray-900",children:new Date($.paymentDate).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3 text-gray-900",children:$.paymentMethod}),s.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm",children:$.transactionReference||"N/A"}),s.jsxs("td",{className:"px-4 py-3 text-right text-green-600 font-semibold",children:[parseFloat($.amount).toFixed(3)," ",(o==null?void 0:o.currencySymbol)||"KWD"]})]},$.id))})]})})]}),(i==null?void 0:i.bankDetails)&&s.jsxs("div",{className:"p-8 border-b bg-blue-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bank Details"}),s.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:i.bankDetails})]}),((o==null?void 0:o.invoiceTerms)||(i==null?void 0:i.termsAndConditions))&&s.jsxs("div",{className:"p-8 bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:(o==null?void 0:o.invoicePrimaryColor)||(i==null?void 0:i.primaryColor)||"#2563eb"},children:"Terms & Conditions"}),s.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-line",children:(o==null?void 0:o.invoiceTerms)||i.termsAndConditions})]}),(o==null?void 0:o.invoiceShowFooter)!==!1&&s.jsxs("div",{className:"p-8 text-center border-t",children:[s.jsx("p",{className:"text-sm text-gray-700 font-semibold mb-2",children:(o==null?void 0:o.invoiceFooterText)||"Thank you for your business!"}),(o==null?void 0:o.companyWebsite)&&s.jsx("p",{className:"text-xs text-gray-500",children:o.companyWebsite})]})]}),s.jsx(ore,{isOpen:m,onClose:()=>g(!1),invoice:r,onSuccess:w})]})},Uae=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,i]=I.useState({title:"",category:"MAINTENANCE",amount:"",currency:"KWD",description:"",expenseDate:new Date().toISOString().split("T")[0]}),[a,o]=I.useState([]),[c,d]=I.useState({}),[f,m]=I.useState(!1),[g,b]=I.useState("");I.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{const N=await fetch("/api/custom-fields?section=EXPENSE",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(N.ok){const S=await N.json(),E=S.customFields||S,k=Array.isArray(E)?E.filter(W=>W.isActive):[];o(k);const P={};k.forEach(W=>{P[W.id]=""}),d(P)}}catch(N){console.error("Failed to load custom fields:",N)}},w=async N=>{var S;if(N.preventDefault(),b(""),!n.title.trim()){b("Title is required");return}if(!n.amount||parseFloat(n.amount)<=0){b("Valid amount is required");return}try{m(!0);const E=await md.create({...n,amount:parseFloat(n.amount)}),k=((S=E.expense)==null?void 0:S.id)||E.id;if(a.length>0){const P=Object.entries(c).filter(([W,H])=>H!=="").map(([W,H])=>({customFieldId:W,fieldValue:H}));if(P.length>0)try{await fetch(`/api/custom-field-values/EXPENSE/${k}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({values:P})})}catch(W){console.error("Failed to save custom field values:",W)}}r(),A()}catch(E){b(E.message||"Failed to create expense")}finally{m(!1)}},A=()=>{i({title:"",category:"MAINTENANCE",amount:"",currency:"KWD",description:"",expenseDate:new Date().toISOString().split("T")[0]}),b(""),t()};return e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:A}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[s.jsxs("div",{className:"bg-primary-600 px-6 py-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Add New Expense"}),s.jsx("button",{onClick:A,className:"text-white hover:text-gray-200 transition-colors",children:s.jsx(Pc,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:w,className:"px-6 py-4",children:[g&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:g}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:n.title,onChange:N=>i({...n,title:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Warehouse Rent - October",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:n.category,onChange:N=>i({...n,category:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,children:[s.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),s.jsx("option",{value:"FUEL",children:"Fuel"}),s.jsx("option",{value:"MATERIALS",children:"Materials"}),s.jsx("option",{value:"SALARIES",children:"Salaries"}),s.jsx("option",{value:"RENT",children:"Rent"}),s.jsx("option",{value:"UTILITIES",children:"Utilities"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",step:"0.01",min:"0",value:n.amount,onChange:N=>i({...n,amount:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"0.00",required:!0}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"KWD"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expense Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:n.expenseDate,onChange:N=>i({...n,expenseDate:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:n.description,onChange:N=>i({...n,description:N.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Additional details about this expense..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receipt / Attachment"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Photo upload coming soon"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPG, PNG up to 10MB"})]})]})]}),a.length>0&&s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"✨ Custom Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(N=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[N.fieldName,N.isRequired&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),N.fieldType==="TEXT"&&s.jsx("input",{type:"text",value:c[N.id]||"",onChange:S=>d(E=>({...E,[N.id]:S.target.value})),required:N.isRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:`Enter ${N.fieldName.toLowerCase()}`}),N.fieldType==="NUMBER"&&s.jsx("input",{type:"number",value:c[N.id]||"",onChange:S=>d(E=>({...E,[N.id]:S.target.value})),required:N.isRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:`Enter ${N.fieldName.toLowerCase()}`}),N.fieldType==="DATE"&&s.jsx("input",{type:"date",value:c[N.id]||"",onChange:S=>d(E=>({...E,[N.id]:S.target.value})),required:N.isRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),N.fieldType==="DROPDOWN"&&N.fieldOptions&&s.jsxs("select",{value:c[N.id]||"",onChange:S=>d(E=>({...E,[N.id]:S.target.value})),required:N.isRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"-- Select --"}),(()=>{try{const S=JSON.parse(N.fieldOptions);return Array.isArray(S)?S.map(E=>s.jsx("option",{value:E,children:E},E)):[]}catch{return N.fieldOptions.split(",").map(S=>s.jsx("option",{value:S.trim(),children:S.trim()},S.trim()))}})()]}),N.fieldType==="CHECKBOX"&&s.jsxs("div",{className:"flex items-center h-10",children:[s.jsx("input",{type:"checkbox",checked:c[N.id]==="true",onChange:S=>d(E=>({...E,[N.id]:S.target.checked?"true":"false"})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Yes"})]})]},N.id))})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:f,children:f?"Creating...":"Create Expense"})]})]})]})]})}):null},Wae=({isOpen:e,onClose:t,onSuccess:r,expense:n})=>{const[i,a]=I.useState({title:"",category:"MAINTENANCE",amount:"",currency:"KWD",description:"",expenseDate:"",status:"PENDING"}),[o,c]=I.useState([]),[d,f]=I.useState({}),[m,g]=I.useState(!1),[b,y]=I.useState("");I.useEffect(()=>{var S;n&&(a({title:n.title||"",category:n.category||"MAINTENANCE",amount:((S=n.amount)==null?void 0:S.toString())||"",currency:n.currency||"KWD",description:n.description||"",expenseDate:n.expenseDate?new Date(n.expenseDate).toISOString().split("T")[0]:"",status:n.status||"PENDING"}),w())},[n]);const w=async()=>{if(n!=null&&n.id)try{const S=await fetch("/api/custom-fields?section=EXPENSE",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(S.ok){const E=await S.json(),k=E.customFields||E,P=Array.isArray(k)?k.filter(H=>H.isActive):[];c(P);const W=await fetch(`/api/custom-field-values/EXPENSE/${n.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(W.ok){const H=await W.json(),$=H.customFieldValues||H,F={};Array.isArray($)&&$.forEach(L=>{F[L.customFieldId]=L.fieldValue}),f(F)}}}catch(S){console.error("Failed to load custom fields:",S)}},A=async S=>{if(S.preventDefault(),y(""),!i.title.trim()){y("Title is required");return}if(!i.amount||parseFloat(i.amount)<=0){y("Valid amount is required");return}try{if(g(!0),await md.update(n.id,{...i,amount:parseFloat(i.amount)}),o.length>0){const E=Object.entries(d).filter(([k,P])=>P!=="").map(([k,P])=>({customFieldId:k,fieldValue:P}));if(E.length>0)try{await fetch(`/api/custom-field-values/EXPENSE/${n.id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({values:E})})}catch(k){console.error("Failed to save custom field values:",k)}}r(),N()}catch(E){y(E.message||"Failed to update expense")}finally{g(!1)}},N=()=>{y(""),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:N}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[s.jsxs("div",{className:"bg-primary-600 px-6 py-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Edit Expense"}),s.jsx("button",{onClick:N,className:"text-white hover:text-gray-200 transition-colors",children:s.jsx(Pc,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:A,className:"px-6 py-4",children:[b&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:i.title,onChange:S=>a({...i,title:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Warehouse Rent - October",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:i.category,onChange:S=>a({...i,category:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0,children:[s.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),s.jsx("option",{value:"FUEL",children:"Fuel"}),s.jsx("option",{value:"MATERIALS",children:"Materials"}),s.jsx("option",{value:"SALARIES",children:"Salaries"}),s.jsx("option",{value:"RENT",children:"Rent"}),s.jsx("option",{value:"UTILITIES",children:"Utilities"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",step:"0.01",min:"0",value:i.amount,onChange:S=>a({...i,amount:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"0.00",required:!0}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"KWD"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expense Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:i.expenseDate,onChange:S=>a({...i,expenseDate:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:i.status,onChange:S=>a({...i,status:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"APPROVED",children:"Approved"}),s.jsx("option",{value:"REJECTED",children:"Rejected"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:i.description,onChange:S=>a({...i,description:S.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Additional details about this expense..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receipt / Attachment"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Photo upload coming soon"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPG, PNG up to 10MB"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-blue-700",children:["Created on ",new Date(n.createdAt).toLocaleDateString(),n.approvedBy&&s.jsxs(s.Fragment,{children:[" • Approved by user ",n.approvedBy]})]})})]})})]}),o.length>0&&s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"✨ Custom Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(S=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[S.fieldName,S.isRequired&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),S.fieldType==="TEXT"&&s.jsx("input",{type:"text",value:d[S.id]||"",onChange:E=>f(k=>({...k,[S.id]:E.target.value})),required:S.isRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:`Enter ${S.fieldName.toLowerCase()}`}),S.fieldType==="NUMBER"&&s.jsx("input",{type:"number",value:d[S.id]||"",onChange:E=>f(k=>({...k,[S.id]:E.target.value})),required:S.isRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:`Enter ${S.fieldName.toLowerCase()}`}),S.fieldType==="DATE"&&s.jsx("input",{type:"date",value:d[S.id]||"",onChange:E=>f(k=>({...k,[S.id]:E.target.value})),required:S.isRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),S.fieldType==="DROPDOWN"&&S.fieldOptions&&s.jsxs("select",{value:d[S.id]||"",onChange:E=>f(k=>({...k,[S.id]:E.target.value})),required:S.isRequired,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"-- Select --"}),(()=>{try{const E=JSON.parse(S.fieldOptions);return Array.isArray(E)?E.map(k=>s.jsx("option",{value:k,children:k},k)):[]}catch{return S.fieldOptions.split(",").map(E=>s.jsx("option",{value:E.trim(),children:E.trim()},E.trim()))}})()]}),S.fieldType==="CHECKBOX"&&s.jsxs("div",{className:"flex items-center h-10",children:[s.jsx("input",{type:"checkbox",checked:d[S.id]==="true",onChange:E=>f(k=>({...k,[S.id]:E.target.checked?"true":"false"})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Yes"})]})]},S.id))})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:m,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:m,children:m?"Updating...":"Update Expense"})]})]})]})]})})},zae=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(null),[i,a]=I.useState(!0),[o,c]=I.useState(""),[d,f]=I.useState(""),[m,g]=I.useState(""),[b,y]=I.useState(""),[w,A]=I.useState(!1),[N,S]=I.useState(null);I.useEffect(()=>{E()},[m,b,d]);const E=async()=>{try{a(!0);const F={};m&&(F.category=m),b&&(F.status=b),d&&(F.search=d);const L=await md.getAll(F);t(L.expenses),n(L.summary)}catch(F){c(F.message)}finally{a(!1)}},k=async F=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await md.delete(F),E()}catch(L){alert("Failed to delete expense: "+L.message)}},P=async F=>{try{await md.updateStatus(F,"APPROVED"),E()}catch(L){alert("Failed to approve expense: "+L.message)}},W=async F=>{try{await md.updateStatus(F,"REJECTED"),E()}catch(L){alert("Failed to reject expense: "+L.message)}},H=F=>{const L={PENDING:{bg:"bg-yellow-100",text:"text-yellow-800",icon:fu},APPROVED:{bg:"bg-green-100",text:"text-green-800",icon:bi},REJECTED:{bg:"bg-red-100",text:"text-red-800",icon:to}},J=L[F]||L.PENDING,M=J.icon;return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J.bg} ${J.text}`,children:[s.jsx(M,{className:"w-4 h-4 mr-1"}),F]})},$=F=>{const L={MAINTENANCE:"bg-blue-100 text-blue-800",FUEL:"bg-green-100 text-green-800",MATERIALS:"bg-purple-100 text-purple-800",SALARIES:"bg-yellow-100 text-yellow-800",RENT:"bg-red-100 text-red-800",UTILITIES:"bg-indigo-100 text-indigo-800",OTHER:"bg-gray-100 text-gray-800"};return L[F]||L.OTHER};return i?s.jsx("div",{className:"p-6 flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading expenses..."})]})}):o?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Error loading expenses: ",o]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Expenses"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage company expenses"})]}),s.jsxs("button",{onClick:()=>A(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[s.jsx(Cu,{className:"h-5 w-5 mr-2"}),"Add Expense"]})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total Expenses"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:[r.total.toFixed(2)," ",r.currency]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r.count," expenses"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Pending"}),s.jsxs("div",{className:"text-2xl font-bold text-yellow-600 mt-1",children:[r.pending.toFixed(2)," ",r.currency]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Awaiting approval"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Approved"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600 mt-1",children:[r.approved.toFixed(2)," ",r.currency]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Verified expenses"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"This Month"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:[r.total.toFixed(2)," ",r.currency]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Current period"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search expenses...",value:d,onChange:F=>f(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:m,onChange:F=>g(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"",children:"All Categories"}),s.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),s.jsx("option",{value:"FUEL",children:"Fuel"}),s.jsx("option",{value:"MATERIALS",children:"Materials"}),s.jsx("option",{value:"SALARIES",children:"Salaries"}),s.jsx("option",{value:"RENT",children:"Rent"}),s.jsx("option",{value:"UTILITIES",children:"Utilities"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:b,onChange:F=>y(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"APPROVED",children:"Approved"}),s.jsx("option",{value:"REJECTED",children:"Rejected"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expense"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-medium",children:"No expenses found"}),s.jsx("p",{className:"text-sm mt-1",children:"Create your first expense to get started"})]})})}):e.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.title}),F.description&&s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:F.description})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${$(F.category)}`,children:F.category})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[F.amount.toFixed(2)," ",F.currency]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.expenseDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:H(F.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[F.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>P(F.id),className:"text-green-600 hover:text-green-900",title:"Approve",children:s.jsx(bi,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>W(F.id),className:"text-red-600 hover:text-red-900",title:"Reject",children:s.jsx(to,{className:"h-5 w-5"})})]}),s.jsx("button",{onClick:()=>S(F),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:s.jsx(sf,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>k(F.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(Su,{className:"h-5 w-5"})})]})})]},F.id))})]})}),s.jsx(Uae,{isOpen:w,onClose:()=>A(!1),onSuccess:()=>{A(!1),E()}}),s.jsx(Wae,{isOpen:!!N,onClose:()=>S(null),onSuccess:()=>{S(null),E()},expense:N})]})},$ae=()=>{const[e,t]=I.useState(null),[r,n]=I.useState(!0),[i,a]=I.useState(!1),[o,c]=I.useState("company"),[d,f]=I.useState(null),[m,g]=I.useState(!1);I.useEffect(()=>{b()},[]);const b=async()=>{try{const k=await(await fetch("/api/template-settings",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();t(k.settings||y())}catch(E){console.error("Failed to load settings:",E),t(y())}finally{n(!1)}},y=()=>({companyName:"QGO Cargo",companyAddress:"Kuwait",companyPhone:"+965 XXXX XXXX",companyEmail:"info@qgocargo.com",companyWebsite:"www.qgocargo.com",invoiceTitle:"TAX INVOICE",releaseNoteTitle:"SHIPMENT RELEASE NOTE",invoicePrimaryColor:"#2563eb",releasePrimaryColor:"#1e40af",currencySymbol:"KD"}),w=async()=>{a(!0);try{await fetch("/api/template-settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(e)}),alert("Settings saved successfully!")}catch(E){console.error("Failed to save settings:",E),alert("Failed to save settings")}finally{a(!1)}},A=(E,k)=>{t(P=>({...P,[E]:k}))},N=async()=>{if(d){g(!0);try{const E=new FormData;E.append("logo",d);const P=await(await fetch("/api/upload/logo",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:E})).json();P.success&&P.fullUrl?(A("companyLogo",P.fullUrl),f(null),alert("Logo uploaded successfully!")):alert("Failed to upload logo: "+(P.error||"Unknown error"))}catch(E){console.error("Upload error:",E),alert("Failed to upload logo")}finally{g(!1)}}};if(r)return s.jsx("div",{className:"p-8",children:"Loading..."});const S=[{id:"company",name:"Company Info",icon:ev},{id:"invoice",name:"Invoice Template",icon:eo},{id:"release",name:"Release Note",icon:eo},{id:"colors",name:"Colors & Styling",icon:Jp},{id:"advanced",name:"Advanced",icon:ev}];return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Template Settings"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Customize invoice and release note templates"})]}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:S.map(E=>s.jsxs("button",{onClick:()=>c(E.id),className:`
                flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm
                ${o===E.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[s.jsx(E.icon,{className:"h-5 w-5"}),E.name]},E.id))})}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o==="company"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Company Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Logo"}),e.companyLogo&&s.jsx("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsx("img",{src:e.companyLogo,alt:"Logo",className:"h-20 w-auto",onError:E=>{E.currentTarget.src="https://via.placeholder.com/150x60?text=Invalid+Image"}})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:E=>{var k;return f(((k=E.target.files)==null?void 0:k[0])||null)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),s.jsx("button",{onClick:N,disabled:!d||m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:m?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-block animate-spin mr-2",children:"⏳"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tv,{className:"h-5 w-5 inline mr-2"}),"Upload"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"OR"})})]}),s.jsx("input",{type:"url",value:e.companyLogo||"",onChange:E=>A("companyLogo",E.target.value),placeholder:"Paste logo URL (e.g., https://example.com/logo.png)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Accepted formats: JPG, PNG, GIF, SVG, WebP • Max size: 5MB"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),s.jsx("input",{type:"text",value:e.companyName||"",onChange:E=>A("companyName",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{value:e.companyAddress||"",onChange:E=>A("companyAddress",E.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"text",value:e.companyPhone||"",onChange:E=>A("companyPhone",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:e.companyEmail||"",onChange:E=>A("companyEmail",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),s.jsx("input",{type:"text",value:e.companyWebsite||"",onChange:E=>A("companyWebsite",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License/Registration No."}),s.jsx("input",{type:"text",value:e.companyLicense||"",onChange:E=>A("companyLicense",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]})]}),o==="invoice"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Invoice Template"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Title"}),s.jsx("input",{type:"text",value:e.invoiceTitle||"TAX INVOICE",onChange:E=>A("invoiceTitle",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Style"}),s.jsxs("select",{value:e.invoiceTemplateType||"STANDARD",onChange:E=>A("invoiceTemplateType",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"STANDARD",children:"Standard"}),s.jsx("option",{value:"MODERN",children:"Modern"}),s.jsx("option",{value:"MINIMAL",children:"Minimal"}),s.jsx("option",{value:"CLASSIC",children:"Classic"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Display Elements"}),s.jsx("div",{className:"space-y-2",children:[{key:"invoiceShowLogo",label:"Show Company Logo"},{key:"invoiceShowAddress",label:"Show Address"},{key:"invoiceShowPhone",label:"Show Phone"},{key:"invoiceShowEmail",label:"Show Email"},{key:"invoiceShowWebsite",label:"Show Website"},{key:"invoiceShowLicense",label:"Show License Number"},{key:"invoiceShowFooter",label:"Show Footer"}].map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e[E.key]!==!1,onChange:k=>A(E.key,k.target.checked),className:"rounded border-gray-300 text-primary-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E.label})]},E.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Terms & Conditions"}),s.jsx("textarea",{value:e.invoiceTerms||"",onChange:E=>A("invoiceTerms",E.target.value),rows:6,placeholder:"Enter default terms and conditions for invoices...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Footer Text"}),s.jsx("input",{type:"text",value:e.invoiceFooterText||"",onChange:E=>A("invoiceFooterText",E.target.value),placeholder:"Thank you for your business!",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),o==="release"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Release Note Template"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Note Title"}),s.jsx("input",{type:"text",value:e.releaseNoteTitle||"SHIPMENT RELEASE NOTE",onChange:E=>A("releaseNoteTitle",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Style"}),s.jsxs("select",{value:e.releaseNoteTemplate||"PROFESSIONAL",onChange:E=>A("releaseNoteTemplate",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"PROFESSIONAL",children:"Professional"}),s.jsx("option",{value:"COMPACT",children:"Compact"}),s.jsx("option",{value:"DETAILED",children:"Detailed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Display Sections"}),s.jsx("div",{className:"space-y-2",children:[{key:"releaseNoteShowLogo",label:"Show Company Logo"},{key:"releaseShowShipment",label:"Show Shipment Details"},{key:"releaseShowStorage",label:"Show Storage Information"},{key:"releaseShowItems",label:"Show Items Released"},{key:"releaseShowCollector",label:"Show Collector Information"},{key:"releaseShowCharges",label:"Show Charges & Payment"},{key:"releaseShowPhotos",label:"Show Release Photos"},{key:"releaseShowTerms",label:"Show Terms & Conditions"},{key:"releaseShowSignatures",label:"Show Signature Spaces"}].map(E=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e[E.key]!==!1,onChange:k=>A(E.key,k.target.checked),className:"rounded border-gray-300 text-primary-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:E.label})]},E.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Terms & Conditions"}),s.jsx("textarea",{value:e.releaseTerms||"",onChange:E=>A("releaseTerms",E.target.value),rows:6,placeholder:"Enter terms and conditions for release notes...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Footer Text"}),s.jsx("input",{type:"text",value:e.releaseFooterText||"",onChange:E=>A("releaseFooterText",E.target.value),placeholder:"Thank you for choosing our services!",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),o==="colors"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Colors & Styling"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Invoice Colors"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:e.invoicePrimaryColor||"#2563eb",onChange:E=>A("invoicePrimaryColor",E.target.value),className:"h-10 w-20"}),s.jsx("input",{type:"text",value:e.invoicePrimaryColor||"#2563eb",onChange:E=>A("invoicePrimaryColor",E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:e.invoiceHeaderBg||"#2563eb",onChange:E=>A("invoiceHeaderBg",E.target.value),className:"h-10 w-20"}),s.jsx("input",{type:"text",value:e.invoiceHeaderBg||"#2563eb",onChange:E=>A("invoiceHeaderBg",E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Release Note Colors"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:e.releasePrimaryColor||"#1e40af",onChange:E=>A("releasePrimaryColor",E.target.value),className:"h-10 w-20"}),s.jsx("input",{type:"text",value:e.releasePrimaryColor||"#1e40af",onChange:E=>A("releasePrimaryColor",E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Background"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:e.releaseNoteHeaderBg||"#1e40af",onChange:E=>A("releaseNoteHeaderBg",E.target.value),className:"h-10 w-20"}),s.jsx("input",{type:"text",value:e.releaseNoteHeaderBg||"#1e40af",onChange:E=>A("releaseNoteHeaderBg",E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Font Size"}),s.jsxs("select",{value:e.invoiceFontSize||"MEDIUM",onChange:E=>A("invoiceFontSize",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"SMALL",children:"Small"}),s.jsx("option",{value:"MEDIUM",children:"Medium"}),s.jsx("option",{value:"LARGE",children:"Large"})]})]})]}),o==="advanced"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Advanced Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency Symbol"}),s.jsx("input",{type:"text",value:e.currencySymbol||"KD",onChange:E=>A("currencySymbol",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency Position"}),s.jsxs("select",{value:e.currencyPosition||"AFTER",onChange:E=>A("currencyPosition",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"BEFORE",children:"Before ($ 100)"}),s.jsx("option",{value:"AFTER",children:"After (100 KD)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Format"}),s.jsxs("select",{value:e.dateFormat||"MMM dd, yyyy",onChange:E=>A("dateFormat",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"MMM dd, yyyy",children:"Oct 13, 2025"}),s.jsx("option",{value:"dd/MM/yyyy",children:"13/10/2025"}),s.jsx("option",{value:"yyyy-MM-dd",children:"2025-10-13"}),s.jsx("option",{value:"dd MMMM yyyy",children:"13 October 2025"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Format"}),s.jsxs("select",{value:e.timeFormat||"hh:mm a",onChange:E=>A("timeFormat",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"hh:mm a",children:"03:30 PM"}),s.jsx("option",{value:"HH:mm",children:"15:30"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paper Size"}),s.jsxs("select",{value:e.invoicePaperSize||"A4",onChange:E=>A("invoicePaperSize",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"A4",children:"A4 (210 × 297 mm)"}),s.jsx("option",{value:"LETTER",children:"Letter (8.5 × 11 in)"}),s.jsx("option",{value:"A5",children:"A5 (148 × 210 mm)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Print Margins (mm)"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:["Top","Bottom","Left","Right"].map(E=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:E}),s.jsx("input",{type:"number",value:e[`printMargin${E}`]||10,onChange:k=>A(`printMargin${E}`,parseInt(k.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Signature Settings"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.requireStaffSignature!==!1,onChange:E=>A("requireStaffSignature",E.target.checked),className:"rounded border-gray-300 text-primary-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Require Staff Signature"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.requireClientSignature!==!1,onChange:E=>A("requireClientSignature",E.target.checked),className:"rounded border-gray-300 text-primary-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Require Client Signature"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center mb-3",children:[s.jsx("input",{type:"checkbox",checked:e.showQRCode===!0,onChange:E=>A("showQRCode",E.target.checked),className:"rounded border-gray-300 text-primary-600"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Show QR Code on Documents"})]}),e.showQRCode&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Position"}),s.jsxs("select",{value:e.qrCodePosition||"TOP_RIGHT",onChange:E=>A("qrCodePosition",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[s.jsx("option",{value:"TOP_RIGHT",children:"Top Right"}),s.jsx("option",{value:"TOP_LEFT",children:"Top Left"}),s.jsx("option",{value:"BOTTOM_RIGHT",children:"Bottom Right"}),s.jsx("option",{value:"BOTTOM_LEFT",children:"Bottom Left"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Size (px)"}),s.jsx("input",{type:"number",value:e.qrCodeSize||100,onChange:E=>A("qrCodeSize",parseInt(E.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]})]}),s.jsxs("div",{className:"mt-8 flex items-center justify-between pt-6 border-t",children:[s.jsxs("button",{className:"flex items-center gap-2 text-primary-600 hover:text-primary-700",children:[s.jsx(Yp,{className:"h-5 w-5"}),"Preview Templates"]}),s.jsx("button",{onClick:w,disabled:i,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bi,{className:"h-5 w-5"}),"Save Settings"]})})]})]})]})};function aO(e,t){return function(){return e.apply(t,arguments)}}const{toString:qae}=Object.prototype,{getPrototypeOf:w3}=Object,{iterator:Qg,toStringTag:sO}=Symbol,ex=(e=>t=>{const r=qae.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),lo=e=>(e=e.toLowerCase(),t=>ex(t)===e),tx=e=>t=>typeof t===e,{isArray:xf}=Array,Jd=tx("undefined");function A0(e){return e!==null&&!Jd(e)&&e.constructor!==null&&!Jd(e.constructor)&&Ta(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const oO=lo("ArrayBuffer");function Hae(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&oO(e.buffer),t}const Vae=tx("string"),Ta=tx("function"),lO=tx("number"),C0=e=>e!==null&&typeof e=="object",Gae=e=>e===!0||e===!1,im=e=>{if(ex(e)!=="object")return!1;const t=w3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(sO in e)&&!(Qg in e)},Kae=e=>{if(!C0(e)||A0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Xae=lo("Date"),Yae=lo("File"),Zae=lo("Blob"),Jae=lo("FileList"),Qae=e=>C0(e)&&Ta(e.pipe),ese=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ta(e.append)&&((t=ex(e))==="formdata"||t==="object"&&Ta(e.toString)&&e.toString()==="[object FormData]"))},tse=lo("URLSearchParams"),[rse,nse,ise,ase]=["ReadableStream","Request","Response","Headers"].map(lo),sse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function j0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),xf(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(A0(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let c;for(n=0;n<o;n++)c=a[n],t.call(null,e[c],c,e)}}function cO(e,t){if(A0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uO=e=>!Jd(e)&&e!==cu;function ub(){const{caseless:e,skipUndefined:t}=uO(this)&&this||{},r={},n=(i,a)=>{const o=e&&cO(r,a)||a;im(r[o])&&im(i)?r[o]=ub(r[o],i):im(i)?r[o]=ub({},i):xf(i)?r[o]=i.slice():(!t||!Jd(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&j0(arguments[i],n);return r}const ose=(e,t,r,{allOwnKeys:n}={})=>(j0(t,(i,a)=>{r&&Ta(i)?e[a]=aO(i,r):e[a]=i},{allOwnKeys:n}),e),lse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cse=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},use=(e,t,r,n)=>{let i,a,o;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&w3(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},dse=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},fse=e=>{if(!e)return null;if(xf(e))return e;let t=e.length;if(!lO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},hse=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&w3(Uint8Array)),mse=(e,t)=>{const n=(e&&e[Qg]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},pse=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},gse=lo("HTMLFormElement"),xse=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),zj=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),yse=lo("RegExp"),dO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};j0(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},vse=e=>{dO(e,(t,r)=>{if(Ta(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ta(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bse=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return xf(e)?n(e):n(String(e).split(t)),r},wse=()=>{},Nse=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ase(e){return!!(e&&Ta(e.append)&&e[sO]==="FormData"&&e[Qg])}const Cse=e=>{const t=new Array(10),r=(n,i)=>{if(C0(n)){if(t.indexOf(n)>=0)return;if(A0(n))return n;if(!("toJSON"in n)){t[i]=n;const a=xf(n)?[]:{};return j0(n,(o,c)=>{const d=r(o,i+1);!Jd(d)&&(a[c]=d)}),t[i]=void 0,a}}return n};return r(e,0)},jse=lo("AsyncFunction"),Sse=e=>e&&(C0(e)||Ta(e))&&Ta(e.then)&&Ta(e.catch),fO=((e,t)=>e?setImmediate:t?((r,n)=>(cu.addEventListener("message",({source:i,data:a})=>{i===cu&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),cu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ta(cu.postMessage)),Ese=typeof queueMicrotask<"u"?queueMicrotask.bind(cu):typeof process<"u"&&process.nextTick||fO,kse=e=>e!=null&&Ta(e[Qg]),We={isArray:xf,isArrayBuffer:oO,isBuffer:A0,isFormData:ese,isArrayBufferView:Hae,isString:Vae,isNumber:lO,isBoolean:Gae,isObject:C0,isPlainObject:im,isEmptyObject:Kae,isReadableStream:rse,isRequest:nse,isResponse:ise,isHeaders:ase,isUndefined:Jd,isDate:Xae,isFile:Yae,isBlob:Zae,isRegExp:yse,isFunction:Ta,isStream:Qae,isURLSearchParams:tse,isTypedArray:hse,isFileList:Jae,forEach:j0,merge:ub,extend:ose,trim:sse,stripBOM:lse,inherits:cse,toFlatObject:use,kindOf:ex,kindOfTest:lo,endsWith:dse,toArray:fse,forEachEntry:mse,matchAll:pse,isHTMLForm:gse,hasOwnProperty:zj,hasOwnProp:zj,reduceDescriptors:dO,freezeMethods:vse,toObjectSet:bse,toCamelCase:xse,noop:wse,toFiniteNumber:Nse,findKey:cO,global:cu,isContextDefined:uO,isSpecCompliantForm:Ase,toJSONObject:Cse,isAsyncFn:jse,isThenable:Sse,setImmediate:fO,asap:Ese,isIterable:kse};function tr(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}We.inherits(tr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.status}}});const hO=tr.prototype,mO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mO[e]={value:e}});Object.defineProperties(tr,mO);Object.defineProperty(hO,"isAxiosError",{value:!0});tr.from=(e,t,r,n,i,a)=>{const o=Object.create(hO);We.toFlatObject(e,o,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return tr.call(o,c,d,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Tse=null;function db(e){return We.isPlainObject(e)||We.isArray(e)}function pO(e){return We.endsWith(e,"[]")?e.slice(0,-2):e}function $j(e,t,r){return e?e.concat(t).map(function(i,a){return i=pO(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function _se(e){return We.isArray(e)&&!e.some(db)}const Ise=We.toFlatObject(We,{},null,function(t){return/^is[A-Z]/.test(t)});function rx(e,t,r){if(!We.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=We.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,N){return!We.isUndefined(N[A])});const n=r.metaTokens,i=r.visitor||m,a=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(t);if(!We.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(We.isDate(w))return w.toISOString();if(We.isBoolean(w))return w.toString();if(!d&&We.isBlob(w))throw new tr("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(w)||We.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,A,N){let S=w;if(w&&!N&&typeof w=="object"){if(We.endsWith(A,"{}"))A=n?A:A.slice(0,-2),w=JSON.stringify(w);else if(We.isArray(w)&&_se(w)||(We.isFileList(w)||We.endsWith(A,"[]"))&&(S=We.toArray(w)))return A=pO(A),S.forEach(function(k,P){!(We.isUndefined(k)||k===null)&&t.append(o===!0?$j([A],P,a):o===null?A:A+"[]",f(k))}),!1}return db(w)?!0:(t.append($j(N,A,a),f(w)),!1)}const g=[],b=Object.assign(Ise,{defaultVisitor:m,convertValue:f,isVisitable:db});function y(w,A){if(!We.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+A.join("."));g.push(w),We.forEach(w,function(S,E){(!(We.isUndefined(S)||S===null)&&i.call(t,S,We.isString(E)?E.trim():E,A,b))===!0&&y(S,A?A.concat(E):[E])}),g.pop()}}if(!We.isObject(e))throw new TypeError("data must be an object");return y(e),t}function qj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function N3(e,t){this._pairs=[],e&&rx(e,this,t)}const gO=N3.prototype;gO.append=function(t,r){this._pairs.push([t,r])};gO.toString=function(t){const r=t?function(n){return t.call(this,n,qj)}:qj;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Pse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xO(e,t,r){if(!t)return e;const n=r&&r.encode||Pse;We.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=We.isURLSearchParams(t)?t.toString():new N3(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Hj{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){We.forEach(this.handlers,function(n){n!==null&&t(n)})}}const yO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ose=typeof URLSearchParams<"u"?URLSearchParams:N3,Rse=typeof FormData<"u"?FormData:null,Dse=typeof Blob<"u"?Blob:null,Lse={isBrowser:!0,classes:{URLSearchParams:Ose,FormData:Rse,Blob:Dse},protocols:["http","https","file","blob","url","data"]},A3=typeof window<"u"&&typeof document<"u",fb=typeof navigator=="object"&&navigator||void 0,Mse=A3&&(!fb||["ReactNative","NativeScript","NS"].indexOf(fb.product)<0),Bse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fse=A3&&window.location.href||"http://localhost",Use=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:A3,hasStandardBrowserEnv:Mse,hasStandardBrowserWebWorkerEnv:Bse,navigator:fb,origin:Fse},Symbol.toStringTag,{value:"Module"})),Ji={...Use,...Lse};function Wse(e,t){return rx(e,new Ji.classes.URLSearchParams,{visitor:function(r,n,i,a){return Ji.isNode&&We.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function zse(e){return We.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $se(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function vO(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=a>=r.length;return o=!o&&We.isArray(i)?i.length:o,d?(We.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!c):((!i[o]||!We.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&We.isArray(i[o])&&(i[o]=$se(i[o])),!c)}if(We.isFormData(e)&&We.isFunction(e.entries)){const r={};return We.forEachEntry(e,(n,i)=>{t(zse(n),i,r,0)}),r}return null}function qse(e,t,r){if(We.isString(e))try{return(t||JSON.parse)(e),We.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const S0={transitional:yO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=We.isObject(t);if(a&&We.isHTMLForm(t)&&(t=new FormData(t)),We.isFormData(t))return i?JSON.stringify(vO(t)):t;if(We.isArrayBuffer(t)||We.isBuffer(t)||We.isStream(t)||We.isFile(t)||We.isBlob(t)||We.isReadableStream(t))return t;if(We.isArrayBufferView(t))return t.buffer;if(We.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Wse(t,this.formSerializer).toString();if((c=We.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return rx(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),qse(t)):t}],transformResponse:[function(t){const r=this.transitional||S0.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(We.isResponse(t)||We.isReadableStream(t))return t;if(t&&We.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?tr.from(c,tr.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ji.classes.FormData,Blob:Ji.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],e=>{S0.headers[e]={}});const Hse=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vse=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&Hse[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Vj=Symbol("internals");function Gf(e){return e&&String(e).trim().toLowerCase()}function am(e){return e===!1||e==null?e:We.isArray(e)?e.map(am):String(e)}function Gse(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Kse=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function J2(e,t,r,n,i){if(We.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!We.isString(t)){if(We.isString(n))return t.indexOf(n)!==-1;if(We.isRegExp(n))return n.test(t)}}function Xse(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Yse(e,t){const r=We.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let _a=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(c,d,f){const m=Gf(d);if(!m)throw new Error("header name must be a non-empty string");const g=We.findKey(i,m);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||d]=am(c))}const o=(c,d)=>We.forEach(c,(f,m)=>a(f,m,d));if(We.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(We.isString(t)&&(t=t.trim())&&!Kse(t))o(Vse(t),r);else if(We.isObject(t)&&We.isIterable(t)){let c={},d,f;for(const m of t){if(!We.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[f=m[0]]=(d=c[f])?We.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Gf(t),t){const n=We.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return Gse(i);if(We.isFunction(r))return r.call(this,i,n);if(We.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Gf(t),t){const n=We.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||J2(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Gf(o),o){const c=We.findKey(n,o);c&&(!r||J2(n,n[c],c,r))&&(delete n[c],i=!0)}}return We.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||J2(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return We.forEach(this,(i,a)=>{const o=We.findKey(n,a);if(o){r[o]=am(i),delete r[a];return}const c=t?Xse(a):String(a).trim();c!==a&&delete r[a],r[c]=am(i),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return We.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&We.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Vj]=this[Vj]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=Gf(o);n[c]||(Yse(i,o),n[c]=!0)}return We.isArray(t)?t.forEach(a):a(t),this}};_a.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(_a.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});We.freezeMethods(_a);function Q2(e,t){const r=this||S0,n=t||r,i=_a.from(n.headers);let a=n.data;return We.forEach(e,function(c){a=c.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function bO(e){return!!(e&&e.__CANCEL__)}function yf(e,t,r){tr.call(this,e??"canceled",tr.ERR_CANCELED,t,r),this.name="CanceledError"}We.inherits(yf,tr,{__CANCEL__:!0});function wO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new tr("Request failed with status code "+r.status,[tr.ERR_BAD_REQUEST,tr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Zse(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Jse(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),m=n[a];o||(o=f),r[i]=d,n[i]=f;let g=a,b=0;for(;g!==i;)b+=r[g++],g=g%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),f-o<t)return;const y=m&&f-m;return y?Math.round(b*1e3/y):void 0}}function Qse(e,t){let r=0,n=1e3/t,i,a;const o=(f,m=Date.now())=>{r=m,i=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const m=Date.now(),g=m-r;g>=n?o(f,m):(i=f,a||(a=setTimeout(()=>{a=null,o(i)},n-g)))},()=>i&&o(i)]}const Ip=(e,t,r=3)=>{let n=0;const i=Jse(50,250);return Qse(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,d=o-n,f=i(d),m=o<=c;n=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&m?(c-o)/f:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(g)},r)},Gj=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Kj=e=>(...t)=>We.asap(()=>e(...t)),eoe=Ji.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ji.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ji.origin),Ji.navigator&&/(msie|trident)/i.test(Ji.navigator.userAgent)):()=>!0,toe=Ji.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];We.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),We.isString(n)&&o.push("path="+n),We.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function roe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function noe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function NO(e,t,r){let n=!roe(t);return e&&(n||r==!1)?noe(e,t):t}const Xj=e=>e instanceof _a?{...e}:e;function Ou(e,t){t=t||{};const r={};function n(f,m,g,b){return We.isPlainObject(f)&&We.isPlainObject(m)?We.merge.call({caseless:b},f,m):We.isPlainObject(m)?We.merge({},m):We.isArray(m)?m.slice():m}function i(f,m,g,b){if(We.isUndefined(m)){if(!We.isUndefined(f))return n(void 0,f,g,b)}else return n(f,m,g,b)}function a(f,m){if(!We.isUndefined(m))return n(void 0,m)}function o(f,m){if(We.isUndefined(m)){if(!We.isUndefined(f))return n(void 0,f)}else return n(void 0,m)}function c(f,m,g){if(g in t)return n(f,m);if(g in e)return n(void 0,f)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(f,m,g)=>i(Xj(f),Xj(m),g,!0)};return We.forEach(Object.keys({...e,...t}),function(m){const g=d[m]||i,b=g(e[m],t[m],m);We.isUndefined(b)&&g!==c||(r[m]=b)}),r}const AO=e=>{const t=Ou({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=t;if(t.headers=o=_a.from(o),t.url=xO(NO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),We.isFormData(r)){if(Ji.hasStandardBrowserEnv||Ji.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(We.isFunction(r.getHeaders)){const d=r.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([m,g])=>{f.includes(m.toLowerCase())&&o.set(m,g)})}}if(Ji.hasStandardBrowserEnv&&(n&&We.isFunction(n)&&(n=n(t)),n||n!==!1&&eoe(t.url))){const d=i&&a&&toe.read(a);d&&o.set(i,d)}return t},ioe=typeof XMLHttpRequest<"u",aoe=ioe&&function(e){return new Promise(function(r,n){const i=AO(e);let a=i.data;const o=_a.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=i,m,g,b,y,w;function A(){y&&y(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function S(){if(!N)return;const k=_a.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),W={data:!c||c==="text"||c==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:k,config:e,request:N};wO(function($){r($),A()},function($){n($),A()},W),N=null}"onloadend"in N?N.onloadend=S:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(S)},N.onabort=function(){N&&(n(new tr("Request aborted",tr.ECONNABORTED,e,N)),N=null)},N.onerror=function(P){const W=P&&P.message?P.message:"Network Error",H=new tr(W,tr.ERR_NETWORK,e,N);H.event=P||null,n(H),N=null},N.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||yO;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),n(new tr(P,W.clarifyTimeoutError?tr.ETIMEDOUT:tr.ECONNABORTED,e,N)),N=null},a===void 0&&o.setContentType(null),"setRequestHeader"in N&&We.forEach(o.toJSON(),function(P,W){N.setRequestHeader(W,P)}),We.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),c&&c!=="json"&&(N.responseType=i.responseType),f&&([b,w]=Ip(f,!0),N.addEventListener("progress",b)),d&&N.upload&&([g,y]=Ip(d),N.upload.addEventListener("progress",g),N.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(m=k=>{N&&(n(!k||k.type?new yf(null,e,N):k),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const E=Zse(i.url);if(E&&Ji.protocols.indexOf(E)===-1){n(new tr("Unsupported protocol "+E+":",tr.ERR_BAD_REQUEST,e));return}N.send(a||null)})},soe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(f){if(!i){i=!0,c();const m=f instanceof Error?f:this.reason;n.abort(m instanceof tr?m:new yf(m instanceof Error?m.message:m))}};let o=t&&setTimeout(()=>{o=null,a(new tr(`timeout ${t} of ms exceeded`,tr.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:d}=n;return d.unsubscribe=()=>We.asap(c),d}},ooe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},loe=async function*(e,t){for await(const r of coe(e))yield*ooe(r,t)},coe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Yj=(e,t,r,n)=>{const i=loe(e,t);let a=0,o,c=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await i.next();if(f){c(),d.close();return}let g=m.byteLength;if(r){let b=a+=g;r(b)}d.enqueue(new Uint8Array(m))}catch(f){throw c(f),f}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},Zj=64*1024,{isFunction:L1}=We,uoe=(({Request:e,Response:t})=>({Request:e,Response:t}))(We.global),{ReadableStream:Jj,TextEncoder:Qj}=We.global,eS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},doe=e=>{e=We.merge.call({skipUndefined:!0},uoe,e);const{fetch:t,Request:r,Response:n}=e,i=t?L1(t):typeof fetch=="function",a=L1(r),o=L1(n);if(!i)return!1;const c=i&&L1(Jj),d=i&&(typeof Qj=="function"?(w=>A=>w.encode(A))(new Qj):async w=>new Uint8Array(await new r(w).arrayBuffer())),f=a&&c&&eS(()=>{let w=!1;const A=new r(Ji.origin,{body:new Jj,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!A}),m=o&&c&&eS(()=>We.isReadableStream(new n("").body)),g={stream:m&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(A,N)=>{let S=A&&A[w];if(S)return S.call(A);throw new tr(`Response type '${w}' is not supported`,tr.ERR_NOT_SUPPORT,N)})});const b=async w=>{if(w==null)return 0;if(We.isBlob(w))return w.size;if(We.isSpecCompliantForm(w))return(await new r(Ji.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(We.isArrayBufferView(w)||We.isArrayBuffer(w))return w.byteLength;if(We.isURLSearchParams(w)&&(w=w+""),We.isString(w))return(await d(w)).byteLength},y=async(w,A)=>{const N=We.toFiniteNumber(w.getContentLength());return N??b(A)};return async w=>{let{url:A,method:N,data:S,signal:E,cancelToken:k,timeout:P,onDownloadProgress:W,onUploadProgress:H,responseType:$,headers:F,withCredentials:L="same-origin",fetchOptions:J}=AO(w),M=t||fetch;$=$?($+"").toLowerCase():"text";let z=soe([E,k&&k.toAbortSignal()],P),te=null;const V=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let Z;try{if(H&&f&&N!=="get"&&N!=="head"&&(Z=await y(F,S))!==0){let je=new r(A,{method:"POST",body:S,duplex:"half"}),q;if(We.isFormData(S)&&(q=je.headers.get("content-type"))&&F.setContentType(q),je.body){const[oe,ne]=Gj(Z,Ip(Kj(H)));S=Yj(je.body,Zj,oe,ne)}}We.isString(L)||(L=L?"include":"omit");const ye=a&&"credentials"in r.prototype,ve={...J,signal:z,method:N.toUpperCase(),headers:F.normalize().toJSON(),body:S,duplex:"half",credentials:ye?L:void 0};te=a&&new r(A,ve);let me=await(a?M(te,J):M(A,ve));const Ne=m&&($==="stream"||$==="response");if(m&&(W||Ne&&V)){const je={};["status","statusText","headers"].forEach(ge=>{je[ge]=me[ge]});const q=We.toFiniteNumber(me.headers.get("content-length")),[oe,ne]=W&&Gj(q,Ip(Kj(W),!0))||[];me=new n(Yj(me.body,Zj,oe,()=>{ne&&ne(),V&&V()}),je)}$=$||"text";let Ie=await g[We.findKey(g,$)||"text"](me,w);return!Ne&&V&&V(),await new Promise((je,q)=>{wO(je,q,{data:Ie,headers:_a.from(me.headers),status:me.status,statusText:me.statusText,config:w,request:te})})}catch(ye){throw V&&V(),ye&&ye.name==="TypeError"&&/Load failed|fetch/i.test(ye.message)?Object.assign(new tr("Network Error",tr.ERR_NETWORK,w,te),{cause:ye.cause||ye}):tr.from(ye,ye&&ye.code,w,te)}}},foe=new Map,CO=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,c=o,d,f,m=foe;for(;c--;)d=a[c],f=m.get(d),f===void 0&&m.set(d,f=c?new Map:doe(t)),m=f;return f};CO();const hb={http:Tse,xhr:aoe,fetch:{get:CO}};We.forEach(hb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const tS=e=>`- ${e}`,hoe=e=>We.isFunction(e)||e===null||e===!1,jO={getAdapter:(e,t)=>{e=We.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let c;if(i=n,!hoe(n)&&(i=hb[(c=String(n)).toLowerCase()],i===void 0))throw new tr(`Unknown adapter '${c}'`);if(i&&(We.isFunction(i)||(i=i.get(t))))break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=r?o.length>1?`since :
`+o.map(tS).join(`
`):" "+tS(o[0]):"as no adapter specified";throw new tr("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:hb};function ey(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yf(null,e)}function rS(e){return ey(e),e.headers=_a.from(e.headers),e.data=Q2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jO.getAdapter(e.adapter||S0.adapter,e)(e).then(function(n){return ey(e),n.data=Q2.call(e,e.transformResponse,n),n.headers=_a.from(n.headers),n},function(n){return bO(n)||(ey(e),n&&n.response&&(n.response.data=Q2.call(e,e.transformResponse,n.response),n.response.headers=_a.from(n.response.headers))),Promise.reject(n)})}const SO="1.12.2",nx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const nS={};nx.transitional=function(t,r,n){function i(a,o){return"[Axios v"+SO+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,c)=>{if(t===!1)throw new tr(i(o," has been removed"+(r?" in "+r:"")),tr.ERR_DEPRECATED);return r&&!nS[o]&&(nS[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,c):!0}};nx.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function moe(e,t,r){if(typeof e!="object")throw new tr("options must be an object",tr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const c=e[a],d=c===void 0||o(c,a,e);if(d!==!0)throw new tr("option "+a+" must be "+d,tr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new tr("Unknown option "+a,tr.ERR_BAD_OPTION)}}const sm={assertOptions:moe,validators:nx},vo=sm.validators;let yu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Hj,response:new Hj}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ou(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&sm.assertOptions(n,{silentJSONParsing:vo.transitional(vo.boolean),forcedJSONParsing:vo.transitional(vo.boolean),clarifyTimeoutError:vo.transitional(vo.boolean)},!1),i!=null&&(We.isFunction(i)?r.paramsSerializer={serialize:i}:sm.assertOptions(i,{encode:vo.function,serialize:vo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),sm.assertOptions(r,{baseUrl:vo.spelling("baseURL"),withXsrfToken:vo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&We.merge(a.common,a[r.method]);a&&We.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),r.headers=_a.concat(o,a);const c=[];let d=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(d=d&&A.synchronous,c.unshift(A.fulfilled,A.rejected))});const f=[];this.interceptors.response.forEach(function(A){f.push(A.fulfilled,A.rejected)});let m,g=0,b;if(!d){const w=[rS.bind(this),void 0];for(w.unshift(...c),w.push(...f),b=w.length,m=Promise.resolve(r);g<b;)m=m.then(w[g++],w[g++]);return m}b=c.length;let y=r;for(;g<b;){const w=c[g++],A=c[g++];try{y=w(y)}catch(N){A.call(this,N);break}}try{m=rS.call(this,y)}catch(w){return Promise.reject(w)}for(g=0,b=f.length;g<b;)m=m.then(f[g++],f[g++]);return m}getUri(t){t=Ou(this.defaults,t);const r=NO(t.baseURL,t.url,t.allowAbsoluteUrls);return xO(r,t.params,t.paramsSerializer)}};We.forEach(["delete","get","head","options"],function(t){yu.prototype[t]=function(r,n){return this.request(Ou(n||{},{method:t,url:r,data:(n||{}).data}))}});We.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,c){return this.request(Ou(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}yu.prototype[t]=r(),yu.prototype[t+"Form"]=r(!0)});let poe=class EO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{n.subscribe(c),a=c}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,c){n.reason||(n.reason=new yf(a,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new EO(function(i){t=i}),cancel:t}}};function goe(e){return function(r){return e.apply(null,r)}}function xoe(e){return We.isObject(e)&&e.isAxiosError===!0}const mb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mb).forEach(([e,t])=>{mb[t]=e});function kO(e){const t=new yu(e),r=aO(yu.prototype.request,t);return We.extend(r,yu.prototype,t,{allOwnKeys:!0}),We.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return kO(Ou(e,i))},r}const Mr=kO(S0);Mr.Axios=yu;Mr.CanceledError=yf;Mr.CancelToken=poe;Mr.isCancel=bO;Mr.VERSION=SO;Mr.toFormData=rx;Mr.AxiosError=tr;Mr.Cancel=Mr.CanceledError;Mr.all=function(t){return Promise.all(t)};Mr.spread=goe;Mr.isAxiosError=xoe;Mr.mergeConfig=Ou;Mr.AxiosHeaders=_a;Mr.formToJSON=e=>vO(We.isHTMLForm(e)?new FormData(e):e);Mr.getAdapter=jO.getAdapter;Mr.HttpStatusCode=mb;Mr.default=Mr;const{Axios:Ole,AxiosError:Rle,CanceledError:Dle,isCancel:Lle,CancelToken:Mle,VERSION:Ble,all:Fle,Cancel:Ule,isAxiosError:Wle,spread:zle,toFormData:$le,AxiosHeaders:qle,HttpStatusCode:Hle,formToJSON:Vle,getAdapter:Gle,mergeConfig:Kle}=Mr;/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),voe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),iS=e=>{const t=voe(e);return t.charAt(0).toUpperCase()+t.slice(1)},TO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),boe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var woe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...c},d)=>I.createElement("svg",{ref:d,...woe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:TO("lucide",i),...!a&&!boe(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,m])=>I.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=(e,t)=>{const r=I.forwardRef(({className:n,...i},a)=>I.createElement(Noe,{ref:a,iconNode:t,className:TO(`lucide-${yoe(iS(e))}`,`lucide-${e}`,n),...i}));return r.displayName=iS(e),r};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],aS=ma("activity",Aoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sS=ma("briefcase",Coe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],oS=ma("building-2",joe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Eoe=ma("calendar",Soe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Toe=ma("camera",koe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lS=ma("check",_oe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cS=ma("lock",Ioe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ooe=ma("mail",Poe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Doe=ma("phone",Roe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Moe=ma("refresh-cw",Loe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_O=ma("save",Boe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pb=ma("shield",Foe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Woe=ma("users",Uoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ty=ma("user",zoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uS=ma("x",$oe),qoe=()=>{const[e,t]=I.useState("personal"),[r,n]=I.useState(null),[i,a]=I.useState(null),[o,c]=I.useState(!0),[d,f]=I.useState(!1),[m,g]=I.useState(null),[b,y]=I.useState({name:"",phone:"",skills:"",position:"",department:""}),[w,A]=I.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[N,S]=I.useState("");I.useEffect(()=>{E(),k()},[]);const E=async()=>{try{const L=localStorage.getItem("authToken"),J=await Mr.get("/api/users/profile/me",{headers:{Authorization:`Bearer ${L}`}});if(J.data.success){const M=J.data.data;n(M),y({name:M.name||"",phone:M.phone||"",skills:M.skills||"",position:M.position||"",department:M.department||""}),S(M.avatar||"")}}catch(L){console.error("Failed to fetch profile:",L),P("error","Failed to load profile")}finally{c(!1)}},k=async()=>{try{const L=localStorage.getItem("authToken"),J=await Mr.get("/api/users/profile/stats",{headers:{Authorization:`Bearer ${L}`}});J.data.success&&a(J.data.data.stats)}catch(L){console.error("Failed to fetch stats:",L)}},P=(L,J)=>{g({type:L,text:J}),setTimeout(()=>g(null),5e3)},W=async L=>{var J,M;L.preventDefault(),f(!0);try{const z=localStorage.getItem("authToken"),te=await Mr.put("/api/users/profile/me",b,{headers:{Authorization:`Bearer ${z}`}});te.data.success&&(n(te.data.data),P("success","Profile updated successfully!"))}catch(z){console.error("Failed to update profile:",z),P("error",((M=(J=z.response)==null?void 0:J.data)==null?void 0:M.error)||"Failed to update profile")}finally{f(!1)}},H=async L=>{var J,M;if(L.preventDefault(),w.newPassword!==w.confirmPassword){P("error","New passwords do not match");return}if(w.newPassword.length<6){P("error","Password must be at least 6 characters long");return}f(!0);try{const z=localStorage.getItem("authToken");(await Mr.put("/api/users/profile/password",{currentPassword:w.currentPassword,newPassword:w.newPassword},{headers:{Authorization:`Bearer ${z}`}})).data.success&&(A({currentPassword:"",newPassword:"",confirmPassword:""}),P("success","Password changed successfully!"))}catch(z){console.error("Failed to change password:",z),P("error",((M=(J=z.response)==null?void 0:J.data)==null?void 0:M.error)||"Failed to change password")}finally{f(!1)}},$=async()=>{var L,J;if(!N.trim()){P("error","Please enter an avatar URL");return}f(!0);try{const M=localStorage.getItem("authToken");(await Mr.put("/api/users/profile/avatar",{avatar:N},{headers:{Authorization:`Bearer ${M}`}})).data.success&&(r&&n({...r,avatar:N}),P("success","Avatar updated successfully!"))}catch(M){console.error("Failed to update avatar:",M),P("error",((J=(L=M.response)==null?void 0:L.data)==null?void 0:J.error)||"Failed to update avatar")}finally{f(!1)}},F=L=>{switch(L){case"ADMIN":return"bg-red-100 text-red-800";case"MANAGER":return"bg-green-100 text-green-800";case"WORKER":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 h-32"}),s.jsxs("div",{className:"px-6 pb-6",children:[s.jsxs("div",{className:"flex items-end -mt-16 mb-4",children:[s.jsxs("div",{className:"relative",children:[r.avatar?s.jsx("img",{src:r.avatar,alt:r.name,className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover"}):s.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-white shadow-lg bg-gray-200 flex items-center justify-center",children:s.jsx(ty,{className:"w-16 h-16 text-gray-400"})}),s.jsx("button",{onClick:()=>t("personal"),className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:s.jsx(Toe,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"ml-6 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.name}),s.jsx("p",{className:"text-gray-600",children:r.email}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${F(r.role)}`,children:r.role}),r.position&&s.jsxs("span",{className:"text-gray-600 text-sm",children:["• ",r.position]}),r.department&&s.jsxs("span",{className:"text-gray-600 text-sm",children:["• ",r.department]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center gap-4",children:[r.company.logo?s.jsx("img",{src:r.company.logo,alt:r.company.name,className:"w-12 h-12 object-contain"}):s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:s.jsx(oS,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:r.company.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Plan: ",r.company.plan]})]})]})]})]}),m&&s.jsx("div",{className:`px-4 py-3 rounded-lg border ${m.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:m.text}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex -mb-px",children:[s.jsxs("button",{onClick:()=>t("personal"),className:`px-6 py-3 border-b-2 font-medium text-sm ${e==="personal"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ty,{className:"w-4 h-4 inline mr-2"}),"Personal Info"]}),s.jsxs("button",{onClick:()=>t("security"),className:`px-6 py-3 border-b-2 font-medium text-sm ${e==="security"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(cS,{className:"w-4 h-4 inline mr-2"}),"Security"]}),s.jsxs("button",{onClick:()=>t("activity"),className:`px-6 py-3 border-b-2 font-medium text-sm ${e==="activity"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(aS,{className:"w-4 h-4 inline mr-2"}),"Activity"]})]})}),s.jsxs("div",{className:"p-6",children:[e==="personal"&&s.jsxs("form",{onSubmit:W,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ty,{className:"w-4 h-4 inline mr-1"}),"Full Name"]}),s.jsx("input",{type:"text",value:b.name,onChange:L=>y({...b,name:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ooe,{className:"w-4 h-4 inline mr-1"}),"Email"]}),s.jsx("input",{type:"email",value:r.email,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Doe,{className:"w-4 h-4 inline mr-1"}),"Phone"]}),s.jsx("input",{type:"tel",value:b.phone,onChange:L=>y({...b,phone:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(sS,{className:"w-4 h-4 inline mr-1"}),"Position"]}),s.jsx("input",{type:"text",value:b.position,onChange:L=>y({...b,position:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Warehouse Manager"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(oS,{className:"w-4 h-4 inline mr-1"}),"Department"]}),s.jsx("input",{type:"text",value:b.department,onChange:L=>y({...b,department:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Operations"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(pb,{className:"w-4 h-4 inline mr-1"}),"Role"]}),s.jsx("input",{type:"text",value:r.role,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Role can only be changed by admins"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),s.jsx("textarea",{value:b.skills,onChange:L=>y({...b,skills:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"e.g., Forklift, Inventory Management, Safety Certified"})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Avatar"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"url",value:N,onChange:L=>S(L.target.value),placeholder:"Enter avatar URL",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{type:"button",onClick:$,disabled:d,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Update Avatar"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 border-t pt-6",children:[s.jsxs("button",{type:"button",onClick:()=>E(),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(uS,{className:"w-4 h-4 inline mr-2"}),"Cancel"]}),s.jsxs("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(_O,{className:"w-4 h-4 inline mr-2"}),d?"Saving...":"Save Changes"]})]})]}),e==="security"&&s.jsxs("form",{onSubmit:H,className:"space-y-6 max-w-2xl",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Change Password"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),s.jsx("input",{type:"password",value:w.currentPassword,onChange:L=>A({...w,currentPassword:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsx("input",{type:"password",value:w.newPassword,onChange:L=>A({...w,newPassword:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsx("input",{type:"password",value:w.confirmPassword,onChange:L=>A({...w,confirmPassword:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,minLength:6})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-800 font-semibold mb-2",children:"Password Requirements:"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"At least 6 characters long"}),s.jsx("li",{children:"Use a mix of letters and numbers"}),s.jsx("li",{children:"Avoid common passwords"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 border-t pt-6",children:[s.jsxs("button",{type:"button",onClick:()=>A({currentPassword:"",newPassword:"",confirmPassword:""}),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(uS,{className:"w-4 h-4 inline mr-2"}),"Cancel"]}),s.jsxs("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(cS,{className:"w-4 h-4 inline mr-2"}),d?"Changing...":"Change Password"]})]})]}),e==="activity"&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Rack Activities"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:i.rackActivities})]}),s.jsx(aS,{className:"w-12 h-12 text-blue-400"})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Job Assignments"}),s.jsx("p",{className:"text-3xl font-bold text-green-900 mt-2",children:i.jobAssignments})]}),s.jsx(sS,{className:"w-12 h-12 text-green-400"})]})}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Days Active"}),s.jsx("p",{className:"text-3xl font-bold text-purple-900 mt-2",children:i.daysSinceJoined})]}),s.jsx(Eoe,{className:"w-12 h-12 text-purple-400"})]})})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Account Information"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Account Created:"}),s.jsx("span",{className:"font-medium",children:new Date(r.createdAt).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),s.jsx("span",{className:"font-medium",children:new Date(r.updatedAt).toLocaleDateString()})]}),i.lastLoginAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Last Login:"}),s.jsx("span",{className:"font-medium",children:new Date(i.lastLoginAt).toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Account Status:"}),s.jsx("span",{className:`font-medium ${r.isActive?"text-green-600":"text-red-600"}`,children:r.isActive?"Active":"Inactive"})]})]})]})]})]})]})]}):s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Failed to load profile"})},Hoe=["ADMIN","MANAGER","WORKER"],Voe={ADMIN:"bg-red-100 text-red-800 border-red-200",MANAGER:"bg-green-100 text-green-800 border-green-200",WORKER:"bg-blue-100 text-blue-800 border-blue-200"},Goe=()=>{const[e,t]=I.useState("MANAGER"),[r,n]=I.useState([]),[i,a]=I.useState({}),[o,c]=I.useState([]),[d,f]=I.useState(new Set),[m,g]=I.useState(!0),[b,y]=I.useState(!1),[w,A]=I.useState(null);I.useEffect(()=>{N()},[]),I.useEffect(()=>{e&&S(e)},[e]);const N=async()=>{try{const F=localStorage.getItem("authToken"),L=await Mr.get("/api/permissions",{headers:{Authorization:`Bearer ${F}`}});L.data.success&&(n(L.data.data.permissions),a(L.data.data.grouped))}catch(F){console.error("Failed to fetch permissions:",F),H("error","Failed to load permissions")}finally{g(!1)}},S=async F=>{try{const L=localStorage.getItem("authToken"),J=await Mr.get(`/api/permissions/role/${F}`,{headers:{Authorization:`Bearer ${L}`}});if(J.data.success){c(J.data.data.permissions);const M=new Set(J.data.data.permissions.map(z=>z.permissionId));f(M)}}catch(L){console.error("Failed to fetch role permissions:",L),H("error","Failed to load role permissions")}},E=F=>{if(e==="ADMIN"){H("error","ADMIN role has full access and cannot be modified");return}const L=new Set(d);L.has(F)?L.delete(F):L.add(F),f(L)},k=F=>{if(e==="ADMIN"){H("error","ADMIN role has full access and cannot be modified");return}const L=i[F]||[],J=L.every(z=>d.has(z.id)),M=new Set(d);L.forEach(z=>{J?M.delete(z.id):M.add(z.id)}),f(M)},P=async()=>{var F,L;if(e==="ADMIN"){H("error","ADMIN role has full access and cannot be modified");return}y(!0);try{const J=localStorage.getItem("authToken");(await Mr.put(`/api/permissions/role/${e}/bulk`,{permissionIds:Array.from(d)},{headers:{Authorization:`Bearer ${J}`}})).data.success&&(H("success",`Permissions updated for ${e}!`),await S(e))}catch(J){console.error("Failed to update permissions:",J),H("error",((L=(F=J.response)==null?void 0:F.data)==null?void 0:L.message)||"Failed to update permissions")}finally{y(!1)}},W=()=>{S(e),H("success","Changes discarded")},H=(F,L)=>{A({type:F,text:L}),setTimeout(()=>A(null),5e3)},$=()=>d.size;return m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[s.jsx(pb,{className:"w-6 h-6 mr-2 text-blue-600"}),"Role & Permission Management"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure what each role can see and do in the system"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Permissions:"}),s.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[$(),"/",r.length]})]})]})}),w&&s.jsx("div",{className:`px-4 py-3 rounded-lg border ${w.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:w.text}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex",children:Hoe.map(F=>s.jsx("button",{onClick:()=>t(F),className:`flex-1 px-6 py-4 border-b-2 font-medium text-sm transition-colors ${e===F?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(pb,{className:"w-4 h-4"}),s.jsx("span",{children:F})]})},F))})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:`border-2 rounded-lg p-4 mb-6 ${Voe[e]}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["Configuring: ",e]}),s.jsxs("p",{className:"text-sm mt-1",children:[e==="ADMIN"&&"Full system access - cannot be modified",e==="MANAGER"&&"Operational control - can manage daily tasks",e==="WORKER"&&"Limited access - basic operational tasks"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Woe,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:[o.length," permissions assigned"]})]})]})}),s.jsx("div",{className:"space-y-4",children:Object.entries(i).map(([F,L])=>{const J=L.every(z=>d.has(z.id)),M=L.some(z=>d.has(z.id));return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>k(F),disabled:e==="ADMIN",className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${e==="ADMIN"?"bg-gray-200 border-gray-300 cursor-not-allowed":J?"bg-blue-600 border-blue-600":M?"bg-blue-300 border-blue-300":"border-gray-300 hover:border-blue-400"}`,children:[J&&s.jsx(lS,{className:"w-3 h-3 text-white"}),!J&&M&&s.jsx("div",{className:"w-2 h-0.5 bg-white"})]}),s.jsx("h4",{className:"font-semibold text-gray-900",children:F.replace(/_/g," ")})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[L.filter(z=>d.has(z.id)).length," / ",L.length]})]}),s.jsx("div",{className:"p-4 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:L.map(z=>s.jsx("button",{onClick:()=>E(z.id),disabled:e==="ADMIN",className:`px-4 py-2 rounded-lg border-2 font-medium text-sm transition-all ${e==="ADMIN"?"bg-gray-100 border-gray-200 text-gray-500 cursor-not-allowed":d.has(z.id)?"bg-blue-600 border-blue-600 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-700 hover:border-blue-400"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.has(z.id)&&s.jsx(lS,{className:"w-4 h-4"}),z.action]})},z.id))})]},F)})}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t",children:[s.jsxs("button",{onClick:W,disabled:e==="ADMIN"||b,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Moe,{className:"w-4 h-4 inline mr-2"}),"Reset Changes"]}),s.jsxs("button",{onClick:P,disabled:e==="ADMIN"||b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(_O,{className:"w-4 h-4 inline mr-2"}),b?"Saving...":"Save Changes"]})]}),e==="ADMIN"&&s.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Note:"})," ADMIN role has full system access by default and cannot be modified. To restrict admin permissions, consider creating a custom MANAGER role instead."]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Permission Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"VIEW"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Read and view data"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"CREATE"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Create new records"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"EDIT"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Modify existing data"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"DELETE"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Remove records"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"APPROVE"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Approve requests"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"EXPORT"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Export data files"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"MANAGE"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Full control"})]})]})]})]})},Koe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!1),[i,a]=I.useState(!1),[o,c]=I.useState({jobCode:"",jobTitle:"",clientName:"",clientPhone:"",clientEmail:"",jobDate:"",jobAddress:"",dropoffAddress:"",notes:""});I.useEffect(()=>{d()},[]);const d=async()=>{n(!0);try{const g=await fetch("/api/moving-jobs",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(g.ok){const b=await g.json();t(b)}}catch(g){console.error("Failed to fetch jobs:",g)}finally{n(!1)}},f=async g=>{g.preventDefault();try{(await fetch("/api/moving-jobs",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(o)})).ok&&(a(!1),c({jobCode:"",jobTitle:"",clientName:"",clientPhone:"",clientEmail:"",jobDate:"",jobAddress:"",dropoffAddress:"",notes:""}),d())}catch(b){console.error("Failed to create job:",b)}},m=g=>({PLANNED:"#17a2b8",DISPATCHED:"#ffc107",IN_PROGRESS:"#007bff",COMPLETED:"#28a745",CLOSED:"#6c757d",CANCELLED:"#dc3545"})[g]||"#6c757d";return s.jsxs("div",{style:{padding:"20px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[s.jsx("h2",{children:"Moving Jobs Management"}),s.jsx("button",{onClick:()=>a(!i),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:i?"Cancel":"Create New Job"})]}),i&&s.jsx("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Job Code *"}),s.jsx("input",{type:"text",required:!0,value:o.jobCode,onChange:g=>c({...o,jobCode:g.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Job Title *"}),s.jsx("input",{type:"text",required:!0,value:o.jobTitle,onChange:g=>c({...o,jobTitle:g.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Client Name *"}),s.jsx("input",{type:"text",required:!0,value:o.clientName,onChange:g=>c({...o,clientName:g.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Client Phone *"}),s.jsx("input",{type:"tel",required:!0,value:o.clientPhone,onChange:g=>c({...o,clientPhone:g.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Job Date *"}),s.jsx("input",{type:"datetime-local",required:!0,value:o.jobDate,onChange:g=>c({...o,jobDate:g.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Job Address *"}),s.jsx("input",{type:"text",required:!0,value:o.jobAddress,onChange:g=>c({...o,jobAddress:g.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box"}})]}),s.jsx("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Create Job"})]})}),s.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[r?s.jsx("p",{children:"Loading..."}):s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Job Code"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Job Title"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Client"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Date"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Status"})]})}),s.jsx("tbody",{children:e.map(g=>s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:g.jobCode}),s.jsx("td",{style:{padding:"12px"},children:g.jobTitle}),s.jsx("td",{style:{padding:"12px"},children:g.clientName}),s.jsx("td",{style:{padding:"12px"},children:new Date(g.jobDate).toLocaleDateString()}),s.jsx("td",{style:{padding:"12px"},children:s.jsx("span",{style:{backgroundColor:m(g.status),color:"white",padding:"4px 8px",borderRadius:"3px",fontSize:"12px",fontWeight:"bold"},children:g.status})})]},g.id))})]}),e.length===0&&!r&&s.jsx("p",{style:{textAlign:"center",color:"#6c757d"},children:"No jobs found. Create one to get started!"})]})]})},Xoe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[i,a]=I.useState(!1),[o,c]=I.useState("materials"),[d,f]=I.useState(!1),[m,g]=I.useState({sku:"",name:"",category:"",unit:"PCS",minStockLevel:0});I.useEffect(()=>{b(),y()},[]);const b=async()=>{try{const A=await fetch("/api/materials",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(A.ok){const N=await A.json();t(N)}}catch(A){console.error("Failed to fetch materials:",A)}},y=async()=>{try{const A=await fetch("/api/materials/issues",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(A.ok){const N=await A.json();n(N)}}catch(A){console.error("Failed to fetch issues:",A)}},w=async A=>{A.preventDefault();try{(await fetch("/api/materials",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(m)})).ok&&(f(!1),g({sku:"",name:"",category:"",unit:"PCS",minStockLevel:0}),b())}catch(N){console.error("Failed to add material:",N)}};return s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"mb-4",children:"Materials Management"}),s.jsxs("div",{className:"mb-4",style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("button",{onClick:()=>c("materials"),style:{padding:"10px 20px",backgroundColor:o==="materials"?"#007bff":"transparent",color:o==="materials"?"white":"black",border:"none",cursor:"pointer",marginRight:"10px"},children:"Materials Catalog"}),s.jsx("button",{onClick:()=>c("issues"),style:{padding:"10px 20px",backgroundColor:o==="issues"?"#007bff":"transparent",color:o==="issues"?"white":"black",border:"none",cursor:"pointer",marginRight:"10px"},children:"Material Issues"}),s.jsx("button",{onClick:()=>c("returns"),style:{padding:"10px 20px",backgroundColor:o==="returns"?"#007bff":"transparent",color:o==="returns"?"white":"black",border:"none",cursor:"pointer"},children:"Material Returns & Damage"})]}),o==="materials"&&s.jsxs("div",{children:[s.jsx("button",{onClick:()=>f(!d),style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"20px"},children:d?"Cancel":"Add Material"}),d&&s.jsx("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"4px",marginBottom:"20px"},children:s.jsxs("form",{onSubmit:w,children:[s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"SKU"}),s.jsx("input",{type:"text",required:!0,value:m.sku,onChange:A=>g({...m,sku:A.target.value}),style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Name"}),s.jsx("input",{type:"text",required:!0,value:m.name,onChange:A=>g({...m,name:A.target.value}),style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Category"}),s.jsx("input",{type:"text",required:!0,value:m.category,onChange:A=>g({...m,category:A.target.value}),style:{width:"100%",padding:"8px",boxSizing:"border-box"}})]}),s.jsx("button",{type:"submit",style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Create Material"})]})}),s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"SKU"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Name"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Category"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Unit"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Min Stock"})]})}),s.jsx("tbody",{children:e.map(A=>s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:A.sku}),s.jsx("td",{style:{padding:"12px"},children:A.name}),s.jsx("td",{style:{padding:"12px"},children:A.category}),s.jsx("td",{style:{padding:"12px"},children:A.unit}),s.jsx("td",{style:{padding:"12px"},children:A.minStockLevel})]},A.id))})]}),e.length===0&&s.jsx("p",{style:{textAlign:"center",color:"#6c757d",marginTop:"20px"},children:"No materials found. Create one to get started!"})]}),o==="issues"&&s.jsxs("div",{children:[s.jsx("h5",{style:{marginBottom:"20px"},children:"Material Issues (Allocations to Jobs)"}),s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Material"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Quantity"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Total Cost"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Job ID"})]})}),s.jsx("tbody",{children:r.map(A=>{var N;return s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:(N=A.material)==null?void 0:N.name}),s.jsx("td",{style:{padding:"12px"},children:A.quantity}),s.jsxs("td",{style:{padding:"12px"},children:[A.totalCost.toFixed(2)," KWD"]}),s.jsx("td",{style:{padding:"12px"},children:A.jobId})]},A.id)})})]}),r.length===0&&s.jsx("p",{style:{textAlign:"center",color:"#6c757d",marginTop:"20px"},children:"No material issues recorded yet."})]}),o==="returns"&&s.jsxs("div",{children:[s.jsx("h5",{style:{marginBottom:"20px"},children:"Material Returns & Damage Tracking"}),s.jsx("p",{style:{color:"#6c757d"},children:"Track material returns after job completion and record damage."}),s.jsx("div",{style:{padding:"20px",backgroundColor:"#e7f3ff",borderRadius:"4px",marginTop:"20px"},children:s.jsx("p",{children:"📋 Coming soon: Return request form and damage photo upload"})})]})]})},Yoe=()=>{const[e,t]=I.useState(null),[r,n]=I.useState([]),[i,a]=I.useState("summary"),[o,c]=I.useState(!1);I.useEffect(()=>{d()},[]);const d=async()=>{c(!0);try{const[m,g]=await Promise.all([fetch("/api/reports/profitability",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("/api/reports/material-costs",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]);if(m.ok){const b=await m.json();t(b)}if(g.ok){const b=await g.json();n(b)}}catch(m){console.error("Failed to fetch reports:",m)}finally{c(!1)}},f=m=>`${m.toFixed(2)} KWD`;return s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"mb-4",children:"Job Reports & Financial Analytics"}),s.jsxs("div",{className:"mb-4",style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("button",{onClick:()=>a("summary"),style:{padding:"10px 20px",backgroundColor:i==="summary"?"#007bff":"transparent",color:i==="summary"?"white":"black",border:"none",cursor:"pointer",marginRight:"10px"},children:"Profitability Summary"}),s.jsx("button",{onClick:()=>a("details"),style:{padding:"10px 20px",backgroundColor:i==="details"?"#007bff":"transparent",color:i==="details"?"white":"black",border:"none",cursor:"pointer",marginRight:"10px"},children:"Cost Breakdown"}),s.jsx("button",{onClick:()=>a("costs"),style:{padding:"10px 20px",backgroundColor:i==="costs"?"#007bff":"transparent",color:i==="costs"?"white":"black",border:"none",cursor:"pointer"},children:"Material Costs"})]}),o?s.jsx("p",{children:"Loading reports..."}):s.jsxs(s.Fragment,{children:[i==="summary"&&e&&s.jsx("div",{children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[s.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",borderLeft:"4px solid #28a745"},children:[s.jsx("h6",{style:{color:"#6c757d",marginBottom:"10px"},children:"Total Revenue"}),s.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"#28a745"},children:f(e.totalRevenue)})]}),s.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",borderLeft:"4px solid #dc3545"},children:[s.jsx("h6",{style:{color:"#6c757d",marginBottom:"10px"},children:"Total Costs"}),s.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"#dc3545"},children:f(e.totalCosts)})]}),s.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",borderLeft:`4px solid ${e.totalProfit>=0?"#28a745":"#dc3545"}`},children:[s.jsx("h6",{style:{color:"#6c757d",marginBottom:"10px"},children:"Total Profit"}),s.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",color:e.totalProfit>=0?"#28a745":"#dc3545"},children:f(e.totalProfit)})]}),s.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",borderLeft:"4px solid #007bff"},children:[s.jsx("h6",{style:{color:"#6c757d",marginBottom:"10px"},children:"Avg Profit Margin"}),s.jsxs("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"#007bff"},children:[e.avgProfitMargin.toFixed(1),"%"]})]}),s.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",borderLeft:"4px solid #17a2b8"},children:[s.jsx("h6",{style:{color:"#6c757d",marginBottom:"10px"},children:"Jobs Tracked"}),s.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"#17a2b8"},children:e.jobCount})]})]})}),i==="details"&&e&&s.jsxs("div",{children:[s.jsx("h5",{style:{marginBottom:"20px"},children:"Cost Breakdown"}),s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Cost Category"}),s.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Amount"}),s.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"% of Total"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:"Materials"}),s.jsx("td",{style:{padding:"12px",textAlign:"right"},children:f(e.breakdown.materials)}),s.jsxs("td",{style:{padding:"12px",textAlign:"right"},children:[e.totalCosts>0?(e.breakdown.materials/e.totalCosts*100).toFixed(1):0,"%"]})]}),s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:"Labor"}),s.jsx("td",{style:{padding:"12px",textAlign:"right"},children:f(e.breakdown.labor)}),s.jsxs("td",{style:{padding:"12px",textAlign:"right"},children:[e.totalCosts>0?(e.breakdown.labor/e.totalCosts*100).toFixed(1):0,"%"]})]}),s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:"Damage Loss"}),s.jsx("td",{style:{padding:"12px",textAlign:"right"},children:f(e.breakdown.damage)}),s.jsxs("td",{style:{padding:"12px",textAlign:"right"},children:[e.totalCosts>0?(e.breakdown.damage/e.totalCosts*100).toFixed(1):0,"%"]})]}),s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:"Other"}),s.jsx("td",{style:{padding:"12px",textAlign:"right"},children:f(e.breakdown.other)}),s.jsxs("td",{style:{padding:"12px",textAlign:"right"},children:[e.totalCosts>0?(e.breakdown.other/e.totalCosts*100).toFixed(1):0,"%"]})]}),s.jsxs("tr",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold"},children:[s.jsx("td",{style:{padding:"12px"},children:"Total Costs"}),s.jsx("td",{style:{padding:"12px",textAlign:"right"},children:f(e.totalCosts)}),s.jsx("td",{style:{padding:"12px",textAlign:"right"},children:"100%"})]})]})]})]}),i==="costs"&&s.jsxs("div",{children:[s.jsx("h5",{style:{marginBottom:"20px"},children:"Material Cost Details"}),s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Material"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"SKU"}),s.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Quantity"}),s.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Total Cost"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Job"})]})}),s.jsx("tbody",{children:r.map((m,g)=>s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:m.materialName}),s.jsx("td",{style:{padding:"12px"},children:m.materialSku}),s.jsx("td",{style:{padding:"12px",textAlign:"right"},children:m.quantity}),s.jsx("td",{style:{padding:"12px",textAlign:"right"},children:f(m.totalCost)}),s.jsx("td",{style:{padding:"12px"},children:m.jobCode})]},g))})]}),r.length===0&&s.jsx("p",{style:{textAlign:"center",color:"#6c757d",marginTop:"20px"},children:"No material costs recorded yet."})]})]})]})},Zoe=()=>{var E;const[e,t]=I.useState([]),[r,n]=I.useState([]),[i,a]=I.useState("plugins"),[o,c]=I.useState(!1),[d,f]=I.useState(null),[m,g]=I.useState({name:"",version:"1.0.0",description:""});I.useEffect(()=>{b()},[]);const b=async()=>{c(!0);try{const k=await fetch("/api/plugins",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(k.ok){const P=await k.json();t(P)}}catch(k){console.error("Failed to fetch plugins:",k)}finally{c(!1)}},y=async k=>{try{const P=await fetch(`/api/plugins/${k}/logs`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(P.ok){const W=await P.json();n(W)}}catch(P){console.error("Failed to fetch plugin logs:",P)}},w=async k=>{k.preventDefault(),c(!0);try{(await fetch("/api/plugins",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(m)})).ok?(alert("Plugin installed successfully"),g({name:"",version:"1.0.0",description:""}),a("plugins"),b()):alert("Failed to install plugin")}catch(P){console.error("Installation error:",P),alert("Error installing plugin")}finally{c(!1)}},A=async(k,P)=>{try{(await fetch(`/api/plugins/${k}/${P?"activate":"deactivate"}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?b():alert("Failed to update plugin")}catch(W){console.error("Error:",W)}},N=async k=>{if(window.confirm("Are you sure you want to uninstall this plugin?"))try{(await fetch(`/api/plugins/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(alert("Plugin uninstalled successfully"),b()):alert("Failed to uninstall plugin")}catch(P){console.error("Error:",P)}},S=k=>{switch(k){case"ACTIVE":return"#28a745";case"DISABLED":return"#ffc107";case"ERROR":return"#dc3545";default:return"#6c757d"}};return s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"mb-4",children:"Plugin System Management"}),s.jsxs("div",{className:"mb-4",style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("button",{onClick:()=>a("plugins"),style:{padding:"10px 20px",backgroundColor:i==="plugins"?"#007bff":"transparent",color:i==="plugins"?"white":"black",border:"none",cursor:"pointer",marginRight:"10px"},children:"Installed Plugins"}),s.jsx("button",{onClick:()=>a("install"),style:{padding:"10px 20px",backgroundColor:i==="install"?"#007bff":"transparent",color:i==="install"?"white":"black",border:"none",cursor:"pointer",marginRight:"10px"},children:"Install Plugin"}),s.jsx("button",{onClick:()=>{a("logs"),d&&y(d)},style:{padding:"10px 20px",backgroundColor:i==="logs"?"#007bff":"transparent",color:i==="logs"?"white":"black",border:"none",cursor:"pointer"},children:"Audit Logs"})]}),o&&s.jsx("p",{children:"Loading..."}),i==="plugins"&&!o&&s.jsx("div",{children:e.length===0?s.jsx("p",{style:{color:"#6c757d"},children:"No plugins installed yet."}):s.jsx("div",{style:{display:"grid",gap:"15px"},children:e.map(k=>s.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",borderLeft:`4px solid ${S(k.status)}`},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"10px"},children:[s.jsxs("div",{children:[s.jsx("h5",{style:{marginBottom:"5px"},children:k.name}),s.jsxs("small",{style:{color:"#6c757d"},children:["Version ",k.version," • Installed: ",new Date(k.installDate).toLocaleDateString()]})]}),s.jsx("span",{style:{backgroundColor:S(k.status),color:"white",padding:"5px 10px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},children:k.status})]}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{onClick:()=>A(k.id,k.status!=="ACTIVE"),style:{padding:"8px 12px",backgroundColor:k.status==="ACTIVE"?"#ffc107":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:k.status==="ACTIVE"?"Disable":"Enable"}),s.jsx("button",{onClick:()=>{f(k.id),a("logs"),y(k.id)},style:{padding:"8px 12px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"View Logs"}),s.jsx("button",{onClick:()=>N(k.id),style:{padding:"8px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Uninstall"})]})]},k.id))})}),i==="install"&&s.jsxs("form",{onSubmit:w,style:{maxWidth:"500px"},children:[s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Plugin Name *"}),s.jsx("input",{type:"text",required:!0,value:m.name,onChange:k=>g({...m,name:k.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box"},placeholder:"e.g., Advanced Reporting"})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Version"}),s.jsx("input",{type:"text",value:m.version,onChange:k=>g({...m,version:k.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box"},placeholder:"1.0.0"})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Description"}),s.jsx("textarea",{value:m.description,onChange:k=>g({...m,description:k.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box",minHeight:"100px"},placeholder:"Plugin description and features..."})]}),s.jsx("button",{type:"submit",disabled:o,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:o?"not-allowed":"pointer",fontWeight:"bold",opacity:o?.6:1},children:o?"Installing...":"Install Plugin"})]}),i==="logs"&&s.jsx("div",{children:d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{marginBottom:"20px"},children:s.jsxs("h5",{children:["Plugin: ",(E=e.find(k=>k.id===d))==null?void 0:E.name]})}),r.length===0?s.jsx("p",{style:{color:"#6c757d"},children:"No logs available for this plugin."}):s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Timestamp"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Action"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Performed By"}),s.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Details"})]})}),s.jsx("tbody",{children:r.map(k=>s.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[s.jsx("td",{style:{padding:"12px"},children:new Date(k.timestamp).toLocaleString()}),s.jsx("td",{style:{padding:"12px"},children:s.jsx("span",{style:{backgroundColor:k.action==="INSTALLED"?"#28a745":k.action==="ACTIVATED"?"#17a2b8":k.action==="DEACTIVATED"?"#ffc107":k.action==="UNINSTALLED"?"#dc3545":"#6c757d",color:"white",padding:"4px 8px",borderRadius:"3px",fontSize:"12px",fontWeight:"bold"},children:k.action})}),s.jsx("td",{style:{padding:"12px"},children:k.performedBy}),s.jsx("td",{style:{padding:"12px",color:"#6c757d"},children:k.details||"-"})]},k.id))})]})]})})]})},Joe=()=>{const[e,t]=I.useState([]),[r,n]=I.useState([]),[i,a]=I.useState("PENDING"),[o,c]=I.useState("ALL"),[d,f]=I.useState(null),[m,g]=I.useState(""),[b,y]=I.useState(!1);I.useEffect(()=>{w()},[]),I.useEffect(()=>{A()},[e,i,o]);const w=async()=>{y(!0);try{const P=await fetch("/api/materials/approvals",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(P.ok){const W=await P.json();t(W)}}catch(P){console.error("Failed to fetch approvals:",P)}finally{y(!1)}},A=()=>{let P=e;i!=="ALL"&&(P=P.filter(W=>W.status===i)),o!=="ALL"&&(P=P.filter(W=>W.approvalType===o)),n(P)},N=async P=>{try{(await fetch(`/api/materials/approvals/${P}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({decision:"APPROVED",notes:m})})).ok?(alert("Approval recorded successfully"),f(null),g(""),w()):alert("Failed to record approval")}catch(W){console.error("Error:",W)}},S=async P=>{try{(await fetch(`/api/materials/approvals/${P}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({decision:"REJECTED",notes:m})})).ok?(alert("Rejection recorded successfully"),f(null),g(""),w()):alert("Failed to record rejection")}catch(W){console.error("Error:",W)}},E=P=>({DAMAGE:"#dc3545",PREMIUM_MATERIAL:"#007bff",QUANTITY_VARIATION:"#ffc107"})[P]||"#6c757d",k=P=>({PENDING:"#ffc107",APPROVED:"#28a745",REJECTED:"#dc3545"})[P]||"#6c757d";return s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"mb-4",children:"Approval Workflow Management"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Status"}),s.jsxs("select",{value:i,onChange:P=>a(P.target.value),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px"},children:[s.jsx("option",{value:"ALL",children:"All Statuses"}),s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"APPROVED",children:"Approved"}),s.jsx("option",{value:"REJECTED",children:"Rejected"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Type"}),s.jsxs("select",{value:o,onChange:P=>c(P.target.value),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px"},children:[s.jsx("option",{value:"ALL",children:"All Types"}),s.jsx("option",{value:"DAMAGE",children:"Damage Claims"}),s.jsx("option",{value:"PREMIUM_MATERIAL",children:"Premium Materials"}),s.jsx("option",{value:"QUANTITY_VARIATION",children:"Quantity Variations"})]})]}),s.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:s.jsx("button",{onClick:w,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Refresh"})})]}),b?s.jsx("p",{children:"Loading approvals..."}):r.length===0?s.jsx("p",{style:{color:"#6c757d"},children:"No approvals found."}):s.jsx("div",{style:{display:"grid",gap:"15px"},children:r.map(P=>s.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",borderLeft:`4px solid ${k(P.status)}`},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"10px"},children:[s.jsxs("div",{children:[s.jsx("h5",{style:{marginBottom:"5px"},children:P.materialName}),s.jsxs("small",{style:{color:"#6c757d"},children:["SKU: ",P.materialSku," • Category: ",P.category,P.jobCode&&` • Job: ${P.jobCode}`]})]}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("span",{style:{backgroundColor:E(P.approvalType),color:"white",padding:"4px 8px",borderRadius:"3px",fontSize:"12px",fontWeight:"bold"},children:P.approvalType.replace(/_/g," ")}),s.jsx("span",{style:{backgroundColor:k(P.status),color:"white",padding:"4px 8px",borderRadius:"3px",fontSize:"12px",fontWeight:"bold"},children:P.status})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px",marginBottom:"15px"},children:[s.jsxs("div",{children:[s.jsx("small",{style:{color:"#6c757d"},children:"Quantity"}),s.jsxs("p",{style:{fontWeight:"bold",margin:"3px 0"},children:[P.quantity," units"]})]}),s.jsxs("div",{children:[s.jsx("small",{style:{color:"#6c757d"},children:"Estimated Cost"}),s.jsxs("p",{style:{fontWeight:"bold",margin:"3px 0"},children:[P.estimatedCost.toFixed(2)," KWD"]})]}),s.jsxs("div",{children:[s.jsx("small",{style:{color:"#6c757d"},children:"Requested By"}),s.jsx("p",{style:{fontWeight:"bold",margin:"3px 0"},children:P.requestedBy})]}),s.jsxs("div",{children:[s.jsx("small",{style:{color:"#6c757d"},children:"Requested At"}),s.jsx("p",{style:{fontWeight:"bold",margin:"3px 0"},children:new Date(P.requestedAt).toLocaleDateString()})]})]}),P.status==="PENDING"&&s.jsx("button",{onClick:()=>f(P),style:{padding:"8px 12px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Review & Decide"}),P.status!=="PENDING"&&s.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e9ecef",borderRadius:"4px"},children:[s.jsxs("small",{style:{color:"#6c757d"},children:[s.jsx("strong",{children:"Decision:"})," ",P.status," by ",P.approvedBy," on"," ",P.approvedAt?new Date(P.approvedAt).toLocaleString():"N/A"]}),P.decisionNotes&&s.jsxs("p",{style:{margin:"5px 0",color:"#495057"},children:[s.jsx("strong",{children:"Notes:"})," ",P.decisionNotes]})]})]},P.id))}),d&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>f(null),children:s.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",maxWidth:"500px",width:"90%",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},onClick:P=>P.stopPropagation(),children:[s.jsx("h4",{style:{marginBottom:"15px"},children:"Review Approval Request"}),s.jsxs("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[s.jsxs("small",{style:{color:"#6c757d"},children:[s.jsx("strong",{children:d.materialName})," (",d.materialSku,")"]}),s.jsxs("p",{style:{margin:"5px 0",fontWeight:"bold"},children:[d.quantity," units • ",d.estimatedCost.toFixed(2)," KWD"]})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Decision Notes"}),s.jsx("textarea",{value:m,onChange:P=>g(P.target.value),style:{width:"100%",padding:"8px",border:"1px solid #dee2e6",borderRadius:"4px",boxSizing:"border-box",minHeight:"80px"},placeholder:"Enter approval or rejection notes..."})]}),s.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>f(null),style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),s.jsx("button",{onClick:()=>S(d.id),style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Reject"}),s.jsx("button",{onClick:()=>N(d.id),style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Approve"})]})]})})]})},Qoe=I.createContext(void 0),ele=({children:e})=>{const[t,r]=I.useState([]),[n,i]=I.useState(!0),a=async()=>{try{const A=localStorage.getItem("authToken");if(!A){r([]),i(!1);return}const N=await Mr.get("/api/permissions/my-permissions",{headers:{Authorization:`Bearer ${A}`}});N.data.success&&r(N.data.data.permissions)}catch(A){console.error("Failed to fetch permissions:",A),r([])}finally{i(!1)}};I.useEffect(()=>{a()},[]);const o=(A,N)=>t.some(S=>S.resource===A&&S.action===N),c=A=>o(A,"VIEW"),d=A=>o(A,"CREATE"),f=A=>o(A,"EDIT"),m=A=>o(A,"DELETE"),g=A=>o(A,"APPROVE"),b=A=>o(A,"EXPORT"),y=A=>o(A,"MANAGE"),w=async()=>{i(!0),await a()};return s.jsx(Qoe.Provider,{value:{permissions:t,loading:n,hasPermission:o,canView:c,canCreate:d,canEdit:f,canDelete:m,canApprove:g,canExport:b,canManage:y,refreshPermissions:w},children:e})},Oi=({children:e,allowedRoles:t=[],redirectTo:r="/scanner"})=>{const n=localStorage.getItem("user");if(!n)return s.jsx(Cd,{to:"/login",replace:!0});try{const a=JSON.parse(n).role;return t.length===0?s.jsx(s.Fragment,{children:e}):t.includes(a)?s.jsx(s.Fragment,{children:e}):s.jsx(Cd,{to:r,replace:!0})}catch{return localStorage.removeItem("authToken"),localStorage.removeItem("user"),s.jsx(Cd,{to:"/login",replace:!0})}};function tle(){const[e,t]=I.useState(!1),[r,n]=I.useState(!0);return I.useEffect(()=>{(()=>{const a=vI(),o=localStorage.getItem("user");if(a&&o)try{JSON.parse(o),t(!0)}catch{localStorage.removeItem("authToken"),localStorage.removeItem("user"),t(!1)}else t(!1);n(!1)})()},[]),r?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):s.jsx(ele,{children:s.jsx(zL,{children:s.jsxs(DL,{children:[s.jsx(hn,{path:"/login",element:s.jsx(are,{})}),s.jsxs(hn,{path:"/",element:e?s.jsx(fB,{}):s.jsx(Cd,{to:"/login",replace:!0}),children:[s.jsx(hn,{index:!0,element:s.jsx(Cd,{to:"/dashboard",replace:!0})}),s.jsx(hn,{path:"dashboard",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(BJ,{})})}),s.jsx(hn,{path:"shipments",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(dte,{})})}),s.jsx(hn,{path:"racks",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(mte,{})})}),s.jsx(hn,{path:"moving-jobs",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(xte,{})})}),s.jsx(hn,{path:"jobs-management",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(Koe,{})})}),s.jsx(hn,{path:"materials-management",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(Xoe,{})})}),s.jsx(hn,{path:"job-reports",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(Yoe,{})})}),s.jsx(hn,{path:"plugin-system",element:s.jsx(Oi,{allowedRoles:["ADMIN"],children:s.jsx(Zoe,{})})}),s.jsx(hn,{path:"approvals",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(Joe,{})})}),s.jsx(hn,{path:"invoices",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(sre,{})})}),s.jsx(hn,{path:"invoices/:id",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(Fae,{})})}),s.jsx(hn,{path:"expenses",element:s.jsx(Oi,{allowedRoles:["ADMIN","MANAGER"],children:s.jsx(zae,{})})}),s.jsx(hn,{path:"settings",element:s.jsx(Oi,{allowedRoles:["ADMIN"],children:s.jsx(Pte,{})})}),s.jsx(hn,{path:"settings/templates",element:s.jsx(Oi,{allowedRoles:["ADMIN"],children:s.jsx($ae,{})})}),s.jsx(hn,{path:"admin/roles",element:s.jsx(Oi,{allowedRoles:["ADMIN"],children:s.jsx(Goe,{})})}),s.jsx(hn,{path:"scanner",element:s.jsx(ire,{})}),s.jsx(hn,{path:"profile",element:s.jsx(qoe,{})}),s.jsx(hn,{path:"my-jobs",element:s.jsx(Oi,{allowedRoles:["WORKER"],children:s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Jobs"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Your assigned moving jobs will appear here"})]})})}),s.jsx(hn,{path:"my-tasks",element:s.jsx(Oi,{allowedRoles:["WORKER"],children:s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Tasks"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Your current tasks and assignments"})]})})})]}),s.jsx(hn,{path:"*",element:s.jsx(Cd,{to:"/scanner",replace:!0})})]})})})}const rle=ry.createRoot(document.getElementById("root"));rle.render(s.jsx(Dn.StrictMode,{children:s.jsx(tle,{})}));export{Lr as _,Sf as c,Oo as g};
